<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>017F (Fetch Unsuccessful) in Flexing F4102.STKT for Nonstock Item in R42800</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: "Segoe UI", Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
        .kmnotebox {
        background-color: #FFFFE0;
        border-left: 10px;
        /*border-style: dotted;*/
      }

      .kmcodeblock {
        background-color: #B0E0E6;
        border-left: 10px;
        /*border-style: dotted;*/
      }

      
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>

      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>017F (Fetch Unsuccessful) in Flexing F4102.STKT for Nonstock Item in R42800</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<h4>Table of Contents</h4>
<ul>
  <li><a href="#q1">Why R42800 (Sales Update) writes work center error - Fetch Unsuccessful (Error Code 017F)?</a></li>
  <li><a href="#q2">What is the usage of FC Adjustment Name in [Flex Rule Definition] P40296|W40296C? Can this setting allows the system to skip Flex routine not to hit the error 017F?</a></li>
</ul>

<p> </p>
<p> </p>
<h3><a name="q1"></a>Q1&gt; Why R42800 (Sales Update) writes work center error message as below,</h3>
<p>       <strong>Fetch Unsuccessful (Error Code 017F)</strong></span></p>
<p>       even when it contains error above, a user is able to post sales records without having any problem.  </span></p>
<p><strong>Business case 1:</strong> <br /> </span></p>
<p>To represent better cost of inventory, same item can have two different stocking type as below, </span></p>
<table style="border-collapse: collapse; width: 586px; height: 78px;" border="1" cellspacing="1" cellpadding="1"><colgroup><col style="width: 67pt;" span="2" width="89" /><col style="width: 100pt;" width="133" /><col style="width: 74pt;" width="98" /><col style="width: 53pt;" width="70" /><col style="width: 68pt;" span="2" width="90" /></colgroup>
<tbody>
<tr style="height: 15pt;">
<td class="xl64" style="height: 15pt; width: 67pt; color: white; background-color: #3366ff; font-weight: bold; text-align: center;">Branch/Plant</span></td>
<td class="xl64" style="width: 67pt; color: white; background-color: #3366ff; font-weight: bold; text-align: center;" width="89">Item Number</span></td>
<td class="xl64" style="width: 100pt; color: white; background-color: #3366ff; font-weight: bold; text-align: center;" width="133">Description</span></td>
<td class="xl64" style="width: 74pt; color: white; background-color: #3366ff; font-weight: bold; text-align: center;" width="98">Stocking Type</span></td>
<td class="xl64" style="width: 53pt; color: white; background-color: #3366ff; font-weight: bold; text-align: center;" width="70">Line Type</span></td>
<td class="xl64" style="width: 68pt; color: white; background-color: #3366ff; font-weight: bold; text-align: center;" width="90">G/L Class</span></td>
<td class="xl64" style="width: 68pt; color: white; background-color: #3366ff; font-weight: bold; text-align: center;" width="90">Sales Code 2</span></td>
</tr>
<tr style="height: 15pt;">
<td class="xl63" style="height: 15pt;" height="20">          30</span></td>
<td class="xl63">ItemA</span></td>
<td class="xl63">Description01</span></td>
<td class="xl63">P</span></td>
<td class="xl63">S</span></td>
<td class="xl63">IN30</span></td>
<td class="xl63"> </span></td>
</tr>
<tr style="height: 15pt;">
<td class="xl63" style="height: 15pt;" height="20">         M30</span></td>
<td class="xl63">ItemA</span></td>
<td class="xl63">Description01</span></td>
<td class="xl63">M</span></td>
<td class="xl63">S</span></td>
<td class="xl63">IN30</span></td>
<td class="xl63"> </span></td>
</tr>
</tbody>
</table>
<p>Depending on the Branch/plant, the Subledger has to be P or M which is the stocking type of Item Branch File (F4102).</span></p>
<p>To meet this expectation,</span></p>
<ul>
<li>AAI Table Number: 4230 (Revenue/Sales)</span></li>
<li>Company: 00200 and 00001</span></li>
<li>Document Type: SO (Sales Order)</span></li>
</ul>
<p><span style="text-decoration: underline;"><strong>DMAAI (F4095)</span></strong></span></p>
<table style="border-collapse: collapse; width: 633px; height: 52px;" border="1" cellspacing="1" cellpadding="1"><colgroup><col style="width: 32pt;" width="42" /> <col style="width: 32pt;" width="43" /> <col style="width: 59pt;" width="78" /> <col style="width: 41pt;" width="54" /> <col style="width: 147pt;" width="196" /> <col style="width: 67pt;" width="89" /> <col style="width: 45pt;" width="60" /> <col style="width: 24pt;" width="32" /></colgroup>
<tbody>
<tr style="height: 15pt;">
<td class="xl64" style="height: 15pt; width: 32pt; background-color: #999999; color: white;" width="42" height="20">Co</span></td>
<td class="xl64" style="width: 32pt; background-color: #999999; color: white;" width="43">Do Ty</span></td>
<td class="xl64" style="width: 59pt; background-color: #999999; color: white;">Description</span></td>
<td class="xl64" style="width: 41pt; background-color: #999999; color: white;" width="54">G/L Cat</span></td>
<td class="xl64" style="width: 147pt; background-color: #999999; color: white;" width="196">Description G/L</span></td>
<td class="xl64" style="width: 67pt; background-color: #999999; color: white;" width="89">Branch Plant</span></td>
<td class="xl64" style="width: 45pt; background-color: #999999; color: white;" width="60">Obj Acct</span></td>
<td class="xl64" style="width: 24pt; background-color: #999999; color: white;" width="32">Sub</span></td>
</tr>
<tr style="height: 15pt;">
<td class="xl63" style="height: 15pt;" height="20">00200</span></td>
<td class="xl63">SO</span></td>
<td class="xl63">Sales Order</span></td>
<td class="xl63">IN30</span></td>
<td class="xl63">Manufactured Finished Goods</span></td>
<td class="xl63"> </span></td>
<td class="xl63">5015</span></td>
<td class="xl63"> </span></td>
</tr>
</tbody>
</table>
<p style="font-size: small;"><span style="text-decoration: underline;"><strong>Flex Settings (F4096)</span></strong></span></p>
<table style="border-collapse: collapse; width: 722px; height: 85px;" border="1" cellspacing="1" cellpadding="1"><colgroup><col style="width: 24pt;" width="32" /><col style="width: 69pt;" width="92" /><col style="width: 56pt;" width="74" /><col style="width: 55pt;" width="73" /><col style="width: 26pt;" width="35" /><col style="width: 59pt;" width="79" /><col style="width: 52pt;" width="69" /><col style="width: 54pt;" width="72" /><col style="width: 23pt;" width="31" /><col style="width: 102pt;" width="136" /><col style="width: 51pt;" width="68" /><col style="width: 53pt;" width="71" /></colgroup>
<tbody>
<tr style="height: 15pt;">
<td class="xl64" style="height: 15pt; width: 24pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="32" height="20">Seq</span></td>
<td class="xl64" style="width: 69pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="92">Business Unit</span></td>
<td class="xl64" style="width: 56pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="74">Subsidiary</span></td>
<td class="xl64" style="width: 55pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;">Subledger</span></td>
<td class="xl64" style="width: 26pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="35">Item</span></td>
<td class="xl64" style="width: 59pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="79">Cost Object</span></td>
<td class="xl64" style="width: 52pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="69">Cost Type</span></td>
<td class="xl64" style="width: 54pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="72">File Name</span></td>
<td class="xl64" style="width: 23pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="31">Len</span></td>
<td class="xl64" style="width: 102pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="136">Description</span></td>
<td class="xl64" style="width: 51pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="68">Data Item</span></td>
<td class="xl64" style="width: 53pt; color: white; background-color: #3366ff; text-align: center; font-weight: bold;" width="71">Data Type</span></td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt;" align="right" height="20">1</span></td>
<td class="xl63"> </span></td>
<td class="xl63"> </span></td>
<td class="xl63"> </span></td>
<td class="xl63">X</span></td>
<td class="xl63"> </span></td>
<td class="xl63"> </span></td>
<td class="xl63">F4101</span></td>
<td align="right">8</span></td>
<td class="xl63">Item Number - Short</span></td>
<td class="xl63">ITM</span></td>
<td class="xl63"> </span></td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt;" align="right" height="20">2</span></td>
<td class="xl63"> </span></td>
<td class="xl63"> </span></td>
<td class="xl63"> X</span></td>
<td class="xl63"> </span></td>
<td class="xl63"> </td>
<td class="xl63"> </td>
<td class="xl63">F4102</span></td>
<td align="right">1</span></td>
<td class="xl63">Stocking Type</span></td>
<td class="xl63">STKT</span></td>
<td class="xl63"> </span></td>
</tr>
</tbody>
</table>
<p>Since the stocking type in F4101 (Item Master) can be only a single value so the stocking type is only option to record it. Plus, F4211 (Sales Order Detail File) does not contain the stocking type (STKT) in it. </span></p>

<h3>Answer1:</h3>
<p>You can ignore the error message in work center (F01131M) because, </span><br />- The flex routine resolves DMAAI (F4095) first so the MCU, OBJ, SUB at this level is valid</span><br />- The flex settings (F4096) is a subset of F4095</span><br />- Hence, F0911.SUB will be remained blank for non-stock item (flex did not take effect).</span></p>
<p>R42800 - Sales Update (this batch is calling the wrapper function GetSalesAAIsAndCallF0911EditLine which gets/sets account then call G/L master function)<br /></span></p>
<p>---| 1. GetSalesAAIsAndCallF0911EditLine</span><br />------| 2. RetrieveDistributionAAICacheDB</span><br />---------| 3. RetrieveDistAAIwF4095Cache</span><br />------------| 4. RetrieveF4095Cache</span><br />-----------------| 4. BuildFlexibleAccountwithCache</span><br />---------------| 5. RetrieveF4096Cache</span><br />---------------| 5. ProcessFlexSalesAcctngCache</span><br />---------------| 5. GetTableColValue   *** this has to be called as many times as the number of row from F4096 </span><br />---------------| 5. RetrieveF4096Cache</span><br />---------------| 5. GetTableColValue</span><br />------------------| ERROR INFO JDEERR - ID= 0, Error= <strong>017F</strong> - b4002420.c, Line= 913</span></p>
<p>------| 2. F0911FSEditLine Mar</span></p>
<p><br />Meanwhile, the error 071F (Fetch Unsuccessful) is working as designed because Flex account routine is looking for data from F4102.STKT for non-stock item.</span><br /> </span>
<p> </p>




<h3><a name="q2"></a>Q2&gt; What is the usage of FC Adjustment Name in [Flex Rule Definition] P40296|W40296C? Can this setting allows the system to skip Flex routine not to hit the error 017F?</h3>
<p> </p>
<p> </p>
<p> </p>


<!-- ======================================== Body Starts Here =================================== -->

<h3>Answer2:</h3>


<p>The Adjustment Name control is available only for DMAAI 4270 and 4280 which are meant for Price History (F4074). This control enables you not to flex a certain lines of sales order because it looks for exact matching records based on F4074. However this can't be used for DMAAI 4220, 4230, and 4240.</span><br /> </span></p>
<p>To be implemented by end of March 2018 including how adjustment lines working during flex routine.</span></p>


<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
