<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Preference Hierarchy Functionality for Advanced Pricing (P40073, P4074, P4071, P4072)</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: "Segoe UI", Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
        .kmnotebox {
        background-color: #FFFFE0;
        border-left: 10px;
        /*border-style: dotted;*/
      }

      .kmcodeblock {
        background-color: #B0E0E6;
        border-left: 10px;
        margin-left: 2%;
        /*border-style: dotted;*/
      }

      
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>

      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Preference Hierarchy Functionality for Advanced Pricing (P40073, P4074, P4071, P4072)</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<table><tr><td width='0'></td><td><A HREF="#PURPOSE">Purpose</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#SCOPE">Scope</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#BODYTEXT">Details</A></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section31"><strong>Setup</strong></a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section32">Price Adjustment Definition (P4071)</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section33">Price Adjustment Detail Revisions (P4072)</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section34"><strong>Advanced Pricing Process Flow</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section35"><strong>Examples</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section36"><strong>Frequently Asked Questions</strong></a></td></tr></table>
<hr size=1><p>


<H2 class=km><A NAME="PURPOSE"></A>Purpose</H2>
<p><span style="font-size: medium;"><strong>Overview</strong></span></p>
<p>The Preference Hierarchy (P40073) is part of the mandatory set up in order for Advanced Pricing to work. Customers must determine their hierarchy and understand that the Preference Hierarchy program (P40073) is used by the system to search and apply the Price to an order either within the Price History (P4074) or directly to the detail line (Order level adjustments).</p>
<p>The Preference Hierarchy is designed to work from most specific to most general when doing a search for a price adjustment.</p>
<p><img src="../images/ph01.png" border="1" height="320" width="420" alt="main screen" title="main screen" hspace="0" vspace="0"/></p>
<p>In this example, a simple, 4-level hierarchy might indicate &ldquo;First search the details that match both the customer and item number specifically. If no adjustment is found, then search the details that use Customer Group and Item number&rdquo; If any adjustments exist for the Customer Group/Item then the system will stop and apply the adjustment that has been found and no further search will occur.</p>
<p>Note: The user can enter up to 21 hierarchies however; Oracle recommends limiting the use to 3 to 4 hierarchies for better performance per adjustment. The more hierarchies found within the Preference Hierarchy program, the longer the system will take to find and return the adjustments to the order.</p>
<H2 class=km><A NAME="SCOPE"></A>Scope</H2>
<p>Advanced pricing uses the Preference Hierarchy to locate which adjustments need to be applied. Note this same program works for Base price and Advanced Preferences and functions exactly the same. This feature is available in all EnterpriseOne releases for both Sales and Procurement.</p>
<H2 class=km><A NAME="BODYTEXT"></A>Details</H2>
<a name="aref_section31"></a><h3 class="km"><strong>Setup</strong></h3>
<p>The user can find the Preference Hierarchy in the Advanced Pricing Menu G4231112. <br /> The user can create a new Preference Hierarchy, or use an existing Preference Hierarchy.  <br /> Note:  In 8.12 and higher releases; the user has the ability to create the Preference Hierarchy on the fly-meaning the user does not need to create the Preference type UDC 40/PR prior to the add function.  Prior to 8.12; the user should first create the Preference type in the UDC 40/PR then create the hierarchy.  Upon creating this in the UDC the Special Handling Code should be left blank.  A value of &lsquo;1&rsquo; will result in the hierarchy being available for Advanced Preferences, not Advanced Pricing Adjustments.  <br /> This example is during Add mode:<br /> <br /> <img src="../images/ph02.png" border="1" alt="Preference Hierarchu Setup Screen" title="Preference Hierarchu Setup Screen" hspace="0" vspace="0"/><br />  <br /> Click OK and a new screen will appear:<br /> <br /> <img src="../images/ph03.png" border="1" alt="Preference Hierarchu Setup Screen1" title="Preference Hierarchu Setup Screen1" hspace="0" vspace="0"/><br />  </p>
<ul>
<li>The Description is a free text field and is required.</li>
<li>The Preference Classification should always be AP for Advanced Pricing.  If this is something other than AP then it will not be used by Advanced Pricing but can be used by other program such as Base Price (P4106) or Advanced Preferences.</li>
<li>Sequence number can be left blank or have a value of &lsquo;1&rsquo;.  </li>
<li>Enable Effective dates should be activated.  Pricing works off of dates, in order for this hierarchy to be effective for Advanced Pricing this box needs to be activated.</li>
<li>Enable Effective Quantity is not used for Advanced Pricing so do not activate this function.</li>
</ul>
<a name="aref_section32"></a><h4 class="km">Price Adjustment Definition (P4071)</h4>
<p>The Price adjustment Definition is where the user will add the Preference Hierarchy they created into the Preference Hierarchy field.<br /> <br /> <img src="../images/ph04.png" border="1" alt="Adjustment Definition Screen" title="Adjustment Definition Screen" hspace="0" vspace="0"/><br />  <br /> The user also has the ability to view/change the hierarchy within this form, by going to the Form exit and selecting Preference Hierarchy:<br />  <br /> <img src="../images/ph05.png" border="1" alt="Adjustment Definitoon screen hierarchy" title="Adjustment Definitoon screen hierarchy" hspace="0" vspace="0"/></p>
<p><img src="../images/ph06.png" border="1" alt="Adjustment Definitoon screen hierarchy1" title="Adjustment Definitoon screen hierarchy1" hspace="0" vspace="0"/><br /> <br /> Note the system located the Hierarchy &lsquo;NS&rsquo; because the value is being pulled in from the Adjustment Definition. If the user wishes to view all available Hierarchies then the Preference Hierarchy within the Adjustment Definition must remain blank and the system will display the UDC 40/PR.  Note: When the system displays all available Hierarchies via this method it will display all hierarchies, including base price hierarchy and advanced preference hierarchies.  The user should know which hierarchy they wish to locate that is related to Advanced Pricing before doing this search.<br /> <br /> In this Hierarchy example:  The system will first search by ship-to/item number and if no adjustment is found then it will search by sold-to/item group and continue searching until a detail adjustment has been located. If none of the hierarchy levels have an available adjustment no adjustment price will be applied to the order within the Price History (P4074).  <br /> <br />For further information on setting up an Item or Customer group, see <a href="../docs/625578.html" target="_blank">Complex Groups in Advanced Pricing (P4092/P4093W/R40932/P4071/P4072/P4073)</a></p>
<a name="aref_section33"></a><h4 class="km">Price Adjustment Detail Revisions (P4072)</h4>
<p>After adding the Adjustment Definition (P4071), the user will create the Adjustment Details (P4072). <br /> <br /> On Work with Adjustment Detail, enter the Adjustment Name and click Add. The first screen that is displayed is pulling from the Hierarchy type that was applied to the Adjustment Definition (Name).<br /> <br /> <img src="../images/ph07.png" border="1" alt="Adjustment Definition Detail" title="Adjustment Definition Detail" hspace="0" vspace="0"/><br />  <br /> <br /> Here the user needs to be aware which selection belongs to the ship-to or sold-to.  Remember in the &lsquo;NS&rsquo; example above, the first selection item/customer the customer is the ship-to not the sold-to.  This is not displayed in this screen so if the user selects the first selection and adds a sold-to number by item the system will not locate this detail if the sold-to (AN8) and ship-to (SHAN) are different values. <br /> <br /> In this example there are two detail adjustments.  The first detail adjustment is by item group and customer (sold-to 4242) and the second detail adjustment is by item (210) and customer (ship-to 4343).  <br /> <br /><img src="../images/ph08.png" border="1" alt="Adjustment Detail Screen1" title="Adjustment Detail Screen1" hspace="0" vspace="0"/> <br /> <br /> Remember that each adjustment detail belongs only to one hierarchy level of one adjustment.  The user will not be able to enter multiple detail adjustments within the same detail; they have to create a separate adjustment detail for different hierarchy levels. <br /> <br /> Note: The user must attach the adjustment definition to a schedule in order to have pricing pulled in.</p>
<hr />
<a name="aref_section34"></a><h3 class="km"><strong>Advanced Pricing Process Flow</strong></h3>
<p><img src="../images/ph09.png" border="1" alt="process flow" title="process flow" hspace="0" vspace="0"/><br />  </p>
<hr />
<a name="aref_section35"></a><h3 class="km"><strong>Examples</strong></h3>
<p>Example 1<br /> <strong>Assumptions  </strong> </p>
<ul>
<li>Adjustments in this example are from the previous section.</li>
<li>User enters a sold-to (4242) and ship-to (4343) for item specific 210.</li>
<li>Expected result is:  the adjustment detail for 2.5% to be applied to the order and stop.  No other detail should be applied<br /><br /></li>
</ul>
<p><img src="../images/ph10.png" border="1" alt="Sales Order screen1" title="Sales Order screen1" hspace="0" vspace="0"/> <br /> <br /> Price History<br /> <br /><img src="../images/ph11.png" border="1" alt="Price History Screen1" title="Price History Screen1" hspace="0" vspace="0"/><br />  <br /> This is correct because the system found the first hierarchy of ship-to/item number and applied that discount.</p>
<p class="km">Example 2</p>
<p><strong>Assumptions</strong>  </p>
<ul>
<li>Adjustments in this example are from the previous section.</li>
<li>User enters a sold-to (4242) and ship-to (4242) for item specific 210.</li>
<li>Expected result is:  no adjustment detail is found because these sequences of events are not part of the hierarchy nor is there an existing adjustment detail.</li>
</ul>
<p> <br /> <img src="../images/ph12.png" border="1" alt="Sales Order screen2" title="Sales Order screen2" hspace="0" vspace="0"/><br /> <br /> Price History<br />  <br /> <img src="../images/ph13.png" border="1" alt="Price History Screen2" title="Price History Screen2" hspace="0" vspace="0"/></p>
<hr />
<a name="aref_section36"></a><h3 class="km"><strong>Frequently Asked Questions</strong></h3>
<p><strong>Question 1:</strong>  What if a user removes one of the hierarchy levels and leaves the adjustment detail for that hierarchy level within the Adjustment details (P4072)?  Will the adjustment still apply to the sales order?<br /> <br /> <strong>Answer 1:</strong> No, once the user removes the hierarchy level and the system cache is refreshed (log out and back into the system), the adjustment detail will no longer be found.</p>
<hr />
<p><strong>Question 2:</strong>  Is it possible to have the system hit more than one hierarchy level for adjustments?  In other words we would like more than one detail from that adjustment to be applied.<br /> <br /> <strong>Answer 2:</strong> Since the hierarchy is designed to hit one level and stop, the only workaround is to create multiple adjustment definitions with the same Hierarchy type.  Attach these definitions to the Adjustment Schedule and more than one adjustment detail level can be applied.</p>
<hr />
<p><strong>Question 3: </strong>Does the hierarchy affect all adjustment types?  Basket, order, volume etc..<br /> <br /> <strong>Answer 3:</strong>  Yes this is standard functionality for all adjustment types.  The user will not be able to create an Adjustment Definition (P4071) without a hierarchy being attached.  If the user tries to save the adjustment definition without a hierarchy the user will get a hard error.  Error 0003 &lsquo;Blanks Invalid&rsquo; and the Hierarchy Type field will be in red.  The user must attach a hierarchy in order to save the adjustment definition. <br />  <br />  <img src="../images/ph14.png" border="1" alt="Error screen" title="Error screen" hspace="0" vspace="0"/></p>
<hr />
<p><strong>Question 4</strong>: Are we able to change a number of adjustments, changing the adjustment hierarchy.  What is the impact of such a change? Are there any concerns?</p>
<p><strong>Answer 4:  </strong>You can change the adjustment hierarchy. We do recommend testing your process in a test environment with multiple orders to verify the results you receive are the desired results. Then, the changes can be made in the production environment. The Update Sales Price / Cost / Exchange Rate can be run to update the price on orders. See our knowledge document <a href="../docs/625619.html" alt="625619.1" title="625619.1" target="_blank">Update Sales Price / Cost / Exchange Rate (R42950)</a>.</p>
<hr />
<p> </p>






<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
