<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Troubleshooting GL Bank Account Set Up (P0030G)</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: "Segoe UI", Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
        .kmnotebox {
        background-color: #FFFFE0;
        border-left: 10px;
        /*border-style: dotted;*/
      }

      .kmcodeblock {
        background-color: #B0E0E6;
        border-left: 10px;
        margin-left: 2%;
        /*border-style: dotted;*/
      }

      
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>

      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Troubleshooting GL Bank Account Set Up (P0030G)</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<table><tr><td width='0'></td><td><A HREF="#PURPOSE">Purpose</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#TRBLSHOOT">Troubleshooting Steps</A></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section21"><strong>GL Bank Account Set Up (P0030G)</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section22"><strong>Set Up AAI Default for GL Bank Account</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section23"><strong>How To Set Up Multiple GL Bank Accounts</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section24"><strong>How to Change a Default GL Bank Account</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section25"><strong>Troubleshooting Error(s)</strong></a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section26"><strong> Error: "Unique Key Error"</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section27"><strong>Frequently Asked Questions</strong></a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section28"><strong>Question 1:</strong> &nbsp;Although the&nbsp;record reservation for the F0030 table is turned on in UDC 00/RR, why does the&nbsp;Record Reservation function&nbsp;not work on P0030A?</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section29"><strong>Question 2:</strong> &nbsp;On what programs does this function work when the record reservation for the F0030 table is turned on?</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section210"><strong>Question 3:</strong>&nbsp;Is it possible to set up different GL Bank Accounts based on Payment Instrument?&nbsp;</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section211"><strong>Question 4:</strong> Is there a way to upload bank information in the bank transit master file (F0030) for existing supplier master records?</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section212"><strong>Question 5:</strong> Is it okay if I delete the old/closed Bank Account information (P0030G)?</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section213"><strong>Question 6:</strong> Is it possible to create vouchers with a bank account that is in a company that has a different currency code as the company for which the voucher is being entered?</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section214"><strong>Payment Setup KM References</strong></a></td></tr></table>

<hr size=1><p>


<H2 class=km><A NAME="PURPOSE"></A>Purpose</H2>
<p>This document help troubleshoot GL Bank Account (P0030G) setup and/or errors. &nbsp;</p>
<H2 class=km><A NAME="TRBLSHOOT"></A>Troubleshooting Steps</H2><p>
<a name="aref_section21"></a><h3 class="km"><strong>GL Bank Account Set Up (P0030G)</strong></h3>
<p>The AP GL Bank Account is the account the system uses when generating payments. The account must exist in the Account Master (F0901) before it can be defined in Work with GL Bank Accounts (P0030G). After adding the account in Work with Accounts (P0901), go to the Automatic Payment Setup (G04411) menu and select Bank Account Information (P0030G) and click Add.<br /> <br /> <img src="../images/bank01.png" border="0" alt="p0030g1a" title="p0030g1a" hspace="0" vspace="0" /></p>
<div class="kmnotebox">Note - Currency Code (CRCD) field seen in F0030 is for future use and there are no current applications that populate it at this time.</div>
<p><br />In this first form, the following fields are available:</p>
<ul>
<li>Description (data dictionary item DL01) - a user-defined code that helps users identifying the bank account.</li>
<li>Next Payment Number (data dictionary item&nbsp;NXTC) - the number of the next check to be issued from this account. This number is increased by one every time you write a check from that specific bank account.</li>
<li>Next Automatic Debit Number (data dictionary item NXTA) - the number of the next automatic debit to be issued from this account. This number is increased by one every time an automatic debit is processed.</li>
<li>The Number of Alignment Forms (data dictionary item&nbsp;ALGN) - the number of checks needed to align the first printed check for each check run (for example when using a matrix printer). The alignment forms will not be processed as checks. Instead, alignment forms are used to align the start of the actual check run.</li>
<li>The Detail Lines Per Stub (data dictionary item&nbsp;SDTL) - the number of detail lines that appear on the check stubs. The standard check print programs print a maximum of ten lines of detail on the check stub. The number of detail lines can be changed if needed. If the number is set to higher than 10 it will be considered a customization of the software and any issue caused by that change will not be supported by Global Customer Support.</li>
</ul>
<div class="kmnotebox">Note: When adding a new G/L Bank Account, the system pulls a Unique Key ID (UKID) for the record using what is set up in Next Unique Number (P00022) for Table Name (OBNM).&nbsp; If a "Fetch from table F00022 failed" error is issued when trying to add a new bank account, verify that the highest Unique Key ID in the Bank Transit Master (F0030) is lower than the number set up in Next Unique Number (P00022).</div>
<p>From the Set Up GL Bank Account (W0030GB) screen, use the Bank Info option from the Form Exit to open the Revise Bank Information (W0030GC) screen.<br /> <br /> <img src="../images/bank02.png" border="0" alt="p0030g1b" title="p0030g1b" hspace="0" vspace="0" /></p>
<p><img src="../images/bank03.png" border="0" alt="p0030g1c" title="p0030g1c" hspace="0" vspace="0" /><br /> <br /> The following fields are accessible through the Revise Bank Information (W0030GC) form:</p>
<ul>
<li>Bank Transit Number (data dictionary item TNST) - the number assigned to a particular bank by the Federal Reserve to facilitate the clearing of funds.</li>
<li>Bank Account Number (data dictionary CBNK) - the number assigned by the bank to identify the account for a company.</li>
<li>Control Digit (data dictionary item CHKD) - a number that represents a check digit for a bank account number. This field is optional.</li>
<li>IBAN (data dictionary item IBAN) - a number used for European accounts only.</li>
<li>SWIFT Code (data dictionary item SWFT) - used for international money transfers.</li>
<li>Bank Country Code (data dictionary item CTR) - used for International money transfers.</li>
<li>Float Days for Receivables (data dictionary item FLR) - number of days the system uses to determine the GL Date for Journal Entries in A/R Draft Processing.</li>
<li>Float Days for Payables (data dictionary item FLP) - number of days the system uses to calculate the Cleared Date.</li>
<li>Override Supplier Pre-Note Code (data dictionary item ADPI)&nbsp; is used for Electronic Fund Transfers (EFT)From the Set Up GL Bank Account (W0030GB) screen, use the BACS Info option from the Form exit to access the Revise BACS Information (W0030GD) screen, which is used for payments in the United Kingdom.</li>
</ul>
<p><img src="../images/bank04.png" border="0" alt="p0030g1d" title="p0030g1d" hspace="0" vspace="0" /></p>
<p>&nbsp;</p>
<div class="kmnotebox">Note - Currency Code (CRCD) field is for future use and there are no current applications that populate it at this time.</div>
<p>&nbsp;</p>
<a name="aref_section22"></a><h3 class="km"><strong>Set Up AAI Default for GL Bank Account</strong></h3>
<p>Automatic Accounting Instructions (AAIs) are used to determine the default GL Bank Account used for new vouchers. The default Accounts Payable GL Bank Account is determined by AAI item PB.&nbsp;</p>
<a name="aref_section23"></a><h3 class="km"><strong>How To Set Up Multiple GL Bank Accounts</strong></h3>
<p>If you need to create multiple GL Bank Accounts to separate check runs by supplier, see the below instructions:</p>
<ol>
<li>In the supplier master, input a GL class code in the GL Class field.</li>
<li>Set up the&nbsp;new bank account number in the Revise Single Account application (P0901).</li>
<li>Set up the bank account information in the Bank Account Information screen (P0030G). Remember to take the Form exit bar to Bank Info to enter additional information after the original screen is completed.</li>
<li>Go to the AAI screen (P0012) and create a PC AAI and PB AAI for the new GL class code. For example, if you populated the GL Class field with AAA, you would setup a PCAAA and PBAAA. The PCAAA can be the same as your regular PC AAI (if you only want one AP trade account).</li>
</ol>
<div class="kmnotebox">Note - The system is mainly designed around the use of AAIs.&nbsp; Therefore, using a gl offset will&nbsp; drive the AAIs to pick up the different bank account. To use only one default per Supplier Master, more than one Vendor Master would be needed.&nbsp; Otherwise it is necessary to override the gl offset when entering the voucher if appropriate.&nbsp; Another possibility is to use either bank account as a default (only one) and set up separate versions of the R04570 Create Payment Group where the Bank Account can be overwritten. This would work if it is possible to plan processing by bank account.</div>
<p>&nbsp;</p>
<a name="aref_section24"></a><h3 class="km"><strong>How to Change a Default GL Bank Account</strong></h3>
<p>Before you begin, ensure that there are no payment control groups that are currently in the payment process prior to changing the default bank account. In the Work with Payment Groups application (P04571), populate the Bank Account field with the original bank account number and click Find. If any payments are in process of being paid, it is necessary to either write, update, undo or reset the payments. Once this is complete, to change the default Bank Account information, follow the steps below:</p>
<ol>
<li>Create the new bank account.
<ul>
<li>In Revise Single Account (P0901), create the new bank account in the Account Master Table (F0901). The old bank account can be set to a non-posting status to avoid accidental postings.</li>
</ul>
</li>
<li>Update the PB AAI.</li>
<ul>
<li>Access the Automatic Accounting Instructions (AAIs) using the AAI Revisions application (P0012) or by entering AAI in the Fast Path. Inquire on the PB AAI item. Change the appropriate entries. Entries for multiple companies, the default company (Company 00000), and multiple G/L offsets may require changes.</li>
</ul>
<li>Update the Bank Account Information</li>
<ul>
<li>Add the new bank account in the Bank Account Information program (P0030G). Ensure the Description, Next Payment Number, Number of Alignment Forms and Detail Lines Per Stub fields are populated.</li>
</ul>
<li>Update open vouchers</li>
<ul>
<li>Open vouchers, created when the previous bank account was in effect, will need to be updated with the new bank account information. Use the Speed Status Change program (P0411S) to update this information. If a large number of vouchers need to be changed, the G/L bank account can be overridden in the Create Payment Control Groups program (R04570). In the processing options for R04570, on the Printing tab, enter the short account ID of the new bank account in the G/L Bank Account processing option. Use caution with this approach, however, because this overrides all bank accounts in the Payment Control Group.</li>
</ul>
</ol>
<p>&nbsp;</p>
<hr />
<a name="aref_section25"></a><h3 class="km"><strong>Troubleshooting Error(s)</strong></h3>
<a name="aref_section26"></a><h4 class="km"><strong> Error: "Unique Key Error"</strong></h4>
<p class="km"><strong>Scenario:</strong> Why does G/L Bank Accounts (P0030G) set a "Unique Key Error" when trying to add new GL bank accounts to the Bank Transit Master (F0030) table via P0030G?</p>
<p><strong>Solutoin:</strong> This error is due to the F0030 either missing in the P00022 or the Next Number value for F0030 in P00022 being lower than the highest value for Unique Key ID (UKID) in the F0030. Without a record for the F0030 in the P00022, P0030G will create one record with a blank in the UKID field but then sets the 'Duplicate Key" or "Unique Key" error on any subsequent records that you try to enter.<br /> <br /> To verify and correct this, please do the following:</p>
<ol>
<li>Open Next Unique Key Number (P00022).</li>
<li>Inquire on table F0030(*) on the QBE field for column Table Name (OBNM), and make a note of the current Next Number value.</li>
<li>Open Data Browser and inquire on table F0030.</li>
<li>Check the Unique Key ID field and sort on this field: what is the very last/highest number in this field?</li>
<li>Make sure that the Next Number value in P00022 is at least one number higher than the highest number for the Unique Key ID field in the F0030.</li>
</ol><hr />
<p>&nbsp;</p>
<a name="aref_section27"></a><h3 class="km"><strong>Frequently Asked Questions</strong></h3>
<a name="aref_section28"></a><h4 class="km"><strong>Question 1:</strong> &nbsp;Although the&nbsp;record reservation for the F0030 table is turned on in UDC 00/RR, why does the&nbsp;Record Reservation function&nbsp;not work on P0030A?</h4>
<p><strong>Answer 1: </strong>&nbsp;Adding a table in UDC 00/RR will not reserve any records belonging to that table when performing any action. UDC 00/RR is an option given to the user to enable or disable record reservation on that table, so that if an application's code wants to reserve a record on F0030, it will check if the user has enabled record reservation on that table and will write records to the Record Reservation table (F00095). However the reverse case is not true. &nbsp;Simply adding a record in the UDC table will not add records into the F00095 Records Reservation table&nbsp;when that particular table's records are processed unless there is specific applications logic coded&nbsp; for it.</p>
<hr />
<a name="aref_section29"></a><h4 class="km"><strong>Question 2:</strong> &nbsp;On what programs does this function work when the record reservation for the F0030 table is turned on?</h4>
<p><strong>Answer 2: </strong>&nbsp;There are several programs that contain the logic to add records in F00095 on accessing F0030. One application which commonly reserves the F0030 table is the&nbsp;Check Write Sequencing application (P04572) which is called when&nbsp;writing the check through the Work with Payment Control Groups (P04571).</p>
<hr />
<a name="aref_section210"></a><h4 class="km"><strong>Question 3:</strong>&nbsp;Is it possible to set up different GL Bank Accounts based on Payment Instrument?&nbsp;</h4>
<p><strong>Answer 3: </strong>This functionality is not available in EnterpriseOne. &nbsp;Payment Instruments&nbsp;are used only to specify the Print Programs that are used when writing payments. The GL Bank Account field in Work with Payment Instruments (P0417) is used to further distinguish the Print Programs that should be used for a specific payment. For example, you have vouchers set with a Payment Instrument (PYIN) of S and Bank Account 1, it will look in the F0417 for a Payment Instrument that has this GL Bank Account defined and this Payment Instrument type to determine what print program to use. If no records match, it then searches just for that Payment Instrument. The Bank Account being selected for the&nbsp;Vouchers is determined by the PB AAIs.&nbsp;&nbsp; If you know in advance which Suppliers may be using one Payment Instrument versus another,&nbsp;you can define a GL Offset in the Supplier Master record (P04012)&nbsp;that would then be used by the system to determine which AAI to use, and subsequently, which bank account to use. For example, you could have suppliers with a GL Offset PINS in the Supplier Master and an AAI PBPINS that points to Bank Account #1. That way, when creating vouchers for these suppliers the desired bank account and payment instrument is being used. Then you would define&nbsp;a different GL Offset for Suppliers who will be assigned a different payment instrument (such as PINW). &nbsp;Then have a PBPINW AAI that points to Account #2. Another possibility, is to instruct users to include Speed Status Change (P0411S) in the Payment Process, so using this application they&nbsp;locate vouchers for different payment instruments&nbsp;and adjust the vouchers to the desired Bank Account based on the Payment Instrument.</p>
<hr />
<a name="aref_section211"></a><h4 class="km"><strong>Question 4:</strong> Is there a way to upload bank information in the bank transit master file (F0030) for existing supplier master records?</h4>
<p><strong>Question 4:</strong> There is no standard batch upload program available to upload bank account information. Either the information is entered manually or a custom program can be created to upload the information to the F0030.</p>
<hr />
<a name="aref_section212"></a><h4 class="km"><strong>Question 5:</strong> Is it okay if I delete the old/closed Bank Account information (P0030G)?</h4>
<p><strong>Answer 5:</strong> There are no repercussions involved in deleting an old or closed bank account from the Bank Account Information (P0030G) application as long as there are no open transactions in the system linked to the bank account.</p>
<hr />
<a name="aref_section213"></a><h4 class="km"><strong>Question 6:</strong> Is it possible to create vouchers with a bank account that is in a company that has a different currency code as the company for which the voucher is being entered?</h4>
<p><br /><strong>Answer 6:</strong> Currently the system will not allow the creation of a voucher with a bank account that is in a company that has a different currency code as the company for which the voucher is being entered. And this is even if the bank account is a monetary account with the same currency code as the voucher's transaction currency code. Enhancement request ER 26948527 - ALLOW MULTICURRENCY INTERCOMPANY BANK ACCOUNTS IN P0411 Has been entered requesting this functionality</p>
<p>&nbsp;</p>
<div class="kmnotebox">
<a name="aref_section214"></a><h3 class="km"><strong>Payment Setup KM References</strong></h3>
<p><a href='../docs/2014777.html'>Troubleshooting Payee Control</a><br />
  <a href='../docs/2015701.html'>Troubleshooting Payment Instrument and Print Program Set Up and Errors (P0417)</a><br />
  <a href='../docs/2015705.html'>Troubleshooting GL Bank Account Set Up (P0030G)</a><br />
  <a href='../docs/2015689.html'>Troubleshooting Print Sequence Set Up (P0415)</a><br />
  <a href='../docs/2017047.html'>FAQ - Frequently Asked Questions Regarding Payee Control Within EnterpriseOne Accounts Payable (X0450/P0450)</a></p>
</div>
<p>&nbsp;</p></p>





<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
