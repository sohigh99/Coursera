<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ship Ascending Dates Advanced Lot Preference (R42520/P4205/P4239/P4070/P4071/P4072/P4210/P42101)</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: "Segoe UI", Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
        .kmnotebox {
        background-color: #FFFFE0;
        border-left: 10px;
        /*border-style: dotted;*/
      }

      .kmcodeblock {
        background-color: #B0E0E6;
        border-left: 10px;
        margin-left: 2%;
        /*border-style: dotted;*/
      }

      
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>

      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Ship Ascending Dates Advanced Lot Preference (R42520/P4205/P4239/P4070/P4071/P4072/P4210/P42101)</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<table><tr><td width='0'></td><td><A HREF="#PURPOSE">Purpose</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#BODYTEXT">Details</A></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section21"><strong>Setup</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section22"><strong>Sales Order Entry</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section23"><strong>Print Pick Slips (R42520)</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section24"><strong>Shipment Confirmation (P4205)</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section25"><strong>Example</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section26"><strong>Work with Last Customer Shipment (P4239)</strong></a></td></tr></table>
<hr size=1><p>


<H2 class=km><A NAME="PURPOSE"></A>Purpose</H2>
<p>A product can now be shipped based on Lot Expiration Date, Sell By Date and/or Best Before Date greater than the last shipment. The Ascending Ship Date Rule must be setup for any combination of Customer, Customer Group, Product or Product Group. The ability to view recent shipments to a customer by Last Lot Number, Last Expiration Date, Last Sell By Date and Last Best Before Date shipped makes sure that the customer always gets product that is fresher or newer than what was previously shipped.</p>
<H2 class=km><A NAME="BODYTEXT"></A>Details</H2>
<a name="aref_section21"></a><h3 class="km"><strong>Setup</strong></h3>
<p>Setup a preference name for Advanced Lot (Preference 23) in Advanced Preference Name Revisions (P4071) off menu G40311.<br /><br /><img src="../images/a23001.png" border="1" hspace="0" /><br /><br />Attach the Preference name to the desired Preference Schedule.<br /><br /><img src="../images/a23002.png" border="1" hspace="0" /><br /><br />Create Preference Detail to setup the Ship Ascending Rules. The first screen simply gives information about the customer, customer group, item and/or item group and effective dates.<br /><br /><img src="../images/a23003.png" border="1" hspace="0" /><br /><br />Take the Pref Details row exit to fill in the true detail for this preference. Currently at this time the only supported commitment date methods are expiration date, sell by date, and best before date. The F4239 Last Customer Shipment table was designed to only store the last shipments lot expiration date, sell by date, and best before dates.<br /><br /><img src="../images/a23004.png" border="1" hspace="0" /><br /><br />This will define what dates will be evaluated to make sure that the customer receives a fresher newer item than the one that was shipped to them last. <br /><br />Verify that the Preference Schedule is in the System Constants or it can be attached in the Sales Order Entry (P4210) processing option. Also a new System Constant flag has been added to turn on and off the Ship Ascending processing.<br /><br /><img src="../images/a23005.png" border="1" hspace="0" /><br /><br />A new table, Last Customer Shipment (F4239) has been created to keep track of the last/highest shipment for the Ascending Ship Date Rules.</p>
<hr />
<a name="aref_section22"></a><h3 class="km"><strong>Sales Order Entry</strong></h3>
<p>The Advanced Lot Preference will be resolved at time of Sales Order Entry (P4210) and the Ship Ascending Rules will be stored in the Sales Detail (F49211) table.<br /><br />When manually hard committing a lot, the Ship Ascending edits will be performed comparing dates for the specified lot against the Last Customer Shipment (F4239) table. A processing option was added to:</p>
<ul>
<li>Sales Order Entry</li>
<li>Pick Confirmation Override</li>
<li>Manual Planner</li>
<li>Shipment Confirmation</li>
</ul>
<p>Processing option #15 on the Process tab behind Sales Order Entry (P4210) determines if a warning or error is returned.<br /><br /><img src="../images/a23006.png" border="1" hspace="0" /><br /><br />The Preference processing option #1 must be set to 1 in Sales Order Entry (P4210). This will invoke the preference and will update the Sales Detail (F49211) records and update the UDBBCK, UDCMDM, UDEDCK, and/or UDSBCK fields. Also, the advanced preference schedule can either be specified in processing option #3 or in the system constants:<br /><br /><img src="../images/a23007.png" border="1" hspace="0" /></p>
<hr />
<a name="aref_section23"></a><h3 class="km"><strong>Print Pick Slips (R42520)</strong></h3>
<p>When allocating inventory, the Ascending Rule Check will be performed against each lot that inventory is committed.<br /><br />There is a processing option in the Pick Slip Print (R42520) that can be set to activate the Advanced Lot Preference using the Ship Ascending Date Rule. If Process Tab Option #2 (Preference Commit) = 1 (Use Preferences to Commit) then the preference is activated. <br /><br />When the preference is activated, the Pick Slip Print (R42520) will compare the Lot Quantities Available to the Sales order Quantity and will also compare the Lot Dates on the Lots with Quantities Available to the lot dates of the last lot shipped in the F4239 Last Customer Shipment table for the customer and item. <br /><br />If a lot with later dates than the Last Customer Shipment lot exists with available quantities to satisfy the order, Pick Slip Print (R42520) will pick that lot and ignore any lots with earlier dates. &nbsp;<br /><br />If the only lots containing available quantities have earlier dates than the Last Customer Shipment, Pick Slip Print (R42520) will bypass the older lot and will place the order line on backorder with last status 902 (Backordered in Commitments).<br /><br />In both scenarios, Pick Slip Print (R42520) will process three error messages, "Lot Expiration Date is not in ascending order", "Sell By Date is not in ascending order", and "Best Before Date is not in ascending order". Under no circumstances will the lot with earlier lot dates be selected.</p>
<hr />
<a name="aref_section24"></a><h3 class="km"><strong>Shipment Confirmation (P4205)</strong></h3>
<p>Shipment Confirmation has been changed to perform the Ship Ascending Edit when relieving inventory.&nbsp; This will serve as a second check before inventory is shipped to the customer. Inventory must be relieved at Ship Confirm in order for the Last Customer Shipment (F4239) record to be written. Shipment Confirmation (P4205) will generate the records in the Last Customer Shipment (F4239) table as long as there is a Sales Detail (F49211) record with at least one of the following fields in the Sales Detail (F49211) updated with 1:</p>
<div style="margin-left: 40px;">UDBBCK <br />UDCMDM <br />UDEDCK <br />UDSBCK</div>
<p><br /><em>Note: The Sales Detail (F49211) record was created at order entry time via Sales Order Entry (P4210).</em><br /><br />When items are shipped from multiple Branch/Plants, only one record will be updated/written to the Last Customer Shipment (F4239) table.</p>
<hr />
<a name="aref_section25"></a><h3 class="km"><strong>Example</strong></h3>
<p><strong>Inventory shows:</strong></p>
<table style="text-align: left; width: 361px; height: 81px;" border="1" cellspacing="2" cellpadding="2">
<tbody>
<tr>
<td style="text-align: center; color: white; background-color: red;"><strong>Lot Number</strong></td>
<td style="text-align: center; color: white; background-color: red;"><strong>Expiration Date</strong></td>
</tr>
<tr>
<td>123</td>
<td>4/20/2011</td>
</tr>
<tr>
<td>234</td>
<td>4/25/2011</td>
</tr>
<tr>
<td>345</td>
<td>4/30/2011</td>
</tr>
</tbody>
</table>
<p><br /><strong>Last Customer Shipment (F4239) table for Customer 1 shows:</strong><br /><strong></strong></p>
<table style="text-align: left; width: 361px; height: 56px;" border="1" cellspacing="2" cellpadding="2">
<tbody>
<tr>
<td style="text-align: center; color: white; background-color: red;"><strong>Lot Number</strong></td>
<td style="text-align: center; color: white; background-color: red;"><strong>Expiration Date</strong></td>
</tr>
<tr>
<td>012</td>
<td>4/27/2011</td>
</tr>
</tbody>
</table>
<p><br />The lot that will be allocated for Customer 1 will be 345 with an expiration date greater than 4/27/2011.</p>
<hr />
<a name="aref_section26"></a><h3 class="km"><strong>Work with Last Customer Shipment (P4239)</strong></h3>
<p>The Last Customer Shipment (P4239) available through Interactive Versions will display all records in the Last Customer Shipment (F4239) table along with all dates and lot numbers that are used to execute the Ship Ascending Edits.<br /><br /><img src="../images/a23008.png" border="1" hspace="0" /></p>
<hr />






<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
