<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>How To Change Date Patterns and End Dates In EnterpriseOne (P0008, P0010, R099103)</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: "Segoe UI", Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
        .kmnotebox {
        background-color: #FFFFE0;
        border-left: 10px;
        /*border-style: dotted;*/
      }

      .kmcodeblock {
        background-color: #B0E0E6;
        border-left: 10px;
        margin-left: 2%;
        /*border-style: dotted;*/
      }

      
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>

      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>How To Change Date Patterns and End Dates In EnterpriseOne (P0008, P0010, R099103)</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<table><tr><td width='0'></td><td><A HREF="#GOAL">Goal</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#FIX">Solution</A></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section21">1. How to Change Date Patterns</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section22">1.1 Changing from a Calendar Year to a Non-calendar Fiscal Date Pattern</a></td></tr></table>
<table><tr><td width=60>&nbsp;</td><td><a href="#aref_section23">Option 1:&nbsp;&nbsp;Short Year Setup</a></td></tr></table>
<table><tr><td width=60>&nbsp;</td><td><a href="#aref_section24">Option 2:&nbsp;&nbsp;New Company Setup</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section25">1.2 Changing from a Non-calendar Fiscal Date Pattern to a Calendar Year Date Pattern</a></td></tr></table>
<table><tr><td width=60>&nbsp;</td><td><a href="#aref_section26">Option 1:&nbsp;&nbsp;Short Year Setup</a></td></tr></table>
<table><tr><td width=60>&nbsp;</td><td><a href="#aref_section27">Option 2:&nbsp;&nbsp;New Company Setup</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section28">2. How to Change End Dates</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section29">2.1 Unposted Records</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section210">2.2 Posted Records</a></td></tr></table>

<hr size=1><p>


<H2 class=km><A NAME="GOAL"></A>Goal</H2>
<p>How To Change Date Patterns and End Dates In EnterpriseOne.</p>
<H2 class=km><A NAME="FIX"></A>Solution</H2>
<a name="aref_section21"></a><h3 class="km">1. How to Change Date Patterns</h3>
<p>There are two options for converting fiscal date patterns:</p>
<ul>
<li>Set up a short year to adjust for the interim period.</li>
<li>Set up a new company under the new date pattern.</li>
</ul>
<p>Regardless of the option taken, two considerations apply:</p>
<ol>
<li>In EnterpriseOne, the Fiscal Year is determined by the year in the date for the last day of Period 1. For example, if the first period of the fiscal year begins on December 15, 2001, and ends on January 14, 2002, then December 15, 2001 through December 14, 2002 is Fiscal Year 2002.</li>
<li>Each fiscal year must be unique within the same date pattern code.</li>
</ol>
<p><br />The procedures to complete this change vary depending on whether it is from a calendar year to non-calendar year or, conversely, from a non-calendar year to a calendar year.&nbsp;</p>
<a name="aref_section22"></a><h4 class="km">1.1 Changing from a Calendar Year to a Non-calendar Fiscal Date Pattern</h4>
<a name="aref_section23"></a><h5 class="km">Option 1:&nbsp;&nbsp;Short Year Setup</h5>
<p>In the following example, the company is on a standard calendar year and needs to be changed to a non-calendar fiscal year of April - March.&nbsp; For this particular change, date patterns need to be set up in the Work with Fiscal Date Patterns (P0008) according to the following table.</p>
<blockquote>
<table class="km" style="width: 100%;" border="1" cellspacing="1" cellpadding="1">
<tbody>
<tr><th class="km" style="width: 25%;">Fiscal Year 01,<br />Date Pattern R</th><th class="km" style="width: 25%;">Fiscal Year 02,<br />Date Pattern R</th><th class="km" style="width: 25%;">Fiscal Year 01,<br />Date Pattern A</th><th class="km" style="width: 25%;">Fiscal Year 02,<br />Date Pattern A</th></tr>
<tr>
<td class="km" style="width: 25%;">Jan 01</td>
<td class="km" style="width: 25%;">Jan 02</td>
<td class="km" style="width: 25%;">Apr 01</td>
<td class="km" style="width: 25%;">Apr 02</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Feb 01</td>
<td class="km" style="width: 25%;">Feb 02</td>
<td class="km" style="width: 25%;">May 01</td>
<td class="km" style="width: 25%;">May 02</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Mar 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Jun 01</td>
<td class="km" style="width: 25%;">Jun 02</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Apr 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Jul 01</td>
<td class="km" style="width: 25%;">Jul 02</td>
</tr>
<tr>
<td class="km" style="width: 25%;">May 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Aug 01</td>
<td class="km" style="width: 25%;">Aug 02</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Jun 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Sep 01</td>
<td class="km" style="width: 25%;">Sep 02</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Jul 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Oct 01</td>
<td class="km" style="width: 25%;">Oct 02</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Aug 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Nov 01</td>
<td class="km" style="width: 25%;">Nov 02</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Sep 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Dec 01</td>
<td class="km" style="width: 25%;">Dec 02</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Oct 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Jan 02</td>
<td class="km" style="width: 25%;">Jan 03</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Nov 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Feb 02</td>
<td class="km" style="width: 25%;">Feb 03</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Dec 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Mar 03</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Dec 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Mar 03</td>
</tr>
<tr>
<td class="km" style="width: 25%;">Dec 01</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Mar 02</td>
<td class="km" style="width: 25%;">Mar 03</td>
</tr>
</tbody>
</table>
</blockquote>
<p>After these date patterns have been configured, begin the process of switching to the new fiscal year by completing these steps:</p>
<ol>
<li>Run the annual close for FY01 with Date Pattern R.</li>
<li>Post the current activity to FY02 Date Pattern R.</li>
<li>Change the desired company in the Work with Companies (P0010) application to use Fiscal Date Pattern (data dictionary item DTPN) to A and the Beginning of Fiscal Year (data dictionary item DFYJ) to April 1, 2002.</li>
<li>Back up the Account Ledger (F0911) and Account Balances (F0902) tables.</li>
<li>Run Calculate Fiscal Year and Period Number (R099103) over all fiscal years to realign the periods across the fiscal years. For example, January 2002 entries will then appear as period 10 in FY 01. Make sure to run the Calculate Fiscal Year and Period Number (R099103) report in Proof mode to verify any changes prior to running it in Update mode.</li>
<li>Run Repost Account Ledger (R099102) to update the Account Balances (F0902) table. Always run this report in Proof mode to verify changes before running it in Update mode.</li>
<li>Run the Annual Close for FY 01 with Date Pattern A.</li>
</ol>
<p>Some important things to note:</p>
<ul>
<li>A short year "bridge" of Jan 1-Mar 31 2002 followed by the new pattern Apr 1, 2002-Mar 31, 2003 in this example cannot be used because Period 1 of Fiscal Year 2002 would&nbsp; then be represented by two months, January and April. This setup causes major reporting problems.</li>
<li>At this point, no changes can be made to the Fiscal Year 2001 because the period numbers have been recalculated.</li>
<li>All fiscal years must be defined and then Calculate Fiscal Year and Period Number (R099103) must be run over all the years at one time. The annual close must be run for each year.</li>
<li>Back up the Company Constants (F0010), Account Master (F0901), Account Ledger (F0911) and Account Balances (F0902) tables before changing any information.</li>
<li>To avoid unpredictable results, before running Repost Account Ledger (R099102) or the Calculate Fiscal Year and Period Number (R099103) in Final mode, verify no other users are on the system.</li>
</ul>
<a name="aref_section24"></a><h5 class="km">Option 2:&nbsp;&nbsp;New Company Setup</h5>
<ol>
<li>Set up a new company with the new non-calendar year Fiscal Date Pattern (DTPN).</li>
<li>Set up business units and accounts for the new company.</li>
<li>Run Indexed Allocations for any periods where the old company transactions should be applied to the new company.</li>
</ol>
<p>&nbsp;</p>
<div class="kmnotebox">Note - Any transactions created for the new company should be removed or voided from the old company.</div>
<p><br />This method allows users to access information under both date patterns concurrently.&nbsp;&nbsp;However, as shown in the initial example, keep in mind that period-to-period comparisons are meaningless because Period 1 in pattern R (January) is not the same month as Period 1 in pattern A (April).</p>
<a name="aref_section25"></a><h4 class="km">1.2 Changing from a Non-calendar Fiscal Date Pattern to a Calendar Year Date Pattern</h4>
<a name="aref_section26"></a><h5 class="km">Option 1:&nbsp;&nbsp;Short Year Setup</h5>
<ol>
<li>Create two new date patterns.&nbsp;&nbsp;One should be for a short fiscal year beginning with the current non-calendar fiscal year period and ending on December 31.&nbsp; The first new date pattern only needs to be created if some companies are going to remain on the old non-calendar year pattern. Otherwise, the current year under the non-calendar date pattern can be changed to end on December 31.&nbsp;&nbsp;The second date pattern should be for the calendar year.&nbsp;&nbsp;</li>
<li>Change the Fiscal Date Pattern (data dictionary item DTPN) for the desired company to the short date pattern type in Work with Companies (P0010).</li>
<li>Run Calculate Fiscal Year and Period Number (R099103), first in Proof mode.Verify the results and run in Final mode.&nbsp;&nbsp;</li>
<li>Run Repost Account Ledger (R099102), first in Proof mode. After verifying the results, run the report again in Final mode.</li>
<li>Run the Annual Close for the short year.&nbsp;&nbsp;</li>
<li>Change the Fiscal Date Pattern (DTPN) for the desired company to the new calendar year date pattern.&nbsp;</li>
<li>If postings have been made to this new year, run the Calculate Fiscal Year and Period Number (R099103) again.&nbsp;&nbsp;If past years need to be updated, run this UBE over all fiscal years at one time with the company set to the calendar date pattern. The Annual Close&nbsp; process needs to be ran for each year individually.</li>
</ol>
<p>&nbsp;</p>
<div class="kmnotebox">Note - To avoid unpredictable results, before running R099102 or R099103 in final mode, verify no other users are on the system.</div>
<a name="aref_section27"></a><h5 class="km">Option 2:&nbsp;&nbsp;New Company Setup</h5>
<ol>
<li>Set up a new company with the new calendar year Fiscal Date Pattern (DTPN).</li>
<li>Set up business units and accounts for the new company.</li>
<li>Run Index Allocations for any periods where the old company transactions should be applied to the new company.</li>
</ol>
<p>Note - Any transactions created for the new company should be removed or voided from the old company. <br /><br />This method allows users to access information under both date patterns concurrently. However, as shown in the initial example, keep in mind that period-to-period comparisons are meaningless because Period 1 in pattern R (January) is not the same month as Period 1 in pattern A (April).</p>
<a name="aref_section28"></a><h3 class="km">2. How to Change End Dates</h3>
<p>Occasionally, a fiscal date pattern is not properly defined for a particular period.&nbsp;&nbsp;For example, the ending date for February is incorrect for a leap year. Company policy may or may not require changes.&nbsp;&nbsp;If the ending date of the period is incorrect, transactions entered with a G/L date for the omitted day (e.g. 2/29) are added to the next period.</p>
<a name="aref_section29"></a><h4 class="km">2.1 Unposted Records</h4>
<p>There are no repercussions to changing a period's end date if transactions have not yet been posted for that date.&nbsp;&nbsp;If the Accounts Payable or Accounts Receivable constants are set to post offsets by batch (B), the Automatic Entries for these transaction will be created for the correct period and date and will also be unaffected.&nbsp;&nbsp;However, if transactions were created for the end date in question prior to the change, the Period Number (data dictionary item PN) in the General Ledger (F0911) will be incorrect.&nbsp; Because the transactions are not posted, the Account Balances (F0902) table is unaffected. Therefore, only the Period Number (PN) in the General Ledger (F0911) needs to be corrected. To do so, run the Calculate Fiscal Year and Period Number (R099103) report. This UBE needs to be run in Proof mode to determine which records are affected before running the program in Final mode.&nbsp;&nbsp;If the transaction originated in a system other than General Accounting, it is possible other tables are affected.&nbsp;&nbsp;These other tables may contain a Period Number field (PN).&nbsp;&nbsp;These issues must be changed manually using a database utility because there are no EnterpriseOne solutions for updating the Period Number (PN) in other tables.</p>
<a name="aref_section210"></a><h4 class="km">2.2 Posted Records</h4>
<p>If the end date of a period is changed after transactions have posted to it, the Account Balances (F0902) table will be incorrect.&nbsp;&nbsp;Automatic Entries that are created by batch need to be corrected because there is the possibility that they posted to the wrong period. <br /><br /><em>When Problems Occur</em><br />Problems occur when transactions are posted and/or entered specifically to the date that is changed.&nbsp;&nbsp;The example, a transaction that is posted with a General Ledger date of 2/29 and the period end date is changed from 2/28 to 2/29.&nbsp;&nbsp;When the period is changed, the fiscal date pattern now indicates that 2/29 belongs to period 2&nbsp;&nbsp;instead of period 3.&nbsp; Because there are transactions posted with a General Ledger date of 2/29 that are in period 3, the Account Balances (F0902) table does not reflect the date pattern change. Depending on company policy, there may be a need to correct the period number on these records so they appear in financial statements for the proper period (February instead of March). <br /><em><br />Correcting the Records</em><br />Different steps are required to correct the period numbers on records depending on the posting status and the type of transaction.&nbsp;&nbsp;Perform the following steps after the period end date is changed in the date pattern.<br /><br /></p>
<ol>
<li>Run the Calculate Fiscal Year and Period Number (R099103) in Proof mode first to verify which records will be updated.&nbsp; After the information is verified, run this report again in Final mode.&nbsp; This program updates the fiscal year and period number of the General Ledger (F0911) record based upon its G/L date.&nbsp;</li>
<li>After these fields are updated in the General Ledger (F0911), run the Repost Account Ledger (R099102) to&nbsp; update amounts in the Account Balances (F0902) table.&nbsp;</li>
<li>If prior years are affected, the annual close should be submitted for the year(s) in question after the Account Balances (F0902) is updated.&nbsp;&nbsp;</li>
</ol>
<p><br />Caution - The Repost Account Ledger (R099102) and the Calculate Fiscal Year and Period Number (R099103) must always be run for a full fiscal year.&nbsp;&nbsp;Any data selection has the potential to cause integrity problems. <br /><br /><em>Automatic Entry Considerations</em><br />Running the Repost Account Ledger (R099102) does not correct all records.&nbsp;&nbsp;Automatic Entry transactions may not be updated properly, depending on the offset method specified in the Accounts Payable and Accounts Receivable constants.<br /><br />If the Accounts Payable constant is set to use Offset Method B (batch) an AE transaction is automatically posted using a the last day in a GL period.&nbsp; For example, a date pattern is set for Period 3 (March) with a period end date 3/30 and Period 4 (April) with a period end date of 4/30. A voucher for $100.00 is created with a G/L Date of 3/31. When the voucher is posted, its Automatic Entry is created with a GL Date of 4/30.&nbsp;&nbsp;If the date pattern is changed so Period 3 ends on 3/31, the Calculate Fiscal Year and Period Number (R099103) does not correct the Automatic Entry because its GL Date is within Period 4. However, the Expense Account entry in the General Ledger (F0911) is updated to reflect the current period, leaving inconsistencies in the data. <br /><br />To correct the Automatic Entry, create two one-sided journal entries to move the transaction amount from period 4 to period 3.&nbsp; In this example, the first journal entry would be for $100.00- on G/L date 3/31 and the second would be for $100.00 on 4/30.&nbsp;&nbsp; There may be more than one trade/offset account involved in the posting of a transaction.&nbsp; Run General Journal by Batch (R09301) and use data selection to isolate records with a GL date of 3/31 and GL Period 3 to obtain a list of accounts and amounts that need to be corrected. <br /><br /><em>Other Accounts</em><br />This situation is not isolated to A/P and A/R trade accounts and AE document types.&nbsp;&nbsp;Reversing Journal Entries also create date problems because they use the first day of the next period as the GL Date. For example, if the date pattern gets changed from 2/28 to 2/29 the following may happen:<br />&middot; A reversing Journal Entry created for 2/28 prior to changing the period end date has a GL Date of 2/29, instead of 3/1. <br />&middot; A reversing Journal Entry created for 2/29 prior to changing the period end date has a GL Date of 4/01, instead of 3/1. <br /><br />Run General Journal by Batch (R09301) and use data selection to isolate records for these GL Dates that are also reversing (Reverse Void (R/V) field = R).<br /><br /><em>Other Systems</em><br />Running Repost Account Ledger (R099102) and the&nbsp;Calculate Fiscal Year and Period Number (R099103) does not correct or update records in tables other than the General Ledger (F0911) and Account Balances (F0902).&nbsp;&nbsp;Changing the fiscal date patterns could impact other applications, such as the Accounts Payable Ledger (F0411).&nbsp;&nbsp;The Accounts Payable Ledger (F0411) also records a Period Number (PN). This issue could result in an A/P integrity issue. This fact is true for any table that utilizes the Period Number (PN) field.&nbsp;&nbsp;There is no update for these other tables, so use caution and understand the implications before proceeding.&nbsp;&nbsp;</p>
<p>&nbsp;</p>
<div class="kmnotebox">If the Fixed Asset module is used, please refer to their documentation since they have a procedure for their tables (see referenced document for more information).</div>
<p>&nbsp;</p>







<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
