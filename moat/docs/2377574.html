<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>R41543 and R41500 Comparison - Troubleshooting</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>
        
      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>R41543 and R41500 Comparison - Troubleshooting</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<h2 class="km"><big><big><a name="section01"></a><span style="font-size: medium;"><BIG>Purpose of Document</BIG></span></big></big></h2>

<p><span style="font-size: small;">The purpose of this document is to give a brief overview of the difference between R41500 (Automatic Inventory to GL Reconciliation) and R41543 (Item Ledger/Account Integrity),</span><br /><br /><br />&nbsp;</p>


<!-- ======================================== Body Starts Here =================================== -->

<p>&nbsp;</p>
<p>&nbsp;<span style="font-size: small;">Many times, both R41500 and R41543 may yield same result, but the validation routine is very much different. As a result, the outcome between R41500 and R41543 may not be identical to each other. <br /> </span></p>
<table style="text-align: left; width: 1113px; height: 1998px;" border="1" cellspacing="2" cellpadding="2">
<tbody>
<tr>
<td style="width: 174px; color: white; background-color: #3366ff;">&nbsp;</td>
<td style="width: 649px; text-align: center; color: white; background-color: #3366ff;"><strong><span style="font-size: small;">&nbsp;Automatic Inventory to GL Reconciliation (R41500)</span></strong></td>
<td style="width: 775px; text-align: center; color: white; background-color: #3366ff;"><strong><span style="font-size: small;">Item Ledger/Account Integrity (R41543)</span></strong></td>
</tr>
<tr>
<td style="width: 174px; text-align: left;"><strong><span style="font-size: small;">Knowledge Reference</span></strong></td>
<td style="width: 649px; text-align: left;"><span style="font-size: small;">&nbsp;&lt;Document 1678098.1&gt; - E1: 41: Inventory to G/L Reconciliation Process (P41500/R41500/R41501)&nbsp;</span></td>
<td style="width: 775px; text-align: left;"><span style="font-size: small;">&nbsp;&lt;Document 625476.1&gt; -&nbsp;E1: 41: Item Ledger/Account Integrity Report (R41543)&nbsp;</span></td>
</tr>
<tr>
<td style="width: 174px; text-align: left;"><strong><span style="font-size: small;">Processing Option</span></strong></td>
<td style="width: 649px; text-align: left;">
<p><span style="font-size: small;">&nbsp;<em>Default</em></span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 1. Reconciliation Code</span></p>
<p><span style="font-size: small;">&nbsp;<em>Process</em></span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 1. Proof or Final Mode (Blank = Proof, 1 = Final Mode)</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 2. Enter From G/L Date </span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 3. Enter To G/L Date</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 4. Additional Ledger Type to Update</span></p>
<p><span style="font-size: small;">&nbsp;<em>WO Document Type</em></span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 1. Enter Work Order Completion Document Type</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 2. Enter Work Order Issue Document Type</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 3. Enter Lean Transaction Completion Document Type</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 4. Enter Lean Transaction Issue Document Type</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 5. Enter Work Order Scrap Document Type</span></p>
<p><span style="font-size: small;">&nbsp;<em>Interbranch</em></span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 1. Interbranch Order Type</span></p>
<p><span style="font-size: small;">&nbsp;<em>Print</em></span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 1. Print Option</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 2. Show Item Level Detail for Variance Records</span></p>
</td>
<td style="width: 775px; text-align: left;">
<p><span style="font-size: small;">&nbsp;<em>Report Display</em><br /> </span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 1. Enter From G/L Date</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 2. Enter Thru G/L Date</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 3. Enter Work Order Issue/Completion Type 1</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 4. Enter Work Order Issue/Completion Type 2</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 5. Enter Lean Transaction Completion Document Type</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 6. Enter Lean Transaction Issue Document Type</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp; 7. Show Item Level Detail</span></p>
</td>
</tr>
<tr>
<td style="text-align: left;"><strong><span style="font-size: small;">Prerequisite</span></strong></td>
<td style="text-align: left;"><span style="font-size: small;">&nbsp;Transactions interfaces with G/L should write F0911.GPF1 = '1'. Example of routines, P4112, P4113, P4114, P4116, R41413, R42800, P4312, P31113, and P31114 and so on.</span></td>
<td style="text-align: left;"><span style="font-size: small;">&nbsp;N/A</span></td>
</tr>
<tr>
<td style="width: 174px; text-align: left;"><strong><span style="font-size: small;">Runtime Data Selection</span></strong></td>
<td style="width: 649px; text-align: left;">
<p><span style="font-size: small;">&nbsp;SELECT ILITM, ILMCU, ILLOCN, ILLOTN, ILKCO, ILDOC, ILDCT, ILICU, ILDGL, ILGLPT, ILDCTO, ILDOCO, ILLNID, ILIPCD, ILTRDJ, ILTRUM, ILTREX, ILTRQT, ILPAID, ILUKID, ILPID, ILSVDT FROM PRODDTA.F4111 WHERE ( ( <span style="color: #3333ff; font-weight: bold;">ILIPCD IN ( ' ','Y' )</span> AND ILICU &lt;&gt; 0.000000 AND ILDGL &gt;= 118081 AND ILDGL &lt;= 118081 ) AND <span style="color: red; font-weight: bold;">ILSVDT = 0</span> ) ORDER BY ILDCT ASC,ILDOC ASC,ILKCO ASC</span></p>
<p><span style="font-size: small;">&nbsp; Note that VSDT (Reconciliation Date) has to be zero not to proceed same transaction again.</span></p>
</td>
<td style="width: 775px; text-align: left;"><span style="font-size: small;">&nbsp;SELECT ILITM, ILMCU, ILLOCN, ILLOTN, ILKCO, ILDOC, ILDCT, ILICU, ILDGL, ILGLPT, ILDCTO, ILDOCO, ILLNID, ILIPCD, ILTRDJ, ILTRUM, ILTREX, ILTRQT, ILPAID, ILUKID, ILPID, ILSVDT FROM PRODDTA.F4111 WHERE ( ( <span style="color: #3333ff; font-weight: bold;">ILIPCD IN ( ' ','Y' )</span> AND ILICU &lt;&gt; 0.000000 AND ILDGL &gt;= 118081 AND ILDGL &lt;= 118081 ) ) ORDER BY ILDCT ASC,ILDOC ASC,ILKCO ASC</span></td>
</tr>
<tr>
<td style="width: 174px; text-align: left;"><strong><span style="font-size: small;">Exception handling</span></strong></td>
<td style="width: 649px; text-align: left;"><span style="font-size: small;">&nbsp;It handles only once based on F4111.SVDT. If you run same again in Final Mode, R41500 shall not give you any output.</span></td>
<td style="width: 775px; text-align: left;">
<p><span style="font-size: small;">&nbsp;R41543 can issue false variance when,</span></p>
<p><span style="font-size: small;">- The data selection is modified to include F4111.PCD NOT IN ('Y', ' ')</span></p>
<p><span style="font-size: small;">- When the Object Account (F0911.OBJ) for both Inventory and Cost point to same range of objects. This is determined by Financial AAI below,</span></p>
<p><span style="font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Item No.&nbsp;&nbsp;&nbsp;&nbsp; Description Line 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Obj Acct</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-size: small;">GLG2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Beginning Assets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1000</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-size: small;">GLG3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Beginning Liabilities&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4000</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-size: small;">GLG6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Beginning Revenues&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5000</span><br /> <span style="font-size: small;"></span></p>
<p><span style="font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : The account for asset in this example is any object range from 1000 through 4999 unless there is any override. </span></p>
<p><span style="font-size: small;">Refer to &lt;Document 664682.1&gt; - E1: 09: Overview of Automatic Accounting Instructions (AAI) in General Accounting (P0012), when you are keen to know more. <br /> </span></p>
<p><span style="font-size: small;">For instance, the DMAAI 4122 and 4124 returns Object Account 1411 and 1412 respectively, which belong to Asset Account. Refer to &lt;Document 625475.1&gt; -&nbsp;E1: 40: Automatic Accounting Instructions for Distribution (AAI / DMAAI) [Video] <br /></span></p>
</td>
</tr>
<tr>
<td style="width: 174px; text-align: left;"><strong><span style="font-size: small;">Wrapper Function</span></strong></td>
<td style="width: 649px; text-align: left;"><span style="font-size: small;">&nbsp;F4111ToF0911Reconciliation (B4100960)</span></td>
<td style="width: 775px; text-align: left;"><span style="font-size: small;">&nbsp;F4111CheckIntegrityWithF0911 (B4100910)</span></td>
</tr>
<tr>
<td style="width: 174px; text-align: left;"><strong><span style="font-size: small;">Detail routine</span></strong></td>
<td style="width: 649px; text-align: left;">
<p><span style="font-size: small;">(Note that this routine is simplified for easier visualization)</span></p>
<p><span style="font-size: small;">1. Read F4111 which is not reconciled yet (that is, F4111.SVDT = 0)</span></p>
<p><span style="font-size: small;">2. Read F0911 record only when F0911.GPF1 = '1'</span></p>
<p>&nbsp;</p>
<p><span style="font-size: small;">SELECT COUNT(ILPAID), SUM(ILPAID) FROM PRODDTA.F4111 WHERE ( ILDOC = 3508.000000 AND ILDCT = 'I7' AND ILKCO = '00200' AND ILICU &lt;&gt; 0.000000 AND ( ILIPCD = 'Y' OR ILIPCD = ' ' ) )</span></p>
<p><span style="font-size: small;">SELECT SUM(GLAA), COUNT(GLAA) FROM PRODDTA.F0911 WHERE ( GLDOC = 3508.000000 AND GLDCT = 'I7' AND GLKCO = '00200' AND <span style="color: red; font-weight: bold;">GLGPF1 = '1' </span>AND GLLT = 'AA' )</span></p>
<p><span style="font-size: small;">&nbsp; Note that GPF1 (Inventory Flag) is used to pull only for inventory account (it does not read its offset account which is commonly cost/expense account)</span></p>
</td>
<td style="width: 775px; text-align: left;">
<p><span style="font-size: small;">1. Read data from F4111&nbsp;</span></p>
<p><span style="font-size: small;">2. Read predefined DMAAIs - UDC 41/IN - Inventory Integrity Report and store OBJ into cache</span></p>
<p><span style="font-size: small;">3. Read F0911 and compare F0911.OBJ with the cache stored above.</span></p>
<p><span style="font-size: small;">&nbsp;</span></p>
<p><span style="font-size: small;">SELECT * FROM PRODDTA.F4111 WHERE ( ILDOC = 3508.000000 AND ILDCT = 'I7' AND ILKCO = '00200' AND ILDGL &gt;= 118081 AND ILDGL &lt;= 118081 ) ORDER BY ILGLPT ASC</span></p>
<p><span style="font-size: small;">SELECT * FROM PRODDTA.F4095 WHERE ( MLANUM = 4122.000000 AND MLCO = '00200' ) ORDER BY MLANUM ASC,MLCO ASC,MLDCTO ASC,MLDCT ASC,MLGLPT ASC,MLCOST ASC</span><span style="font-size: small;"></span></p>
<p><span style="font-size: small;">(Repeat this against all predefined AAIs - It is imperative to maintain UDC 41/IN - Inventory Integrity Report, carefully)</span></p>
<p>&nbsp;</p>
<p><span style="font-size: small;">SELECT * FROM PRODDTA.F0911 WHERE ( GLDOC = 3508.000000 AND GLDCT = 'I7' AND GLKCO = '00200' AND GLDGJ &gt;= 118081 AND GLDGJ &lt;= 118081 ) ORDER BY GLDCT ASC,GLDOC ASC,GLKCO ASC,GLDGJ DESC,GLJELN ASC,GLLT ASC,GLEXTL ASC</span></p>
</td>
</tr>
<tr>
<td style="width: 174px;"><strong><span style="font-size: small;">Considerations</span></strong></td>
<td style="width: 649px;">
<p><span style="font-size: small;">&nbsp;This routine reads F0911.GPF1 = '1' only, which can yield different outcome between R41500 and R41543 because the former only read the account which is from inventory DMAAI.</span></p>
<p><span style="font-size: small;">Check functions below when F0911.GPF1 not '1' for inventory account,</span></p>
<p><span style="font-size: small;">The functions to check (commonly master/wrapper functions which calls F0911FSEeditLine.cInventoryFlag). Example of functions, </span></p>
<p><span style="font-size: small;">- Inventory Transaction: XT4111Z1 (F4111EditLine)</span></p>
<p><span style="font-size: small;">- Sales: B4200520 (GetSalesAAIsAndCallF0911EditLine)</span></p>
<p><span style="font-size: small;">- Procurement: B4302510 (CreatePORceiptJournalEntries)</span></p>
</td>
<td style="width: 775px;"><span style="font-size: small;">&nbsp;Note that this routine shows discrepancy when both 4122 / 4124 point to same Inventory account or expense account because of the validation routine. In this case, possibly you may exclude F0911.GPF1 &lt;&gt; '1' because these lines are result set of cost/expense objects. </span></td>
</tr>
</tbody>
</table>
<p><span style="font-size: small;">&nbsp;</span></p>
<p><span style="font-size: small;">Note: this document is to be completed not later than March-31-2018.</span></p>
<p><span style="font-size: small;">&nbsp;</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>




<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
