<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fetch From Cache Failed (078N) Error in P4314 - 3 Way Voucher Match</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>
        
      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Fetch From Cache Failed (078N) Error in P4314 - 3 Way Voucher Match</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<h2 class="km"><big><big><a name="section01"></a><span style="font-size: medium;"><BIG>Purpose of Document</BIG></span></big></big></h2>

<p>This note is to explain possible issue you may face in running P4314 (Voucher Match). So to debug issue in P4314, this document shall explain,</p>
<ul>
<li>General Routine of P4314</li>
<li>The flow of Master Business Functions (XT4314ZN/XT4314Z2, XT4311Z1/XT4311Z2, B0400047 and B0900049</li>
<li>And two Caching (temporary repository in Physical Memory) related business functions</li>
<ul>
<li><strong>B4302180 - To store PO Header and Detail Cache</strong></li>
<li><strong>B4302450 - To store VM (Voucher Match) Cache</strong></li>
</ul>
<li>Cache</li>
<ul>
<li>XT4311Z1C: Purchase Order</li>
<li style="font-weight: bold;">B4302180F: Purchase Order Header (new line)</li>
<li>B4302180G: Purchase Order Detail (new line)</li>
<li>B4302450A: Voucher Match Cache</li>
<li>B4302450B: Voucher Match Error Cache</li>
<li>F04UI001/F04UI002: AP Cache</li>
<li>I09UI002/I09UI003: GL Cache</li>
</ul>
</ul>
<p> </p>


<!-- ======================================== Body Starts Here =================================== -->


<p> </p>
<p>This note is to help you to analyze CallObject kernel log in your running P4314 (Voucher Match).</p>
<ul>
<li>The flow of master business functions and cache functions in P4314</li>
</ul>
<p>P4314 - Voucher Match<br />     |--- W0411G - [Supplier Ledger Inquiry]<br />     |--- W4314A - [Voucher Match]<br />     |--- W4314B/W4314C - [Select Receipts/Orders to Match]<br />     |--- W4314A - [Voucher Match]<br />     : For this example, information selected in W4314B/W4314C is to be stored as cache (VMCache) and that cache can be used in W4314A. In adding a new line, E1 treats it as 2 way voucher match so either it update exiting Purchase Order or add a new order line<br /> <br /> In running the voucher match application, tables F4301/F4311/F43121/F0411/F0911 and Master Business Function (XT4311Z1/XT4311Z2, XT4314ZN/XT4314Z2, B0400047 and B0900049) which to write these table are to be called/configured as below,</p>
<table style="border-collapse: collapse; width: 1001px; height: 2298px;" border="1" cellspacing="1" cellpadding="1"><colgroup><col style="width: 26pt;" span="5" width="34" /> <col style="width: 126pt;" width="168" /> <col style="width: 76pt;" width="101" /> <col style="width: 74pt;" width="99" /> <col style="width: 193pt;" width="257" /> </colgroup>
<tbody>
<tr style="height: 15pt;">
<th class="xl65" style="height: 15pt; width: 204px; background-color: #ffcc00;" colspan="6">Form &amp; Master/Cache Functions in P4314</th>
<th class="xl65" style="width: 212px; background-color: #ffcc00;">Source Module</th>
<th class="xl65" style="width: 443px; background-color: #ffcc00;">Cache</th>
<th class="xl65" style="width: 193pt; background-color: #ffcc00;">Used For</th>
</tr>
<tr style="height: 15pt; font-weight: bold;">
<td class="xl65" style="height: 15pt; width: 443px;" colspan="9" height="20">W4314A - [Voucher Match]</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">XT4314ZN</td>
<td class="xl65" style="width: 212px;">F4314BeginDoc</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">Initialize routine: validate header information and get valid next number. Get AP/GL JobNumber and Cache is to be created based on this job number. Document number is to be acquired in this routine</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0400047</td>
<td class="xl65" style="width: 212px;">F0411FSBeginDoc</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">Initialize AP routine and Initialize Cache F04UI001</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0900049</td>
<td class="xl65" style="width: 212px;">F0911FSBeginDoc</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">Initialize GL routine and Initialize Cache I09UI002</td>
</tr>
<tr style="height: 15pt; font-weight: bold;">
<td class="xl65" style="height: 15pt; width: 443px;" colspan="9" height="20">W4314B/W4314C - [Select Receipts to Match]</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessTempVoucherCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 1 (Get) -&gt; FAIL<br /> Cache Name B4302450D + JobNumber</td>
<td class="xl65"> <span style="color: white;">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span></td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">XT4314ZN<br /> XT4314Z2</td>
<td class="xl65" style="width: 212px;">F4314EditLine</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">Validate detail lines and create it into cache<br /> 1. Initialize Cache B4302450A + JobNumber</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0400047</td>
<td class="xl65" style="width: 212px;">F0411FSEditLine</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">Create AP Detail Cache<br /> CacheName = F04UI002 + JobNumber</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 7 to Add Cache into B4302450B</td>
<td class="xl65">Initialize VM Match Cache</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessTempVoucherCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 5 to open cursor B4302450D</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 6 to Fetch Existing Cache from D4302450A</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessTempVoucherCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 2 to add cache into B4302450D</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchErrorMsg</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 1 to close cursor of B4302450B</td>
<td class="xl65">Only when Tolerance check is required<br /> CacheName=B4302450B+JobNumber</td>
</tr>
<tr style="height: 15pt; font-weight: bold;">
<td class="xl65" style="height: 15pt; width: 443px;" colspan="9" height="20">W4314A - [Voucher Match]</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 6 to fetch existing cache from B4302450A</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">XT4314ZN<br /> XT4314Z2</td>
<td class="xl65" style="width: 212px;">F4314EditLine</td>
<td class="xl65" style="width: 443px;">CacheName = B4302450A + JobNumber</td>
<td class="xl65">This routine is to explain new line in W4314A screen. This additional line is considered 2-way voucher match so depends on the value you populate it calls master business function XT4311Z1/XT4311Z2</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">XT4311Z1<br /> XT4311Z2</td>
<td class="xl65" style="width: 212px;">F4311EditLine</td>
<td class="xl65" style="width: 443px;">JobNumber + XT4311Z1C</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B0001060</td>
<td class="xl65" style="width: 212px;">RetrieveProcessAndTransactionID</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">This function is to return IPC (Inter-Communication Process ID) which is same with callobjeck kernal process ID.</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">XT4311Z1</td>
<td class="xl65" style="width: 212px;">F4311FSBeginDoc</td>
<td class="xl65" style="width: 443px;">whenever b4302180 adds cache, same information is to be added into XT4311Z1C+JobNumber</td>
<td class="xl65">This function gets called when Begin Doc is not called previously (or when Header Cache is missing)<br /> Validate header and call B4302180 to handle cache. This routine is different from Purchase Order creation through P4310</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20">xxx</td>
<td class="xl65" style="width: 43px;">xxx</td>
<td class="xl65" style="width: 19px;">xxx</td>
<td class="xl65" style="width: 47px;">xxx</td>
<td class="xl65" style="width: 204px;" colspan="2">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPOHeaderCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 2 to add cache into B4302180F + PEID + TCID<br /> <br /> Continue cache action with codes, <br /> 1 - Cache Get<br /> 3 - Cache Update</td>
<td class="xl65">This routine is to create PO Header Cache. Since this gets called when user to add additional rows in Grid this cache is independent against existing order</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPODetailCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 1 to Get from B4302180G + PEID + TCID (FAIL -&gt; Issue Error '078M'</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPODetailCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 7 to add PO Detail Cache into B4302180G + PEID + TCID</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPODetailCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 1 to Get from B4302180G + PEID + TCID (SUCCESS)</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0400047</td>
<td class="xl65" style="width: 212px;">F0411FSEditLine</td>
<td class="xl65" style="width: 443px;">Check existing cache from F04UI001 and F04UI002 and add cache for new line</td>
<td class="xl65">Validate and create AP cache for newly added row</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 7 to add additinal line into cursor of cache name B4302450A + JobNumber</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">XT4314ZN</td>
<td class="xl65" style="width: 212px;">F4314EditDoc</td>
<td class="xl65" style="width: 443px;">1st check B4302450A whether there is any VM Cache or not<br /> 2nd check F04UI001 cache before get account number and call F0911FSEditLine<br /> 3rd read F04UI001 again because for this example there are 2 detail lines (SUCESS)</td>
<td class="xl65">Validate header/detail caches before End Doc routine gets called and create GL Cache because Edit Line routine did not handle this</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B4000350</td>
<td class="xl65" style="width: 212px;">RetrieveDistributionAAI</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">To get valid account information which is to be used F0911FSEditLine routine</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0900049</td>
<td class="xl65" style="width: 212px;">F0911FSEditLine</td>
<td class="xl65" style="width: 443px;">I09UI002 gets initialized through Begin Doc routine so there is a record in it<br /> Add cache for additiona AP line and update cache</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 3 to update Cache B4302450A</td>
<td class="xl65">This cache action need to take place before F0911FSEditLine gets called so depends on number of rows this routine is to be repeated</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 6 to read/get next cache from B4302450A (SUCESS)</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0900049</td>
<td class="xl65" style="width: 212px;">F0911FSEditLine</td>
<td class="xl65" style="width: 443px;">Look for cache for I09UI002 (SUCESS)<br /> Look for cache for I09UI003 (SUCESS)<br /> Add cache for I09UI003<br /> Update cache for I09UI002</td>
<td class="xl65">To validate/create GL Cache for 2nd row which is newly added</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0400047</td>
<td class="xl65" style="width: 212px;">F0411FSEditDoc</td>
<td class="xl65" style="width: 443px;">Read Cache F04UI001 (SUCESS)<br /> Then update Cache F04UI001</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0900049</td>
<td class="xl65" style="width: 212px;">F0911FSEditDoc</td>
<td class="xl65" style="width: 443px;">Read Cache I09UI002 then update it</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessTempVoucherCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 5 to delete all the cache B4302450D because this is only meant for error handling</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 204px;" colspan="5">XT4314ZN</td>
<td class="xl65" style="width: 212px;">F4314EndDoc</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">MANUAL COMMIT in your clicking OK button to handle commitment in Processing boundaries. Commit VM Cache to DB</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 6 to check whether there is any available cache from B4302450A</td>
<td class="xl65">then <br /> 1. Update F43121 <br /> 2. insert a new record into F43121 to indicate Voucher is matched (MATC = 2)<br /> 3. Update F4311T<br /> . All these action is done by F4314EndDoc</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 6 to continue to get cache from B4302450A (this routine is to handle newly added 2 way voucher match)</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">XT4311Z1</td>
<td class="xl65" style="width: 212px;">F4311EndDoc</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">Commit PO Detail Cache to DB</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPODetailCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 6 to read cache from B4302180F</td>
<td class="xl65">If it fails error will be appeared on screen "Fetch from Cache "APJobNumber + B4302180F + PEID + TCID"</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPODetailCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 6 to read cache from B4302180G</td>
<td class="xl65">If it fails error will be appeared on screen "Fetch from Cache "APJobNumber + B4302180G + PEID + TCID"</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPODetailCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 1 to get Detail Cache from B4302180G, which issue error '078N' with cSuppressErrorMessages_EV01 = 1. So this is to indicate all the cache in B4302180G has been read</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPODetailCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 1 with different index (SUCESS)</td>
<td class="xl65">then <br /> 1. Insert a new record into F4311 based on PO Detail Cache from B4302180G<br /> 2. (Optional) Update F0902<br /> 3. Insert F43199<br /> 4. Process Job Cost Transaction (if needed)<br /> 5. (Optional) Insert F4311T if Job Cost has to be updated</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPODetailCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 6 to fetch cache from B4302180G against Line Number 2.000 if failes issue 078N with cSuppressErrorMessage_EV01 = 1 and exit from routine to check PO Detail Cache</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPOHeaderCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 1 to get PO Header cache from B4302180F</td>
<td class="xl65">Repeat this action till end of cache</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPOHeaderCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 3 to update PO header cache B4302180G</td>
<td class="xl65">then update F4301 based on PO Header cache B4302180F</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">XT4311Z1</td>
<td class="xl65" style="width: 212px;">F4311ClearWorkFiles</td>
<td class="xl65" style="width: 443px;">Delete XT4311Z1C cache if any</td>
<td class="xl65">Terminte Cache created through PO Creation<br /> XT4311Z1C<br /> B4302180F<br /> B4302180G</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 47px;"> </td>
<td class="xl65" style="width: 204px;" colspan="2">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPOHeaderCache</td>
<td class="xl65" style="width: 443px;">1. CacheAction 1 to determine the existence of PO Header Cache (if sucess then)<br /> 2. Cache Action 5 to delete all PO Header Cache</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 47px;"> </td>
<td class="xl65" style="width: 204px;" colspan="2">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessCostTypeCache</td>
<td class="xl65" style="width: 443px;">Cache Name B4302180H but this cache is not utilized (exit)</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 47px;"> </td>
<td class="xl65" style="width: 204px;" colspan="2">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPODetailCache</td>
<td class="xl65" style="width: 443px;">1. CacheAction 1 to determine the existence of PO Detail Cache (if sucess then)<br /> 2. Cache Action 5 to delete all PO Detail Cache</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPOHeaderCache</td>
<td class="xl65" style="width: 443px;">szCacheActionCode_CACTN = 6 to Fetch a record from cache B4302180G, which is to be failed because all the cache are deleted above return error '078N' with cSuppressErrorMessage_EV01 1</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">XT4311Z1</td>
<td class="xl65" style="width: 212px;">F4311ClearWorkFiles</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">This has been called by F4311EndDoc routine so this code is redundant but underneath routine is worth while to review how it handled</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPOHeaderCache</td>
<td class="xl65" style="width: 443px;">Cache Action 6 -&gt; Fail (exit) because B4302180F has been deleted above</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302180</td>
<td class="xl65" style="width: 212px;">CacheProcessPOHeaderCache</td>
<td class="xl65" style="width: 443px;">Cache Action 9 -&gt; To terminate all the cache used in routine (fail) because no cache to terminate</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchCache</td>
<td class="xl65" style="width: 443px;">1st., szCacheActionCode = 6 to fetch cache from B4302450A (there are 2 records)</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">XT4314ZN</td>
<td class="xl65" style="width: 212px;">F4314ClearWorkFile</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">To terminate voucher match cache B4302450A</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchCache</td>
<td class="xl65" style="width: 443px;">2nd., szCacheActionCode = 5 to delete all the cache from B4302450A</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B4302450</td>
<td class="xl65" style="width: 212px;">CacheProcessVoucherMatchErrorMsg</td>
<td class="xl65" style="width: 443px;">szCacheActionCode = 5 to delete all the caches from B4302450B</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0400047</td>
<td class="xl65" style="width: 212px;">F0411FSEndDoc</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">Read F04UI001<br /> Read F04UI002<br /> Insert F0411 based on F04UI001/F04UI002<br /> Update F0401</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 19px;"> </td>
<td class="xl65" style="width: 204px;" colspan="3">B0400047</td>
<td class="xl65" style="width: 212px;">F0411FSClearStack</td>
<td class="xl65" style="width: 443px;">Clear Cache F04UI001 and F04UI002</td>
<td class="xl65"> </td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0400047</td>
<td class="xl65" style="width: 212px;">F0411FSClearStack</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">This is redundant routine because all the AP cache were deleted in F0411FSEndDoc routine</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0900049</td>
<td class="xl65" style="width: 212px;">F0911FSEndDoc</td>
<td class="xl65" style="width: 443px;"> </td>
<td class="xl65">1. Read I09UI002 (1 record)<br /> 2. Insert F0901 (2 times for credit/debit)<br /> 3. Read I09UI003 (2 records)</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt; width: 14px;" height="20"> </td>
<td class="xl65" style="width: 43px;"> </td>
<td class="xl65" style="width: 204px;" colspan="4">B0900049</td>
<td class="xl65" style="width: 212px;">F0911FSClearStack</td>
<td class="xl65" style="width: 443px;">I09UI002 and I09UI003</td>
<td class="xl65">Terminate all caches from I09UI002 and I09UI003</td>
</tr>
</tbody>
</table>
<p><br /> For this example,</p>
<ul>
<li>AP Cache F04UI001 for header/summary</li>
<li>AP Cache F04UI002 for detail</li>
<li>GL Cache I09UI002 for header/summary</li>
<li>GL Cache I09UI003 for detail</li>
</ul>
<p><br /> Note: Refer to <a href="https://support.us.oracle.com/oip/faces/secure/km/DocumentDisplay.jspx?id=1265902.1">NOTE:1265902.1</a> - E1: BSFN: Master Business Function in EnterpriseOne</p>
<hr />
<p><br /> <br /> <br /> There are two major business functions to store data temporarily as below,</p>
<ul>
<li>B4302180 - Purchase Order Cache Server</li>
<li>B4302450 - Voucher Match Cache Processing</li>
</ul>
<p><br /> A. Functions within B4302180 (Purchase Order Cache Server)<br />      : This function is to store information in a certain routine needs to store Purchase Order Information temporarily. Currently B4302180 is made up of below functions,</p>
<table style="border-collapse: collapse; width: 871px; height: 320px;" border="1" cellspacing="1" cellpadding="1"><colgroup><col style="width: 166pt;" width="221" /> <col style="width: 200pt;" width="267" /> <col style="width: 85pt;" width="113" /> <col style="width: 107pt;" width="142" /> <col style="width: 119pt;" width="158" /> </colgroup>
<tbody>
<tr style="height: 12.75pt;">
<th class="xl24" style="height: 12.75pt; width: 191px; background-color: #ffcc00;">Function  Name</th>
<th class="xl24" style="width: 263px; background-color: #ffcc00;">Description</th>
<th class="xl24" style="width: 78px; background-color: #ffcc00;">Template  Name</th>
<th class="xl24" style="width: 178px; background-color: #ffcc00;">Cache Name</th>
<th class="xl24" style="width: 119pt; background-color: #ffcc00;">Used For</th>
</tr>
<tr style="height: 12.75pt;">
<td class="xl25" style="height: 12.75pt; width: 191px;" height="17">CacheProcessPurchaseOrderCache</td>
<td class="xl25" style="width: 263px;">Purchase Order Cache Server Function</td>
<td class="xl25" style="width: 78px;">D4302180A</td>
<td style="width: 178px;">PO_CACHE_NAME</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl25" style="height: 12.75pt; width: 191px;" height="17">SerialNumberCacheProcess</td>
<td class="xl25" style="width: 263px;">Serial Number Cache</td>
<td class="xl25" style="width: 78px;">D4302180B</td>
<td style="width: 178px;">SERIALNUMBER_NAME</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl25" style="height: 12.75pt; width: 191px;" height="17">RealtimeEventCacheProcess</td>
<td class="xl25" style="width: 263px;">EventID Cache Server Function</td>
<td class="xl25" style="width: 78px;">D4302180C</td>
<td style="width: 178px;">EVENT_CACHE</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl25" style="height: 12.75pt; width: 191px;" height="17">VocherRealtimeEventCacheProcess</td>
<td class="xl25" style="width: 263px;">Voucher EventID Cache Server</td>
<td class="xl25" style="width: 78px;">D4302180D</td>
<td style="width: 178px;">VOUCHER_EVENT_CACHE</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl25" style="height: 12.75pt; width: 191px; font-weight: bold; color: red; background-color: #cccccc;">CacheProcessPOHeaderCache</td>
<td class="xl25" style="width: 263px; background-color: #cccccc;">Purchase Order Header Cache Function</td>
<td class="xl25" style="width: 78px; background-color: #cccccc;">D4302180F</td>
<td style="width: 178px; background-color: #cccccc;">PO_HEADER_CACHE</td>
<td style="background-color: #cccccc;">In adding new lines in W4314A PO Header is to be stored</td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl25" style="height: 12.75pt; width: 191px; font-weight: bold; color: red; background-color: #cccccc;">CacheProcessPODetailCache</td>
<td class="xl25" style="width: 263px; background-color: #cccccc;">Purchase Order Detail Cache Function</td>
<td class="xl25" style="width: 78px; background-color: #cccccc;">D4302180G</td>
<td style="width: 178px; background-color: #cccccc;">PO_DETAIL_CACHE</td>
<td style="background-color: #cccccc;">In adding new lines PO Detail Information is to be  stored</td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl25" style="height: 12.75pt; width: 191px;" height="17">CacheProcessBlanketCache</td>
<td class="xl25" style="width: 263px;">Purchase Order Blanket Cache Function</td>
<td class="xl25" style="width: 78px;">D4302180H</td>
<td style="width: 178px;">PO_BLANKET_CACHE</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl25" style="height: 12.75pt; width: 191px;" height="17">CacheProcessOrderProcOptions</td>
<td class="xl25" style="width: 263px;">Cache Process Order Processing Options</td>
<td class="xl25" style="width: 78px;">D4302180I</td>
<td class="xl25" style="width: 178px;">PO_PROCOPT_CACHE</td>
<td class="xl25">xxxxxxxxxxxxxxxxxxx</td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl25" style="height: 12.75pt; width: 191px;" height="17">CacheProcessAccountCache</td>
<td class="xl25" style="width: 263px;">Purchase Order Account Cache  Function</td>
<td class="xl25" style="width: 78px;">D4302180J</td>
<td style="width: 178px;">PO_ACCOUNT_CACHE</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl25" style="height: 12.75pt; width: 191px;" height="17">CacheProcessCostTypeCache</td>
<td class="xl25" style="width: 263px;">Purchase Order Cost Type Cache  Function</td>
<td class="xl25" style="width: 78px;">D4302180K</td>
<td style="width: 178px;">PO_COSTTYPE_CACHE</td>
<td> </td>
</tr>
</tbody>
</table>
<p><br /> <br /> B. Functions within B4302450 (Voucher Match Cache Processing)</p>
<table style="border-collapse: collapse; width: 871px; height: 384px;" border="1" cellspacing="1" cellpadding="1"><colgroup><col style="width: 179pt;" width="239" /> <col style="width: 170pt;" width="227" /> <col style="width: 85pt;" width="113" /> <col style="width: 123pt;" width="164" /> <col style="width: 128pt;" width="171" /> </colgroup>
<tbody>
<tr style="height: 12.75pt;">
<th class="xl22" style="height: 12.75pt; width: 179pt; background-color: #ffcc00;">Function  Name</th>
<th class="xl22" style="width: 170pt; background-color: #ffcc00;">Description</th>
<th class="xl22" style="width: 75px; background-color: #ffcc00;">Template  Name</th>
<th class="xl22" style="width: 193px; background-color: #ffcc00;">Cache Name</th>
<th class="xl22" style="width: 128pt; background-color: #ffcc00;">Used From</th>
</tr>
<tr style="height: 12.75pt;">
<td class="xl23" style="height: 12.75pt; background-color: #cccccc; color: red; font-weight: bold;">CacheProcessVoucherMatchCache</td>
<td class="xl23" style="background-color: #cccccc;">Process Voucher Match Cache</td>
<td class="xl23" style="width: 75px; background-color: #cccccc;">D4302450A</td>
<td class="xl23" style="width: 193px; background-color: #cccccc;">VoucherMatchCacheProcessing</td>
<td class="xl23" style="background-color: #cccccc;">This is tempoary repository to store VM Cache</td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl23" style="height: 12.75pt; background-color: #cccccc;">CacheProcessVoucherMatchErrorMsg</td>
<td class="xl23" style="background-color: #cccccc;">Process Voucher Match Error Msg</td>
<td class="xl23" style="width: 75px; background-color: #cccccc;">D4302450B</td>
<td style="width: 193px; background-color: #cccccc;">CacheProcessVoucherMatchErrorMsg</td>
<td style="background-color: #cccccc;">In checking tolerance, this cache stores it</td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl23" style="height: 12.75pt;" height="17">CacheProcessDetailVoucherCache</td>
<td class="xl23">Process Detail Voucher Cache</td>
<td class="xl23" style="width: 75px;">D4302450C</td>
<td style="width: 193px;">CacheProcessDetailVoucherCache</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl23" style="height: 12.75pt;" height="17">CacheProcessTempVoucherCache</td>
<td class="xl23">Process Temp Voucher Cache</td>
<td class="xl23" style="width: 75px;">D4302450D</td>
<td style="width: 193px;">CacheProcessTempVoucherCache</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl23" style="height: 12.75pt;" height="17">CacheProcessSummaryVoucherCache</td>
<td class="xl23">Process Summary Voucher Cache</td>
<td class="xl23" style="width: 75px;">D4302450E</td>
<td style="width: 193px;">CacheProcessSummaryVoucherCache</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl23" style="height: 12.75pt;" height="17">ProgressPaymentWorkWithCache</td>
<td class="xl23">Progress Payment Work With Cache</td>
<td class="xl23" style="width: 75px;">D4302450F</td>
<td style="width: 193px;">ProgressPaymentWorkWithCache</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl23" style="height: 12.75pt;" height="17">CreateInvoiceCache</td>
<td class="xl23">Create Invoice for Order or receipt</td>
<td class="xl23" style="width: 75px;">D4302450G</td>
<td style="width: 193px;"> </td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl23" style="height: 12.75pt;" height="17">CacheProcessMultipleVoucherCache</td>
<td class="xl23">Process Multiple Acount Cache</td>
<td class="xl23" style="width: 75px;">D4302450H</td>
<td style="width: 193px;">VM_MULTIPLE_CACHE</td>
<td> </td>
</tr>
<tr style="height: 12.75pt;">
<td class="xl23" style="height: 12.75pt;" height="17">CacheProcessVoucherMatchCacheExt</td>
<td class="xl23">Process Voucher Match CacheExt</td>
<td class="xl23" style="width: 75px;">D4302450I</td>
<td style="width: 193px;"> </td>
<td> </td>
</tr>
</tbody>
</table>
<p> </p>
<hr />
<p><br /> <br /> As we can see above, the same business function can be called multiple times with different cache action codes. The way it handles cache is same with what you can implement through Table I/O,<br /> <span class="docInternalContent"></span></p>
<ul>
<li>Cache Action Code which is used in B4302180/B4302450</li>
</ul>
<table style="border-collapse: collapse; width: 387px; height: 273px;" border="1" cellspacing="1" cellpadding="1"><colgroup><col style="width: 115pt;" width="153" /> <col style="width: 48pt;" width="64" /> </colgroup>
<tbody>
<tr style="height: 15pt;">
<th style="height: 15pt; width: 229px; background-color: #ffcc00;">Cache Action</th>
<th style="width: 154px; background-color: #ffcc00;">Input Mode</th>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 229px;" height="20">CACHE_GET</td>
<td style="width: 154px;" align="right">1</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 229px;" height="20">CACHE_ADD</td>
<td style="width: 154px;" align="right">2</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 229px;" height="20">CACHE_UPDATE</td>
<td style="width: 154px;" align="right">3</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 229px;" height="20">CACHE_DELETE</td>
<td style="width: 154px;" align="right">4</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 229px;" height="20">CACHE_DELETE_ALL</td>
<td style="width: 154px;" align="right">5</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 229px;" height="20">CACHE_GET_NEXT</td>
<td style="width: 154px;" align="right">6</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 229px;" height="20">CACHE_ADD_UPDATE</td>
<td style="width: 154px;" align="right">7</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 229px;" height="20">CACHE_END</td>
<td style="width: 154px;" align="right">8</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 229px;" height="20">CACHE_CLOSE_CURSOR</td>
<td style="width: 154px;" align="right">9</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 229px;" height="20">CACHE_RESET_CURSOR</td>
<td style="width: 154px;" align="right">10</td>
</tr>
</tbody>
</table>
<p><br /> Note: code defined above is specific to B4302180. In case you are working on a different business function, review header file or source file with macro.</p>
<ul>
<li>Defined error in B4302180/B4302450</li>
</ul>
<table style="border-collapse: collapse; width: 379px; height: 273px;" border="1" cellspacing="1" cellpadding="1"><colgroup><col style="width: 115pt;" width="153" /> <col style="width: 48pt;" width="64" /> </colgroup>
<tbody>
<tr style="height: 15pt;">
<th style="height: 15pt; width: 224px; background-color: #ffcc00;">Error </th>
<th style="width: 151px; background-color: #ffcc00;">Error Code</th>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 224px;" height="20">ERR_NULL_POINTER</td>
<td style="width: 151px;">4363</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 224px;" height="20">ERR_INIT_BEHAVIORAL</td>
<td style="width: 151px;">078S</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 224px;" height="20">ERR_INIT_CACHE</td>
<td style="width: 151px;">078L</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 224px;" height="20">ERR_FETCH_RECORD</td>
<td style="width: 151px;">078N</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 224px;" height="20">ERR_ADD_RECORD</td>
<td style="width: 151px;">078O</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 224px;" height="20">ERR_UPDATE_RECORD</td>
<td style="width: 151px;">078P</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 224px;" height="20">ERR_DELETE_RECORD</td>
<td style="width: 151px;">078Q</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 224px;" height="20">ERR_END_CACHE</td>
<td style="width: 151px;">032E</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 224px;" height="20">ERR_CACHE_ACTION</td>
<td style="width: 151px;">032E</td>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 224px;" height="20">ERR_OPEN_CURSOR</td>
<td style="width: 151px;">078M</td>
</tr>
</tbody>
</table>
<p> </p>
<div class="kmnotebox"><strong>Note</strong>: In conjunction with cache action code and cache name below error is to be issued. For this example, when a cache action fails to fetch record (078N) actual error is to be display as below,<br /> Error Header: Fetch from cache &amp;1 failed<br /> Error Detail: <br /> CAUSE . . . .  A record does not exist in cache &amp;1 matching the key<br />                passed in for the fetch.<br /> RESOLUTION. .  Verify the key being passed into the fetch is correct and that<br />                a record exists in the cache matching that key.  Check the<br />                JDE.LOG and JDEDEBUG.LOG for additional information.<br /> : In this case &amp;1 is pointer to cache name (e.g., B43021810G12349999)</div>
<p> </p>
<hr />
<ul>
<li><strong>Cache Name for B4302180F/B4302180G:</strong></li>
</ul>
<p>Through JDE API jdeCacheInit() it creates unique cache. For the header/detail PO cache the way it creates cache name is different from other business function. In general cache name is,</p>
<ul>
<li>B4302180G + PEID (Process ID) + TCID (Transaction ID)</li>
<li>Or Business Function Name + (Internal) JobNumber</li>
<li>To get PEID and TCID business function B0001060 - RetrieveProcessAndTransactionID (Retrieve Process and Transaction IDs)</li>
<li>PEID is IPC (Inter-Communication Process ID) so this number is same with callobject kernel process ID via API jdeGetPid()</li>
<li>TCID is same with internal Job Number via API JDB_GetInternalNextNumber()</li>
<li>In general, this cache name is not meaningful rather this is to make cache name unique to minimize possible memory problem</li>
</ul>
<hr />
<p><br /> <br /> <br /> <span style="text-decoration: underline;"><strong>Case study on Error against B4302180G</strong></span><br /> Below example is to explain the possible cause of error '078N' in modifying uncommitted PO Detail Cache (B4302180G).<br /> Issue: When attempting to change the amount or quantity, of a line added(option 4) in P4314 the following error occurs.<br /> <br /> ERROR<br /> -----------------------<br /> Fetch from cache B4302180G3744126 failed<br /> <br /> Issue is caused by data: Muti-currency Conversion = 'N' where F0010.CRCD is not Blank (contains 'USD' for example)<br /> Issue can be simulated by populating specific currency for Non-Currency environment.<br /> <br /> To fix this issue,</p>
<ol>
<li>Go to SqlPlus</li>
<li>Issue update query</li>
<li>SQL&gt; UPDATE PRODDTA.F0010 SET CCCRCD = '' WHERE CCCO = '00001';</li>
<li>SQL&gt; COMMIT;</li>
<li>Reset database cache</li>
</ol>
<p> </p>
<div class="kmnotebox">Note: This is a case study, so the cause of the issue can be different. If possible, review the available bug based on object listed above. Direct update is suggested because P0010 does not allow user to update currency code at once Non-currency environment is set.</div>
<p> </p>
<hr />
<p><br /> <br /> <span class="docInternalContent"> &lt;Internal_Only&gt;this note is created based on SR 3-4713187871 (if needed for reference)<br /> &lt;/Internal_Only&gt; </span></p>
<p> </p>


<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
