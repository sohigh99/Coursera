<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gross Profit Margin Advanced Preference in Advanced pricing (P4070/P4071/P4072)</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: "Segoe UI", Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
        .kmnotebox {
        background-color: #FFFFE0;
        border-left: 10px;
        /*border-style: dotted;*/
      }

      .kmcodeblock {
        background-color: #B0E0E6;
        border-left: 10px;
        margin-left: 2%;
        /*border-style: dotted;*/
      }

      
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>

      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Gross Profit Margin Advanced Preference in Advanced pricing (P4070/P4071/P4072)</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<table><tr><td width='0'></td><td><A HREF="#PURPOSE">Purpose</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#SCOPE">Scope</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#BODYTEXT">Details</A></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section31">Overview</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section32">Gross Profit Margin Advanced Preference Setup</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section33">Advanced Preference Definition (P4071)</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section34"> Advanced Preference Detail (P4072)</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section35">Advanced Preference Schedule (P4070)</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section36">Price Adjustment Detail (P4072)</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section37">Sales Order Entry (P4210)</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section38">Gross Profit Margin Target Preference Example</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section39">Sales Order Entry (P4210)</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section310">Price History (P4074)</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section311">Sales Order Entry (P4210)</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section312">Line Margin Hold</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section313">Conclusion</a></td></tr></table>
<hr size=1><p>


<H2 class=km><A NAME="PURPOSE"></A>Purpose</H2>
<p>The Gross Profit Margin Advanced Preference functionality works in conjunction with the basis code 9 (gross profit) advanced pricing basis code. This Advanced Preference is invoked during Sales Order Entry and allows the user to define lower and upper limits for gross profit percentage. A warning is issued to the user if the profit margin falls outside the defined lower and upper targets during Sales Order Entry. This Advanced Preference is available for EnterpriseOne releases 8.9 and above.</p>
<SPAN><table class="docInternalContentBox" width="100%"><tr><td><H2 class=km><A NAME="SCOPE"></A>Scope</H2>
<p></p>

<H2 class=km><A NAME="BODYTEXT"></A>Details</H2>
<a name="aref_section31"></a><h3 class="km">Overview</h3>
<p>The Gross Profit Margin functionality allows users to define minimum and maximum gross profit margin targets using Advanced Preferences.  The preference provides flexibility when defining gross profit margin targets since they can be defined at different levels like the Item or Item Group level, Customer or Customer Group level, etc.  This Advanced Preference works with the Gross Profit (Basis Code 9) Advanced Price Adjustments and allows users additional flexibility in setting gross profit margins on the fly when entering sales orders via Sales Order Entry.  If the profit margin percentage entered on a sales detail line falls outside of the defined lower and upper limits, a warning will be issued in Sales Order Entry P4210.</p>
<hr />
<a name="aref_section32"></a><h3 class="km">Gross Profit Margin Advanced Preference Setup</h3>
<a name="aref_section33"></a><h4 class="km">Advanced Preference Definition (P4071)</h4>
<p>On menu G40311, go into Advance Preference Name Revisions, click Add, and input the preference definition information.  Advanced Preference Type 19 (Gross Profit Margin Target) needs to be specified.  The user has the option of specifying an item or customer group as well as making it a quantity or non-quantity based preference. <br /> <em>For more details on how to setup Advanced Preferences, please see the Advanced Preferences Doc ID <a href="../docs/625693.html" target="_blank">Advanced Preferences (P4070/P4071/P4072/P4210/P42101)</a>. </em><br /> <br /> <img src="../images/a19001.png" border="1" hspace="0" vspace="0"/></p>
<a name="aref_section34"></a><h4 class="km"> Advanced Preference Detail (P4072)</h4>
<p>On menu G40311, go into Advance Preferences Detail Revisions, input the preference name defined above, and click Add.  Then input the preference info:<br /> <br /> <img src="../images/a19002.png" border="1" hspace="0" vspace="0"/><br />  <br /> Row Exit to Preference Details to input the preference lower and upper limits:<br /> <br /> <img src="../images/a19003.png" border="1" hspace="0" vspace="0"/></p>
<a name="aref_section35"></a><h4 class="km">Advanced Preference Schedule (P4070)</h4>
<p>Add the advanced preference to a preference schedule:<br /> <br /> <img src="../images/a19004.png" border="1" hspace="0" vspace="0"/></p>
<a name="aref_section36"></a><h4 class="km">Price Adjustment Detail (P4072)</h4>
<p>Basis code 9 indicates that the sales order detail line&rsquo;s gross profit margin will be resolved to 10 percent.<br /> <br /> <img src="../images/a19005.png" border="1" hspace="0" vspace="0"/></p>
<a name="aref_section37"></a><h4 class="km">Sales Order Entry (P4210)</h4>
<p>Additional processing options have been added to Sales Order Entry (P4210) for Gross Profit Margin.</p>
<p><br /> <img src="../images/a19006.png" border="1" hspace="0" vspace="0"/><br />  <br /> Attach the Advanced Preference Schedule to either the System Constants (P41001) or the P4210 Processing Option as shown below.  <br /> Note:  It is not necessary to set processing option 1 equal to 1 with Advanced Preferences.<br /> <br /> <img src="../images/a19007.png" border="1" hspace="0" vspace="0"/><br />  <br /> In general the gross profit is calculated by the formula: Gross Profit %=[(Unit Price &ndash; Unit Cost) / (Unit Price) ]*100. This calculation functionality was brought about by the Bug 10892190: RELEASE 8.10 ADV. PREFERENCES - SAR: 7699803</p>
<hr />
<a name="aref_section38"></a><h3 class="km">Gross Profit Margin Target Preference Example</h3>
<a name="aref_section39"></a><h4 class="km">Sales Order Entry (P4210)</h4>
<p class="km">Enter a Sales order using an item that has a base price and cost assigned.  Let the cost, price and profit margin default in:</p>
<p><em>Note:  The 10% profit margin came from the Advanced Price Adjustment defined earlier.</em></p>
<p><img src="../images/a19008.png" border="1" hspace="0" vspace="0"/></p>
<a name="aref_section310"></a><h4 class="km">Price History (P4074)</h4>
<p>Here is Price History showing the Gross Profit Margin adjustment:<br /> <br /> <img src="../images/a19009.png" border="1" hspace="0" vspace="0"/></p>
<a name="aref_section311"></a><h4 class="km">Sales Order Entry (P4210)</h4>
<p>Go back into the order detail and change the gross profit percentage to 1% and notice the warning is issued from the Advanced Preference.  The warning is issued because the 1% gross profit margin percent falls below the 5% lower limit defined in the Gross Profit Margin Target preference and under the preference detail revisions setup.  The same warning would have been issued if the percent entered exceeded the 25 percent upper limit defined on the preference.<br />  <br /> <img src="../images/a19010.png" border="1" hspace="0" vspace="0"/><br /> <br /> Now change the profit margin percent to 15 and notice the warning goes away since the 15 percent now falls within the lower and upper limits of the preference.  Also notice the Unit Price and Extended Price are automatically recalculated.<br /> <br /> <img src="../images/a19011.png" border="1" hspace="0" vspace="0"/><br />  <br /> Go into Price History and notice the price history record is updated to reflect the 15 percent profit margin entered on the order.  The reason code is also updated from the P4210 processing option where the reason code default value was input (Profit Margin Tab option #2)<br /> <br /> <img src="../images/a19012.png" border="1" hspace="0" vspace="0"/></p>
<a name="aref_section312"></a><h4 class="km">Line Margin Hold</h4>
<p>In addition to receiving profit margin warning messages, if you want orders to go on line margin hold, you will need to setup a the Order Hold Constants (P42090) with Code Type L (Line Level) hold following the instructions in <strong>Margin Holds</strong>.</p>
<hr />
<a name="aref_section313"></a><h3 class="km">Conclusion</h3>
<p>In Summary, the Gross Profit Margin Target Advanced Preference allows users greater flexibility by allowing upper and lower profit margin limits.  This functionality, utilized by Sales Order Entry, will allow greater control over profit margins which can have a positive impact on financial profitability when implemented.  Users are notified of any order detail lines that fall outside of the profit margin targets which will produce greater control and flexibility in the order taking process.</p>
<hr />
<p> </p>





<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
