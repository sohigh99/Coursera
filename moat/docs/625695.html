<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sale Price Based on Date Advanced Preference (P4106/P4070/P4071/P4072/P4210/P42101)</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: "Segoe UI", Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
        .kmnotebox {
        background-color: #FFFFE0;
        border-left: 10px;
        /*border-style: dotted;*/
      }

      .kmcodeblock {
        background-color: #B0E0E6;
        border-left: 10px;
        margin-left: 2%;
        /*border-style: dotted;*/
      }

      
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>

      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Sale Price Based on Date Advanced Preference (P4106/P4070/P4071/P4072/P4210/P42101)</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<table><tr><td width='0'></td><td><A HREF="#PURPOSE">Purpose</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#SCOPE">Scope</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#BODYTEXT">Details</A></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section31">Base Price Setup</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section32">Sales Order Entry and the Price Effective Date</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section33">Sales Based On Date Advanced Preference</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section34">Sales Order Entry</a></td></tr></table>
<hr size=1><p>


<H2 class=km><A NAME="PURPOSE"></A>Purpose</H2>
<p><span style="font-size: medium;"><strong>Overview</strong></span></p>
<p>The Sales Price Based on Date is new functionality that allows the system to calculate a price based on a new Price Effective Date field populated in the sales order detail. This date is used to retrieve a Base Price (F4106). In addition, when Advanced Pricing discounts are applied, this date is used to apply the applicable discounts. The user can manually populate the Price Effective Date or the date can be populated by using a new Advanced Preference. The Advanced Preference can be setup by item, item group, customer, or customer group and can also utilize complex groups similar to the functionality used in advanced pricing. Otherwise, the date will default from the Order Date in the sales order header.</p>
<p>The Sales Price Based on Date can be used in the following scenarios:</p>
<p>A new price is in effect January 1. Since the customer is a frequent buyer, the order entry person can override the sales Price Effective Date to December 31, therefore allowing the customer to get last years (December's) pricing.<br />Arrangements have been made with the customer to give them December's pricing throughout the entire month of January. An Advanced Preference can be set up to determine a December Sales Price Based Date, for the customer, therefore giving them last years price for the entire month of January.</p>
<H2 class=km><A NAME="SCOPE"></A>Scope</H2>
<p>This document describes the way in which the Sales Based On Date Advanced Preference functions in EnterpriseOne 8.9 and higher.</p>
<H2 class=km><A NAME="BODYTEXT"></A>Details</H2>
<a name="aref_section31"></a><h3 class="km"><a name="Base_Price_Setup"></a>Base Price Setup</h3>
<p>In this example, the item is set up with two prices. One price for 2010 with effective dates of 01/01/2010 to 12/31/2010 for $798; Second price for 2011 with effective dates of 01/01/2011 to 12/31/2011 for $820.<br /><br /><img src="../images/a18001.png" border="1" hspace="0"/></p>
<hr />
<a name="aref_section32"></a><h3 class="km"><a name="Sales_Order_Entry_and_the_Price"></a>Sales Order Entry and the Price Effective Date</h3>
<p>In the first example, the user will enter a sales order allowing the Price Effective Date to default from the Order Date in the header. The customer will get the 2011 pricing of $820 determined by the price effective date of 03/25/2011.<br /><br /><img src="../images/a18002.png" border="1" hspace="0"/><br /><br />In the second example, the user will override the Price Effective Date to 12/31/2010 to allow the customer to obtain the 2010 pricing of $798.  <br /><br /><img src="../images/a18003.png" border="1" hspace="0"/></p>
<hr />
<a name="aref_section33"></a><h3 class="km"><a name="Sales_Based_On_Date_Advanced_Preference"></a>Sales Based On Date Advanced Preference</h3>
<p>Arrangements have been made to give a customer 2010 pricing for the entire year of 2011. An Advanced Preference will be setup to automatically default the Price Effective Date to 12/31/2010. By setting up the customer preference, order entry errors will be eliminated.<br /><em><br />Note: For additional information on general Advanced Preferences setup, please see <a href="../docs/625693.html" target="_blank">Advanced Preferences (P4070/P4071/P4072/P4210/P42101)</a>).</em><br /><br />On menu G40311, create an Advanced Preference name for Sales Price Based on Date.<br /><br /><img src="../images/a18004.png" border="1" hspace="0"/><br /><br />In this example, the hierarchy has an intersection set for specific item number and specific customer.  <br /><br /><img src="../images/a18005.png" border="1" hspace="0"/><br /><br />Add the Preference Name to a Preference Schedule.<br /><br /><img src="../images/a18006.png" border="1" hspace="0"/><br /><br />Add Preference Details. Preference Details can be added by taking a Pref Detail row exit from within the Preference Schedule Revisions. In this example, the Preference Detail is setup by specific item and customer and is effective for the entire year of 2011 (01/01/2011 to 01/31/2011). <br /><br /><img src="../images/a18007.png" border="1" hspace="0"/><br /><br />From the Preference Detail revisions take the Pref Detail row exit to specify the Sales Price Effective Date for the preference.<br /><br /><img src="../images/a18008.png" border="1" hspace="0"/><br /><br />The Pricing Based on Date (PD) field should be set to "7". In this example, the Price Effective Date is setup as 12/31/2010.</p>
<p><em><strong>Note: </strong>It is possible that users may encounter the following error while adding a Preference Detail (P4072) record:</em></p>
<p><em><strong>Blank Value Not Supported By Preferences Error (087W)</strong></em></p>
<p><em><strong>CAUSE . . . . The Preference system does not support blank values to be entered.</strong></em><br /><em><strong>RESOLUTION. . Enter a non-blank value</strong></em></p>
<p><em>This will occur if in the Preference Values Definition Table (F40711) for Preference Type 18, the second record for Data Item PEFJ has RQR incorrectly set to Y (Required) when it should be N (Not Required).</em></p>
<p><em>The following steps will resolve the issue:</em></p>
<ol>
<li><em>Start Preference Values Maintenance (P40711)</em></li>
<li><em>On the QBE line for Advanced Preference Type enter 18 and click Find</em></li>
<li><em>Two Records are Displayed</em></li>
<li><em>Change the Required Value setting in the Preference Values Definition Table (F40711.RQR) in the second record for PEFJ from Y (Required) to N (Not Required)</em></li>
<li><em>Now you can add the new Advanced Preference Detail (P4072) record without receiving the error.</em></li>
</ol>
<p><em><strong>Note:</strong> When adding the preference detail, the user must click OK twice in order for the record to be added.  </em></p>
<p><em>The functionality has been changed/modified for release 9.0 and above under the BUG 13393057 : SALES PRICE BASED ON DATE ADV PREFERENCE TYPE 18. Customers have an option to use the new 40/AD UDC in advanced Preference Type 18 OR Preference Type 02 (Order Detail Defaults)  - or both -  by changing the "Required" field (displays as "R (Y/N)") in the Preference Values Maintenance (P40711) program to value &ldquo;Y&rdquo;. For Preference 18, it is the CP01 (Sales Price Based on Date) value that should be set to "Y". If the CP01 value is left at "N", then UDC 40/DB will be used in the preference details program. <br /></em></p>
<p><em>If using 40/AD, The system constant value will not override the Sales Price based on date Advanced Preference Value.  However, the PD cannot be blank in the P4072 setup.</em></p>
<p><em><strong>Note:</strong> Per Bug 20448791, Pricing Based on Date '4' (Actual Ship Date) is not supported even though it is available for selection. Preference 18 is evaluated during sales order entry, and the actual ship date is not set until Ship Confirm (P4205). Neither P4205, or R42950 (Reprice Sales Orders) will set the Price Effective Date based upon the Actual Ship Date.  <br /></em></p>
<hr />
<a name="aref_section34"></a><h3 class="km"><a name="Sales_Order_Entry"></a>Sales Order Entry</h3>
<p>To activate Advanced Preferences for Sales Order Entry (P4210), processing option #1 on the Preference tab must be set to '1' and the Preference Schedule must be populated on processing option #3 on the Preference tab.<br /><br /><img src="../images/a18009.png" border="1" hspace="0"/><br /><br />The sales order has an Order Date of March 25, 2011 but the Price Effective Date is showing as 12/31/2010 based on the Advanced Preference. As a result, the customer gets the 2010 price of $798.<br /><br /><img src="../images/a18010.png" border="1" hspace="0"/><br /><br /><em>Note: A Preference Schedule can also be defined at the system level by placing the schedule in the system constants. </em></p>
<hr />
<p> </p>
<div class="kmnotebox">A situation was identified in late 2011 for the 9.0 release where if this preference was set to use the Transaction/Order Date (the blank value in 40/DB) but the value in the System Constants for the &ldquo;Sales Price Based on Date&rdquo; was set to &ldquo;Requested Date&rdquo; (value 1 in the 40/DB), then the System Constants value was overriding the value set in the preference. The issue arose because both the preference and the constant shared the UDC table 40/DB. The impact was seen in orders where the Order Date differed from the Requested Date &ndash; the Price Effective Date was being taken from the Requested date, not the Transaction/Order date, effectively ignoring the preference setup. The solution was delivered in BUG 13393057 for the 9.0 release (16197729 for 9.1) and involves a new UDC table, 40/AD. This table has no blank value and starts with value 1 for Transaction Date. To enable usage of the 40/AD in the Preference Values Revisions form (W4072D), the user must set the RQR (&ldquo;Required&rdquo;) field to &ldquo;Y&rdquo; for the CP01 data item, in the P40711 program, for Advanced Preference Type 18.</div>
<p> </p>
<hr />






<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
