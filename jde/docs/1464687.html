<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Memory Violation Part I</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #FF8C00;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>
        
      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Memory Violation Part I</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<h2 class="km"><big><big><a name="section01"></a><span style="font-size: medium;"><BIG>Purpose of Document</BIG></span></big></big></h2>

<div class="kmnotebox"><strong>Note</strong>: If you encounter business function error while using standard application or UBE, it maybe already reported, install ESU for fix. If issue has not been reported, open service request with team that support the application or UBE, example, select product JD Edwards EnterpriseOne Sales Order Management while opening a SR if encountering business function issue while using P4210.<br />If you encounter issue with standard business function used in custom object (application or UBE), check if issue also appear with standard application or UBE. If issue does not appear, most likely there is no bug with the standard business function.</div>

<h3>Table of Contents</h3>
<ul>
  <li><a href="#memoryerror">Memory Error</a></li>
<li><a href="#memoryleak">Memory Leak</a></li>
<li><a href="#memorycorruption">Memory Corruption</a></li> 
<li><a href="#sourcecomponents">Components for Source File (.C File)</a></li>
<li><a href="#diagonistic">Memory Diagnostic Tools in EnterpriseOne:</a></li>
<li><a href="#casestudy">Case Study in Interactive Application:</a></li>
<li><a href="#batch">Memory violation in Batch Application:</a></li>
<li><a href="#opentable">Open Table Not Closed:</a></li>
<li><a href="#functioncleanup">Function Cleanup:</a></li>
<li><a href="#freeenv">JDB_FreeEnv()</a></li>
<li><a href="#jdeini">JDE INI Parameters which ease you to debug:</a></li>
<li><a href="#otherissues">Other issues - Max Cursor and Max Data Pointer:</a></li>
<li><a href="#windowsheap">Windows Heap Manager</a></li>
<li><a href="#otherresources">Other Resources for Troubleshooting memory issue</a></li>
<li><a href="#troubleshootingadditional">Troubleshooting additional</a></li>
<li><a href="#commonmistake">Memory Corruption - Common Mistakes</a></li>
<li><a href="#summary">Summary:</a></li>
<li><a href="#knownissue">Known Issues and Bugs:</a></li>
</ul>

<p> </p>
<p><span style="font-size: inherit;">The purpose of this document is to explain in high level, some memory issues encountered in running standard business functions through the CallObject Kernel in EnterpriseOne. This document includes case studies and resolutions on certain memory issues. This document is not intended to cover specific definition on memory errors or how to detect memory problems. </span></p>
<p><span style="font-size: inherit;">This document is intended to help internal JDE developer on what to check when hitting memory errors in EnterpriseOne and how to apply possible fix for these errors while working on reported bug. But information in this document maybe helpful for developing custom business function.<br /></span></p>
<p><span style="font-size: inherit;">The audience for this document is someone with expert 'C' Programming Language development knowledge. This document only contains examples. It is not meant to be all encompassing. Also see the second document in this series <a href="../docs/1554611.html">document 1554611</a> <i>Case Study on Memory Violation, Memory Corruption, Memory Overwrite, ACCESS VIOLATION and Zombie Kernel Caused by Standard Business Functions Part 2.</i></span></p>
<p><span style="font-size: inherit;">This document does not cover any memory corruption issues caused by the Tools Foundation Layer which is usually fixed through tools release upgrade. This document mainly focuses on memory errors caused by standard business functions which results in CallObject Kernels to crash or runbatch application to fail.</span></p>
<div class="kmnotebox">
<p><strong>Caution</strong>: This document may contain information, software, products or services which are not supported by Oracle Support Services and are being provided &lsquo;as is&rsquo; without warranty. Please refer to the following site for My Oracle Support Terms of Use: <a href="https://support.oracle.com/CSP/ui/TermsOfUse.html">https://support.oracle.com/CSP/ui/TermsOfUse.html</a>.  For <strong>custom business function</strong>, field services may need to be engaged.</p>
</div>
<p> </p>



<!-- ======================================== Body Starts Here =================================== -->

<p>In running EnterpriseOne applications, memory error may occur in 3 different locations,</p>
<ul>
<li>Register memory on Logic Server (where logic, or business function is running)</li>
<li>Virtual memory space in JAS (Java Application Server which calls logic)</li>
<li>Virtual memory area where image of applications is running</li>
</ul>
<p>In this document, we will be focusing on memory errors in the register memory on the logic server. We will concentrate on C programming or Business Functions in EnterpriseOne.</p>
<p>In EnterpriseOne, memory can be represented as data structure, cache, handles (or pointers), cursor, data pointer and so on. Additionally, this document explains some case studies based on ill-treatment of memory in EnterpriseOne Business Functions. Since C's pointers give great possibility on memory manipulation, in return which may cause some memory problem. Memory corruption in client machine may cause service or application getting terminated.</p>
<p> </p>
<h3 class="km"><a name="memoryerror"></a>Memory Error</h3>
<p>For easier reading, we shall categorize memory error into Memory Leak and Memory corruption,</p>
<ul>
<li><span style="font-weight: bold;">Memory Leak</span>: Memory is allocated but not released/freed/terminated.</li>
<li><span style="font-weight: bold;">Memory corruption</span>: Memory area or, buffer has altered unintentionally (without an explicit assignment). Usually unexpected altering of data stored in memory or the altering of a pointer to a specific place in memory</li>
</ul>
<div class="kmnotebox">
<p>Note:</p>
<ul>
<li>Memory Violation: Violating <span style="text-decoration: underline;">memory safety</span> which in turn returns unexpected result</li>
<li>Memory/Buffer Overwrite: Writing more than allocated memory</li>
<li>Zombie Kernel/Process: Memory which is live but is not being referenced by any other user/applications</li>
</ul>
</div>
<h3 class="km"><a name="memoryleak"></a>Memory Leak</h3>
<p><br /> Memory leak takes place when allocated memory is not released/terminated/killed/flushed/deleted. Reducing the available memory for other applications and eventually causing the system to page virtual memory to the hard drive slowing the application or crashing the application when the computer memory resource limits are reached. The system may stop working as these limits are reached. From Tools Release 8.97 onwards, Kernel Recycling will happen when it is not executing any BSFN for a certain amount of time. <br /> This is implemented only for Call Object kernels. In EnterpriseOne (CallObject) Kernel Recycling can free leaked memory.</p>
<hr />
<p><strong>Un-paired API calling</strong></p>
<p>For further detail, please refer to the "<span style="font-weight: bold;">JD Edwards EnterpriseOne Tools 9.1 Development Tools: APIs and Business Functions Guide</span>".<br /> <br /> <span style="font-weight: bold;">Database APIs</span> (Understanding Database Communication Steps)<br /> Several APIs called in succession can perform these steps for database communication:</p>
<ul>
<li>Initialize communication with the database.</li>
<li>Establish a connection to the specific data to access.</li>
<li>Execute statements on the database.</li>
<li>Release the connection to the database.</li>
<li>Terminate communication with the database.</li>
</ul>
<p>This table lists some of the API levels and the communication handles and API names that are associated with them:</p>
<table style="width: 737px; border-collapse: collapse; height: 139px;" border="2" cellspacing="2" cellpadding="2"><colgroup> <col style="width: 48pt;" span="3" width="64" /></colgroup>
<tbody>
<tr style="height: 12.75pt;">
<th style="height: 12.75pt; width: 233px; background-color: #009900; color: white;">API Name</th>
<th style="width: 191px; background-color: #009900; color: white;">Communication Handles</th>
<th style="width: 302px; background-color: #009900; color: white;">API Level</th>
</tr>
<tr style="height: 12.75pt;">
<td style="height: 12.75pt; width: 233px;" height="17">JDB_InitEnv</td>
<td style="width: 191px;">Environment handle</td>
<td style="width: 302px;">Control level (application)</td>
</tr>
<tr>
<td style="vertical-align: top; width: 233px; color: red;">        JDB_InitUser</td>
<td style="vertical-align: top; width: 191px; color: red;">User handle (created)</td>
<td style="vertical-align: top; color: red;">Control level (application)</td>
</tr>
<tr>
<td style="vertical-align: top; background-color: #cccccc; width: 233px;">            JDB_InitBhvr</td>
<td style="vertical-align: top; background-color: #cccccc; width: 191px;">User handle (retrieved)</td>
<td style="vertical-align: top; background-color: #cccccc;">Request level (business function)</td>
</tr>
<tr>
<td style="vertical-align: top; background-color: #cccccc; width: 233px; color: #3333ff;">                JDB_OpenTable</td>
<td style="vertical-align: top; background-color: #cccccc; width: 191px; color: #3333ff;">Request handle</td>
<td style="vertical-align: top; background-color: #cccccc; color: #3333ff;">Request level (business function)</td>
</tr>
<tr>
<td style="vertical-align: top; background-color: #cccccc; width: 233px;">                    JDB_FetchKeyed()</td>
<td style="vertical-align: top; background-color: #cccccc; width: 191px;">Request handle</td>
<td style="vertical-align: top; background-color: #cccccc;">Request level (business function)</td>
</tr>
<tr>
<td style="vertical-align: top; background-color: #cccccc; width: 233px; color: #3333ff;">                JDB_CloseTable</td>
<td style="vertical-align: top; background-color: #cccccc; width: 191px; color: #3333ff;">Request handle</td>
<td style="vertical-align: top; background-color: #cccccc; color: #3333ff;">Request level (business function)</td>
</tr>
<tr>
<td style="vertical-align: top; background-color: #cccccc; width: 233px;">            JDB_FreeBhvr</td>
<td style="vertical-align: top; background-color: #cccccc; width: 191px;">User handle</td>
<td style="vertical-align: top; background-color: #cccccc;">Request level (business function)</td>
</tr>
<tr>
<td style="vertical-align: top; width: 233px; color: red;">    JDB_FreeUser</td>
<td style="vertical-align: top; width: 191px; color: red;">User handle</td>
<td style="vertical-align: top; color: red;">Control level (application)</td>
</tr>
<tr>
<td style="vertical-align: top; width: 233px;">JDB_FreeEnv</td>
<td style="vertical-align: top; width: 191px;">Environment handle</td>
<td style="vertical-align: top;">Control level (application)</td>
</tr>
</tbody>
</table>
<p> </p>
<div class="kmnotebox">Note:
<ul>
<li><span style="font-weight: bold;">Control Level</span> provides functions for initializing and terminating the database connection.</li>
<li><span style="font-weight: bold;">Request Level</span>provides functions for performing database transactions. The request level functions perform these tasks:
<ul>
<li>Connect to and disconnect from tables and business views in the database.</li>
<li>Perform data manipulation operations of select, insert, update, and delete.</li>
<li>Retrieve data with fetch commands.</li>
</ul>
</li>
</ul>
</div>
<p> </p>
<ul>
<li><strong>HENV</strong> The environment handle contains information related to the current database connection and valid connection handles. Every application connecting to the database must have an environment handle. This handle is required to connect to a data source.</li>
<li><strong>HUSER</strong>: The user handle contains information related to a specific connection. Each user handle has an associated environment handle with it. A connection handle is required to connect to a data source. If you are using transaction processing, initializing HUSER indicates the beginning of a transaction.</li>
<li><strong>HREQUEST</strong> The request handle contains information related to a specific request to a data source. An application must have a request handle before executing SQL statements. Each request handle is associated with a user handle.</li>
</ul>
<p> </p>
<hr />
<p><strong>JDECACHE and JDECACHE APIs</strong></p>
<div style="margin-left: 40px;"><span style="font-weight: bold;">JDECACHE</span> is a component of JDEKRNL that can hold <span style="font-style: italic;">any type of indexed data</span> that the application needs to store in memory, regardless of the platform on which the application is running; therefore, an entire table can be read from a database and stored in memory. No limitations exist regarding the type of data, size of data, or number of data caches that an application can have, other than the limitations of the computer on which it is running. Both fixed-length and variable-length records are supported. To use JDECACHE on any supported platform, you need to know only a simple set of API calls.<br /> Data handled by JDECACHE is in RAM. Therefore, ensure that you really need to use JDECACHE. If you use JDECACHE, design the records and indices carefully. Minimize the number of records that you store in JDECACHE because JD Edwards EnterpriseOne software and various other applications need this memory as well.<br /> JDECACHE supports multiple cursors, multiple indexes, and partial keys processing. JDECACHE is flexible in terms of positioning within the cache for data manipulation, which improves performance by reducing searching within the cache.</div>
<p><br /> JDECACHE Manipulation APIs</p>
<div style="margin-left: 40px;">You can use the JDECACHE manipulation APIs for retrieving and manipulating the data in the cache. Each API implements <span style="color: red;">a cursor that acts as pointer to a record</span> (user specific) that is currently being manipulated. This cursor is essential for navigation within the cache. JDECACHE manipulation APIs should be passed handles of these types HCACHE and HJDECURSOR:</div>
<p><br /> Calling JDECACHE APIs</p>
<div style="margin-left: 40px;">JDECHACHE APIs must be called in a certain order,<br /> Prerequisites<br /> Before you can use JDECACHE, you must:<br />
<ul>
<li><span style="font-weight: bold;">Define an index:</span> The index specifies to the cache the fields in a record that are used to uniquely identify a cache record.</li>
<li><span style="font-weight: bold;">Initialize a cache</span>: Each group of data that an index references requires a separate cache.</li>
</ul>
</div>
<p> </p>
<table style="width: 1230px; border-collapse: collapse; height: 285px;" border="2" cellspacing="2" cellpadding="2"><colgroup> <col style="width: 58pt;" width="77" /> <col style="width: 101pt;" width="135" /></colgroup>
<tbody>
<tr style="height: 12.75pt;">
<th style="height: 12.75pt; width: 227px; background-color: #009900; color: white;">API Calling</th>
<th style="width: 993px; background-color: #009900; color: white;">Explanation</th>
</tr>
<tr style="height: 12.75pt;">
<td style="height: 12.75pt; width: 227px;" height="17">1. Call JDB_InitBhvr</td>
<td style="width: 993px;">Each cache must be associated with a user, you must also pass the user handle obtained from the call to JDB_InitUser. This API returns an HCACHE handle to the cache that JDECACHE creates. This handle appears in every subsequent JDECACHE API to identify the cache.<br />
<ul>
<li>HCACHE: Identifies the cache that is being worked.</li>
<li>HJDECURSOR: Identifies <span style="color: red;">the position in the cache</span> that is being worked.</li>
</ul>
</td>
</tr>
<tr>
<td style="vertical-align: top; width: 227px;">2. Create index or indices</td>
<td style="vertical-align: top; width: 993px;"> </td>
</tr>
<tr>
<td style="vertical-align: top; width: 227px;">3. Call jdeCacheInit, jdeCacheInitEx, jdeCacheInitMultipleIndex, or jdeCacheInitMultipleIndexEx.</td>
<td style="vertical-align: top; width: 993px;">The jdeCacheInit and jdeCacheInitMultipleIndex APIs initialize the cache uniquely per user. Therefore, if a user logs in to the software and then runs two sessions of the same application simultaneously, the two application sessions will share the same cache. Consequently, if the first application deletes a record from the cache, the second application cannot access the record. Conversely, if two users log in to the software and then run the same application simultaneously, the two application sessions have different caches. Consequently, if the first application deletes a record from its cache, the second application will still be able to access the record in its own cache. The jdeCacheInitEx and jdeCacheInitMultipleIndexEx APIs function exactly the same, but they additionally enable you to define the maximum number of cursors that can be opened by the cache.<br /> <br /> The jdeCacheInitUser and jdeCacheInitMultipleIndexUser APIs initialize the cache uniquely per application. Therefore, if a user logs in to the software and then runs two sessions of the same application simultaneously, the two application sessions will have different caches. Consequently, if the first application deletes a record from its cache, the second application can still access the record in its own cache.</td>
</tr>
<tr>
<td style="vertical-align: top; width: 227px;">4. Call jdeCacheAdd</td>
<td style="vertical-align: top; width: 993px;"> </td>
</tr>
<tr>
<td style="vertical-align: top; width: 227px;">5. Call jdeCacheOpenCursor</td>
<td style="vertical-align: top; width: 993px;">a JDECACHE cursor is <span style="color: red;">a pointer to a record in a users cache</span></td>
</tr>
<tr>
<td style="vertical-align: top; width: 227px;">6. Call JDECACHE Operations</td>
<td style="vertical-align: top; width: 993px;">JDECACHE operation APIs can be called any order</td>
</tr>
<tr>
<td style="vertical-align: top; width: 227px;"> </td>
<td style="vertical-align: top; width: 993px;">Mainpulation of Cache: jdeCacheOpenCursor, jdeCacheResetCursor, jdeCacheAdd, jdeCacheFetch, jdeCacheFetchPosition, jdeCacheUpdate, jdeCacheDelete, jdeCacheDeleteAll,  jdeCacheCloseCursor, jdeCacheFetchPositionByRef, jdeCacheSetIndex, jdeCacheGetIndex etc.</td>
</tr>
<tr>
<td style="vertical-align: top; width: 227px;">jdeCacheTerminate</td>
<td style="vertical-align: top; width: 993px;">For every jdeCacheInit, jdeCacheInitEx, jdeCacheInitMultipleIndex, or jdeCacheInitMultipleIndexEx, a corresponding jdeCacheTerminate must exist, except instances in which the same cache is used across business functions or forms. In this case, all unterminated jdeCacheInit, jdeCacheInitEx, jdeCacheInitMultipleIndex, or jdeCacheInitMultipleIndexEx calls must be terminated with a jdeCacheTerminateAll.<br /> A jdeCacheTerminate call terminates the most recent corresponding jdeCacheInit or jdeCacheInitEx. This means that the same cache can be used in nested business functions. In each function, perform a jdeCacheInit or jdeCacheInitEx or jdeCacheInitEx that passes the cache name. Before exiting that function, call jdeCacheTerminate. This does not destroy the cache. Instead, it destroys the association between the cache and the passed HCACHE handle. The cache is completely destroyed from memory only when the number of jdeCacheTerminate calls matches the number of jdeCacheInit or jdeCacheInitEx calls. In contrast, one call to jdeCacheTerminateAll destroys the cache from memory regardless of the number of jdeCacheInit, jdeCacheInitEx, jdeCacheInitMultipleIndex, or jdeCacheInitMultipleIndexEx calls or jdeCacheTerminate calls</td>
</tr>
</tbody>
</table>
<p><h3><a name="memorycorruption"></a>Memory Corruption</h3> 
Memory Corruption can occur when :</p>
<ul>
<ul>
<li>Buffer overflow</li>
<ul>
<li>Overwrite beyond allocated length - overflow</li>
<li>Index of array out of bounds (array index overflow (index too large) or array index underflow (negative index))</li>
</ul>
<li>Using an address (a pointer or handle) before memory is allocated and set</li>
<li>Using a pointer which is already freed</li>
<li>Freeing/Deleting/Terminating memory/cache which has already been freed.</li>
<li>Pointer persistence: Function returning a pointer from the stack which can get overwritten by the calling function</li>
<li>Incorrect passing of a function argument: In general, through dependency problem</li>
<li>Un-paired API calling</li>
</ul>
</ul>
<div class="kmnotebox">Note:<br />
<ul>
<li>The cause of memory corruption may vary. Therefore  it is important to review logs (JDE_*.logs, JDEDEBUG_*.logs, Dump Log and Call Stack).</li>
<li>Check e1root_.log in JAS</li>
<li>Check JDE_*.log for SAW Kernel and JDENET_n kernel which contains offending business function with victim</li>
</ul>
</div>
<hr />
<p> </p>
<h4 class="km"><a name="memorycorruptionexample"></a>Memory Corruption and Example:</h4>
<p><br /> For further detail, please refer to the "<span style="font-weight: bold;">JD Edwards EnterpriseOne Tools 9.1 Development Tools: APIs and Business Functions Guide</span>"   <span style="font-size: small;">(Link <a href="http://www.oracle.com/technology/documentation/jdedent.html" alt="KD Edwards EnterpriseOne Documentation" title="KD Edwards EnterpriseOne Documentation" target="_blank">JD Edwards EnterpriseOne Documentation</a></span>)<br /> <br />  According to industry terms , memory corruption can be categorized as follows:</p>
<table style="width: 1337px; border-collapse: collapse; height: 223px;" border="2" cellspacing="2" cellpadding="2"><colgroup> <col style="width: 48pt;" width="64" /> <col style="width: 44pt;" width="58" /> <col style="width: 51pt;" width="68" /> <col style="width: 48pt;" width="64" /></colgroup>
<tbody>
<tr style="height: 12.75pt;">
<th style="height: 12.75pt; width: 187px; background-color: #ffcc00;">Cause</th>
<th style="vertical-align: top; background-color: #ffcc00; width: 341px;">Explanation</th>
<th style="width: 353px; background-color: #ffcc00;">Example</th>
<th style="width: 174px; background-color: #ffcc00;">Resolution</th>
<th style="width: 260px; background-color: #ffcc00;">Others</th>
</tr>
<tr>
<td style="vertical-align: top; width: 187px;">Memory is not initialized</td>
<td style="vertical-align: top; width: 341px;">Contents of uninitialized memory are treated as garbage values. Using such values can lead to unpredictable program behavior.</td>
<td style="vertical-align: top; width: 353px;">Refer to components for c Source file below.<br /> Initializations (of variables)</td>
<td style="vertical-align: top; width: 174px;">Correct code.</td>
<td style="vertical-align: top; width: 260px;"> </td>
</tr>
<tr>
<td style="vertical-align: top; width: 187px;">Memory belongs to different process</td>
<td style="vertical-align: top; width: 341px;">It is common to use pointers to access and modify memory. If such a pointer is a null pointer, dangling pointer (pointing to memory that has already been freed), or to a memory location outside of current stack or heap bounds, it is referring to memory that is not then possessed by the program. Using such pointers is a serious programming flaw. Accessing such memory usually causes operating system exceptions, also termed page faults, which most commonly lead to a program crash.</td>
<td style="vertical-align: top; width: 353px;">Since EnterpriseOne CallObject Kernel is running in multi-thread so it is rare to have this type of issue.</td>
<td style="vertical-align: top; width: 174px;">Move global variables to parameter of calling/called business functions</td>
<td style="vertical-align: top; width: 260px;">This definition is more for C/C++ language in general rather than EnterpriseOne. In EnterpriseOne most of business function holds general information as parameters which minimize the usage of Globals. <br /> <br />  </td>
</tr>
<tr>
<td style="vertical-align: top; width: 187px;">(Memory) Buffer Over flow (Using beyond allocated Memory)</td>
<td style="vertical-align: top; width: 341px;">If an array is used in a loop, with incorrect terminating condition, memory beyond the array bounds may be manipulated. Buffer overflow is one of the most common programming flaws exploited by computer viruses causing serious computer security issues (e.g. return-to-libc attack, stack-smashing protection) in widely used programs. One can also incorrectly access the memory before the beginning of a buffer.</td>
<td style="vertical-align: top; width: 353px;">This issue can come in a single string (which is character array) in stripping a certain character. Or in running R3483 the allocated memory is far smaller than cache to be created.</td>
<td style="vertical-align: top; width: 174px;">Allocate correct size of array.</td>
<td style="vertical-align: top; width: 260px;"> Or buffer overrun</td>
</tr>
<tr>
<td style="vertical-align: top;">Incorrect Heap Memory Management</td>
<td style="vertical-align: top;">Memory leaks and freeing non-heap or un-allocated memory are the most frequent errors caused by faulty heap memory management</td>
<td style="vertical-align: top;">Refer to heap and stack section. Usually resulted in ACCESS VIOLATION</td>
<td style="vertical-align: top;">N/A</td>
<td style="vertical-align: top;">Refer to http://msdn.microsoft.com/en-us/library/ms810603.aspx</td>
</tr>
</tbody>
</table>
<p> </p>
<div class="kmnotebox">Note
<ul>
<li>This category is borrowed from outside JDE which is generally recognized in C Programming</li>
<li>The result of memory corruption is Zombie Process (or Zombie Kernel) because memory corruption shall failed to calling routine</li>
<li>In iSeries platform JDE log shall contain CallStack information</li>
<li>(In current tools release) windows platform dump memory corruption</li>
<li>JDEDEBUG.log may ends abruptly (If transaction ends successfully CallObject kernel log contains calling of business function jdeFreeEnvBSFN</li>
<li>It is important to capture jdedebug.log and analyze it where you can check the function then focus on the last 2 functions,
<ul>
<li>Case (corruption is caused by calling routine) Example 1</li>
<li>Case (corruption is caused by called routine) Example 2</li>
</ul>
</li>
</ul>
</div>
<p> </p>
<hr />
<p> </p>
<p>Typical Business Function components in EnterpriseOne</p>
<p>For example (B4200310.c),</p>
<p style="font-style: italic; margin-left: 40px;">JDEBFRTN(ID) JDEBFWINAPI F4211FSBeginDoc(LPBHVRCOM lpBhvrCom, LPVOID lpVoid, LPDSD4200310H lpDS)<br /> {<br />         :<br />         :<br /> }</p>
<p>Above statement can be understood F4211FSBeginDoc is Windows API which can be called directly from application and returns (ID - pointer) with 3 parameters. All business functions share the same return type and parameter data types. Only the function name and the data structure number vary between business functions.</p>
<ul>
<li>JDEBFRTN(ID)JDEBFWINAPI: All business functions will be declared with this return type. It ensures that they are exported and imported properly.</li>
<li>Parameter names (lpBhvrCom, lpVoid, and lpDS) will be the same for all business functions.</li>
<li>LPBHVRCOM: Pointer to a data structure used for communicating with business functions. Values include an environment handle.</li>
<li>LPVOID: Pointer to a void data structure. Currently used for error processing; will be used for security in the future.</li>
<li>LPDS4200310H: Pointer to a data structure containing information that is passed between the business function and the application or report that invoked it. This number is generated through Object Librarian.</li>
</ul>
<table style="width: 702px; border-collapse: collapse; height: 154px;" border="2" cellspacing="2" cellpadding="2"><colgroup> <col style="width: 48pt;" span="3" width="64" /></colgroup>
<tbody>
<tr style="height: 15pt;">
<th style="height: 15pt; width: 133px; background-color: #cccccc;">Component</th>
<th style="width: 271px; background-color: #cccccc;">Where created<br /> (repository)</th>
<th style="width: 306px; background-color: #cccccc;">Detail</th>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt; width: 133px;" height="20">Business Function Specification</td>
<td style="width: 271px;">OMW - Business Function Design<br /> (Central Object in Database Server)</td>
<td style="width: 306px;">F98762 - JDEBLC - Behavior Information<br /> JDEBLC</td>
</tr>
<tr>
<td style="vertical-align: top; width: 133px;">Data Structure Specifications</td>
<td style="vertical-align: top; width: 271px;">OMW - Data Structure Design<br /> (Central Object in Database Server)</td>
<td style="vertical-align: top; width: 306px;">F98743 - Data Structure Templates<br /> DSTMPL</td>
</tr>
<tr>
<td style="vertical-align: top; width: 133px;">.H File</td>
<td style="vertical-align: top; width: 271px;">Generated in Business Function Design<br /> Modified with the IDE<br /> (Deployment Server)</td>
<td style="vertical-align: top; width: 306px;">Header File Comment<br /> Table Header Inclusions<br /> External Business Function Header Inclusions<br /> Global Definitions<br /> Structure Type Definition<br /> DS Template Type Definition<br /> Source Preprocessor<br /> Business Function Prototype<br /> Internal Function Prototype</td>
</tr>
<tr>
<td style="vertical-align: top; width: 133px;">.C File</td>
<td style="vertical-align: top; width: 271px;">Generated in Business Function Design<br /> Modified with the IDE<br /> (Deployment Server)</td>
<td style="vertical-align: top; width: 306px;">Refer below "<a href="#sourcecomponents" alt="Source Components" title="Source Components">Components for Source File</a>"</td>
</tr>
</tbody>
</table>
<p><h3><a name="sourcecomponents"></a>Components for Source File (.C File)</h3></p>
<table style="width: 929px; border-collapse: collapse; height: 264px;" border="2" cellspacing="2" cellpadding="2"><colgroup> <col style="width: 48pt;" span="3" width="64" /></colgroup>
<tbody>
<tr style="height: 12.75pt;">
<th style="height: 12.75pt; width: 48pt; background-color: #666666; color: white;">components</th>
<th style="width: 48pt; background-color: #666666; color: white;">Usage</th>
<th style="width: 48pt; background-color: #666666; color: white;">Example</th>
</tr>
<tr style="height: 12.75pt;">
<td style="height: 12.75pt;" height="17">Variable declarations</td>
<td>(via IDE) Declares variables that are local to the business function</td>
<td>ID             idReturnValue           =  ER_SUCCESS;</td>
</tr>
<tr>
<td style="vertical-align: top;">Declare structures (Optional)</td>
<td style="vertical-align: top;">(IDE) Declares local data structures to communicate between business functions, internal functions, and the database.</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">Declare Pointers</td>
<td style="vertical-align: top;">(IDE) declare pointers</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">Check for NULL pointers</td>
<td style="vertical-align: top;">(Business Function Standard) Verifies that all communication structures between an application and the business function are valid</td>
<td style="vertical-align: top;">(lpBhvrCom == (LPBHVRCOM) NULL) ||<br />         (lpDS      == (LPDSD4200310H) NULL))</td>
</tr>
<tr>
<td style="vertical-align: top;">Set Pointers</td>
<td style="vertical-align: top;">(IDE) Declares and assigns appropriate values to pointers</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">Initialize Behavior Routine</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">Initializations (of variables)</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">Initialize Data Structures</td>
<td style="vertical-align: top;">Allocate memory for declared structure above.</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">Initialize Behavior Routine</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">JDB_InitBhvr(lpBhvrCom, &amp;hUser,(JCHAR *) NULL, JDEDB_COMMIT_AUTO);</td>
</tr>
<tr>
<td style="vertical-align: top;">Set Up Cache Index Keys</td>
<td style="vertical-align: top;">This routine can come after or before main</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top; font-weight: bold;">Main Processing</td>
<td style="vertical-align: top;">jdeCallObject(), CALLIBFRET(), CALLBF()<br /> (IDE) Provides main functionality for a business function<br /> In C standard main() is to be handled here</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">Function Clean Up</td>
<td style="vertical-align: top;">(IDE) Frees any dynamically allocated memory</td>
<td style="vertical-align: top;"> </td>
</tr>
</tbody>
</table>
<p> </p>
<div class="kmnotebox">Note:
<ul>
<li>An integrated development environment (IDE) is a software application that provides comprehensive facilities to computer programmers for software development. An IDE normally consists of:</li>
<li style="list-style-type: none;">
<ul>
<li> a source code editor</li>
<li> build automation tools</li>
<li> a debugger</li>
</ul>
</li>
<li>E1: ENV: Overview of Specification (SPEC) in EnterpriseOne (Doc ID 1142313.1)</li>
<li>Same information can be found at C Business Functions from Oracle Documentation Library in "API and Business Function Design" for EnterpriseOne tools release</li>
</ul>
</div>
<p> </p>
<hr />
<p> </p>
<p><strong>Memory Initialization</strong></p>
<p>In a certain compiler it may write Warning Message C6001: Using uninitialized memory &lt;variable&gt;</p>
<div style="margin-left: 40px;">Example:<br />
<div style="margin-left: 40px; font-style: italic;">Using uninitialized memory dsD4200370B<br /> *** Break In Code B4200370 ***<br /> /**********************************************************************<br />  * Business Function structures    <br /> **********************************************************************/<br />  DSD4200370B    dsD4200370B;         /* F41021 Delete Cache */ <br />    :<br />    :<br />    :<br /> if (I4200310_DoDeferredCommitments(lpds4200310D, lpdsF42UI11) == TRUE)<br /> {<br />    I4200310_ProcessDeferredCommitments(lpBhvrCom, lpVoid, lpDS);<br />    dsD4200370B.cMode    =_J('2');<br /> }</div>
<br /> Solution:<br />
<div style="margin-left: 40px;">The solution is to initialize the memory either at declaration time or with a memset.<br /> <span style="color: red; font-style: italic;">DSD4200370B    dsD4200370B = {0};</span><br style="font-style: italic;" /> <span style="font-style: italic;">--- or ---</span><br style="font-style: italic;" /> <span style="color: red; font-style: italic;">memset((void *)&amp;dsD4200370B, 0x00, sizeof(dsD4200370B));</span></div>
</div>
<p> </p>
<hr />
<p> </p>
<p><strong>Global Variables (Memory belongs to other process)</strong></p>
<p>Since EnterpriseOne CallObject Kernel can be running in multi-threaded CallObject Kernel Process. So it is very unlikely to have this type of issue in the EnterpriseOne release you are working on. For detail refer to &lt;Document 748330.1&gt; Multithreaded Kernels.</p>
<p>Currently business functions in EnterpriseOne are threadsafe (that is, can safely share a kernel with other business functions). In general, to make your business functions threadsafe, you must remove global and static variables, as<br /> well as references to non-threadsafe APIs.</p>
<div style="margin-left: 40px;">GLOBALS<br />
<div style="margin-left: 40px;">Often, global structures are used so that each function does not need to declare a local instance. For example, they may be used as a mechanism to pass information between functions. In this case, pass in the value as a parameter instead of using a global, because information on the stack is thread-specific and, thus, threadsafe. If it is impossible to pass the value via a parameter, consider storing and retrieving the value from JDECACHE. However, keep in mind the fact that you can degrade performance if you store a very large quantity of redundant information in cache or if you access cache a very large number of times.<br /> " The global is used as a constant. In this case, do not declare a variable; instead, use #define or other constructors.<br /> " The global is used as an implicit parameter. In this case, change the function prototype to accept a new parameter.<br /> " The global is extraneous or used as a local variable only. In this case, reduce the variable scope as appropriate.</div>
<br /> STATICS<br />
<div style="margin-left: 40px;">Static variables are often used to store state data, such as an ID counter or a last ID used reference. However, state information should be stored within JDECACHE. Static variables are also used to cache information created just once. Instead, use local variables for this function. If a global is used to specify a default value or constant, be sure to declare the global as 'const' to ensure that no threads can modify the value.<br /> " The static is used as a constant. In this case, replace it with a local constant.<br /> " The static is used as an implicit parameter. In this case, change the function prototype to accept a new parameter.<br /> " The static is not used to store state information. In this case, remove the keyword (static) from the variable declaration.</div>
</div>
<p> </p>
<hr />
<p> </p>
<p><strong>Buffer overflow</strong></p>
<p>Buffer overrun or buffer overwrite can be used to explain this terms.</p>
<p>C6386: Buffer overrun accessing &lt;buffer&gt;, the writable size is &lt;write-size&gt;, but &lt;write-index&gt; bytes may be written</p>
<div style="margin-left: 40px;">Example:<br />
<div style="margin-left: 40px; font-style: italic;">Buffer overrun: accessing lpDS-&gt;szDescription the writable size is 62 bytes but 64 bytes might be written.<br />       JCHAR   szDescription[31];<br />    ushort  nMaxSize = 31;<br /> <br />    nMaxSize = DIM (szDescription);<br />    while (lpDS-&gt;szLevelOfIndention[nCounter] == _J('.'))<br />    {<br />       for (j = (nMaxSize - 1); j &gt; 0; j--)<br />       {<br />         szDescription[j] = szDescription[j-1];<br />       }<br />       szDescription[0] = _J(' ');<br />       ++nCounter;<br />    }/*end while*/<br />    szDescription[nMaxSize] = _J('\0');<br /> DIM will return the length of the szDescription variable, which is 31. Since the C Programming language is a zero origin language, the valid indexes are 0 to 30. The assignment above is using 31 which is outside the bounds of our string.</div>
<br /> Solution:<br />
<div style="margin-left: 40px;">Modify the code to stay within the boundaries of the string. In this case one can be subtracted from the nMaxSize variable because we know DIM returned the length of the variable, not the length of what is in the variable.<br />    <span style="font-style: italic;">szDescription[nMaxSize-1] = _J('\0');</span></div>
</div>
<hr />
<p> </p>
<p><strong>Incorrect Heap Manager</strong></p>
<p>JDEdwards EnterprisneOne do not have control over Heap manager. Refer to your vendor for detail because this is very much operating system dependent. Some external reference:-</p>
<ul>
<li>Windows Heap Memory Manager: <a href="http://msdn.microsoft.com/en-us/library/ms810603.aspx" alt="http://msdn.microsoft.com/en-us/library/ms810603.aspx" title="http://msdn.microsoft.com/en-us/library/ms810603.aspx" target="_blank">http://msdn.microsoft.com/en-us/library/ms810603.aspx</a></li>
<li>iSeries Heap Memory Manager: <a href="http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/index.jsp?topic=/rtref/stacktracebacks.htm" alt="http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/index.jsp?topic=/rtref/stacktracebacks.htm" title="http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/index.jsp?topic=/rtref/stacktracebacks.htm" target="_blank">http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/index.jsp?topic=/rtref/stacktracebacks.htm</a></li>
<li>SUN Solaris: <a href="http://developers.sun.com/solaris/articles/solaris_memory.html" alt="http://developers.sun.com/solaris/articles/solaris_memory.html" title="http://developers.sun.com/solaris/articles/solaris_memory.html" target="_blank">http://developers.sun.com/solaris/articles/solaris_memory.html</a></li>
</ul>
<hr />
<p> </p>
<p><strong>Heap Memory Error and Stack Memory Error:</strong></p>
<p>   Cause of Heap memory errors and Stack memory errors,</p>
<ul>
<li>Memory errors: </li>
<ul>
<li style="font-weight: bold;">Heap memory errors:</li>
<ul>
<li>Attempting to free memory already freed. </li>
<li>Freeing memory that was not allocated. </li>
<li>Attempting to write to memory already freed. </li>
<li>Attempting to write to memory which was never allocated. </li>
<li>Memory allocation error. </li>
<li>Reading/writing to memory out of the bounds of a dynamically allocated array </li>
</ul>
</ul>
<ul>
<li style="font-weight: bold;">stack (local variables) memory errors:</li>
<ul>
<li>Reading/writing to memory out of the bounds of a static array. (array index overflow - index too large/underflow - negative index) </li>
</ul>
</ul>
<ul>
<ul>
<li>Function pointer corruption: Invalid passing of function pointer and thus a bad call to a function.</li>
</ul>
</ul>
</ul>
<p> <br /> <img src="&lt;&lt;INLINE_ATTACHMENT:1464687.1:MEMORYSEGMENTS&gt;&gt;" border="0" alt="Memory Segments" title="Memory Segments" hspace="0"/></p>
<hr />
<p> <br />  </p>
<h3 class="km"><a name="diagonistic"></a>Memory Diagnostic Tools in EnterpriseOne:</h3>
<p>Refer to the following sections in the <em><strong>JD Edwards EnterpriseOne Tools Server and Workstation Administration Guide Release 9.1</strong></em> (HTML Link: http://docs.oracle.com/cd/E24705_01/doc.91/e24259/toc.htm , PDF Link: http://docs.oracle.com/cd/E24705_01/doc.91/e24259.pdf)</p>
<div style="margin-left: 40px;">
<ul>
<li>13.7 Troubleshooting the Enterprise Server Processes</li>
<li>13.7.2 Evaluating EnterpriseOne Server Performance</li>
<li>13.7.1 Understanding Resource Utilization and Performance</li>
</ul>
</div>
<p><br /> <span style="font-style: italic;">The JD Edwards EnterpriseOne kernel architecture is divided into the C business function layer and the tools foundation layer. This architecture is susceptible to the intrinsic memory manipulation weaknesses in the C programming paradigm of memory leaks and corruption. This can lead to crashed CallObject kernels and runbatch processes which directly result in failed business transactions, loss of productivity and downtime usually requiring an excessive amount of time to troubleshoot and correct.</span><br /> <br /> In addition, the kernel and batch processes utilize resources and place demands on memory and the CPU and execute in the context of other processes that also demand memory and CPU resources. Each process has its own level of impact on the system, and the cumulative effect of all processes currently running will impact performance. Appropriate data can be captured and used with measurement tools to evaluate overall performance as well as the impact of individual processes. When utilization or performance exceeds certain thresholds, it is critical to have tools that can diagnose which process is creating the resource overload in order to correct the problem and restore the performance to normal levels before the system crashes.<br /> <br /> A new administration tool called <span style="font-weight: bold;">Kernel Resource Management (KRM) </span>has been added to Server Manager to enable you to increase system stability and simplify the troubleshooting process. Graphs allow you to quickly identify processes with high resource consumption and recycling allows the ability to reclaim system resources.</p>
<div style="margin-left: 40px;">There are graphs for the following:<br />     Summary Graphs for entire Enterprise Server that displays memory and CPU usage.<br />     At Enterprise Server level, there are graphs that display the Top 10 Processes by Memory and CPU.<br />     At the Individual Process Level there are graphs for CPU, Memory, caches and DB connections.<br /> <br /> New diagnostics allows you to quickly identify root cause of resource consumption issues. For Diagnostics, information about the current resource usage is written to the jdedebug.log:<br /> Cache information:<br />     Cache name<br />     Number of records in the cache<br />     Indices<br /> <br /> Database Transactions:<br />     Commitment type<br />     User<br />     Application</div>
<p>New tools allow the JD Edwards EnterpriseOne development and QE processes to identify and resolve resource consumption defects prior to RTM. KRM enables you to monitor kernel and batch processes and to diagnose CPU and memory usage issues.</p>
<p> <img src="&lt;&lt;INLINE_ATTACHMENT:1464687.1:MEMORY&gt;&gt;" border="0" alt="Memory Diagnostics" title="Memory Diagnostics" hspace="0"/></p>
<hr />
<p> </p>
<h3 class="km"><a name="casestudy"></a>Case Study in Interactive Application:</h3>
<p><big>Refer to part 2 of this document: &lt;Document 1554611.1&gt; <big><sup>E1: BSFN: Case Study on Memory Violation, Memory Corruption, Memory Overwrite, ACCESS VIOLATION and Zombie Kernel Troubleshooting.</sup></big></big></p>
<ul>
<li><big>Memory overwrite</big>: For this example, two business functions are not able to communicate properly. The size of string (Character Array) of calling routine is smaller than the size assigned by called routine.</li>
<li><big>Buffer Overflow (called Business Function fails into zombie): </big>Called business function fails to return to calling routine. This type of memory error can occur when a certain routine is checking individual characters in a character array (namely, string)</li>
<li><big style="font-style: italic;">Integer value is too long</big>: This case is to show possible memory corruption which is caused by data. Similar issue can occur when a certain string value contains Special Character in it. For special characters in C language, refer to &lt;Document 1271740.1&gt; E1: BSFN: How to Write a C Business Function to Return a Special Character.</li>
<li><big>ACCESS VIOLATION: </big>This error is coming usually in function cleanup where free memory, close handles and so on is used on 64-bit Windows Servers.</li>
<li><big>Memory Overwrite II: </big>This type of error can come in API jdeStrcpy() and jdeStrncpy() when the size between left operand is different from right operand.</li>
<li>Example 1: In AS400, all the inventory transaction fails when transaction UOM is different from Primary UOM</li>
<li><big>Column Array Mismatch: </big>The Columns array used to open the table did not match the data structure used to fetch the data from the table; as a result the fetched record from table got incorrectly mapped to the cache Data Structure in return this resulted in memory overwrite. Most of standard business function stores data pointer rather than returning actual column value but when there is any business function which has to return column value to data structure defined, the sequence of columns for a specific table (through Array) has to be in synch with data structure defined.</li>
</ul>
<h3 class="km"><a name="batch"></a>Memory violation in Batch Application:</h3>
<p>Memory Violation message in PDF or JDEDEBUG.log shall not reflect actual offending business function. Because Memory Violation message in PDF is to be written by UBE Kernel, which reads and process line by line based on event rule as a result it only indicates the first level business function (which is called by report). So if a certain UBE is calling any business function through UBE Kernel, which is waiting for called business function to return. If it fails, then Memory Violation Message is to be written in PDF. For this reason if you turn on UBE log, same message can be retrieved. For this case, it is very important for you to capture both UBE kernel log and CallObject Kernel log by setting tracing (which records callobject process) and UBE Logging Level 6.</p>
<p>As we have describe above, Memory Violation can be understood as violating <span style="text-decoration: underline;">memory safety</span> which in turn returns unexpected result. So you need to resolve this message to guarantee the result you are getting is correct and valid.</p>
<p>Unlike interactive application, transaction volume in a certain batch may affect result so verify that whether there is any memory leak. If so, resolve memory leak first to move on to memory corruption. Most of time, memory leak and memory corruption can be related in batch.</p>
<p>For detail, Refer to part 2 of this document: &lt;Document 1554611.1&gt; E1: BSFN: Case Study on Memory Violation, Memory Corruption, Memory Overwrite, ACCESS VIOLATION and Zombie Kernel Troubleshooting.</p>
<hr />
<p> </p>
<h3 class="km"><a name="opentable"></a>Open Table Not Closed:</h3>
<p>Most commonly un-faired JDB API can cause this issue which failed to disconnect from database. But if a certain application is closed properly (either through UBE Kernel for batch job or JAS for interactive application) jdeFreeEnvBSFN will detect and determine all the memory leak and open connection. If any, this same routine will handle this type of memory leak.</p>
<p>For further detail, refer to <a href="#freeenv" alt="JDB_FreeEnv()" title="JDB_FreeEnv()">JDB_FreeEnv()</a> section</p>
<hr />
<h3 class="km"><a name="functioncleanup"></a>Function Cleanup:</h3>
<p>This section is to show correct coding in "Function Clean Up" section of C Source Codes. Our case study shows that most commonly ACCESS VIOLATION is caused by below routines. But it is not madatory to check whether handle, pointer, data pointer and so on is NULL before calling Free(). So you may need to approach it case by case basis.</p>
<table style="width: 981px; border-collapse: collapse; height: 484px;" border="2" cellspacing="2" cellpadding="2"><colgroup> <col style="width: 48pt;" span="3" width="64" /></colgroup>
<tbody>
<tr style="height: 15pt;">
<th style="height: 15pt; width: 48pt; background-color: #009900; color: white;">Source code</th>
<th style="width: 48pt; background-color: #009900; color: white;">Actual Implemenation</th>
<th style="width: 48pt; background-color: #009900; color: white;">Considerations</th>
</tr>
<tr style="height: 15pt;">
<td style="height: 15pt;" height="20">B4200310.c</td>
<td>Example 1:<br />    if (hRequestF4211 != (HREQUEST)NULL)<br />    {<br />       JDB_CloseTable(hRequestF4211);<br />    }</td>
<td> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">Example 2:<br />    if (hUser != (HUSER)NULL)<br />    {<br />       JDB_FreeBhvr(hUser);<br />       hUser = (HUSER)NULL;<br />    }</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">XT4314Z2</td>
<td style="vertical-align: top;">Example 1<br />     if    ((dsGetPODetail.idPointerToF4311DataStructure != (ID) 0) &amp;&amp;<br />         (lpdsF4311Detail != (LPF4311) NULL)    )<br />     {<br />         lpdsF4311Detail = jdeRemoveDataPtr(hUser,<br />                                 (unsigned long) dsGetPODetail.idPointerToF4311DataStructure );       <br />         if (lpdsF4311Detail != (LPF4311) NULL) <br />         {<br />             jdeFree( (void*) lpdsF4311Detail);<br />         }<br />         lpdsF4311Detail= (LPF4311) NULL;<br />         dsGetPODetail.idPointerToF4311DataStructure = (ID) 0;<br />     }</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">Example 2: Free pointer to the F43121 Data Structure<br />     if ( dsGetPOReceipt.idPointerToF43121DataStructure != (ID) 0)<br />     {<br />         if (lpdsF43121 != (LPF43121) NULL)<br />         {<br />             jdeFree( (void*) lpdsF43121);<br />         }       <br />         lpdsF43121= (LPF43121) NULL; <br />         dsGetPOReceipt.idPointerToF43121DataStructure =(ID) 0;<br />     }</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">Examaple 3: Free pointer to the Item Branch record - i.e. F4102<br />     if ((dsChkItemBr.idItemBranchRecord != (ID) 0) &amp;&amp; <br />         (lpdsF4102 != (LPF4102)NULL))<br />     {<br />         if (lpdsF4102 != (LPF4102) NULL) <br />         {<br />             jdeFree( (void*) lpdsF4102);<br />         }<br />         lpdsF4102= (LPF4102) NULL;<br />         dsChkItemBr.idItemBranchRecord =(ID) 0;<br />      }</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">Example 4<br />    if(hUser) /* or this can be written <span style="font-style: italic;">if (hUser != (HUSER) NULL)</span> */<br />    {<br />       JDB_FreeBhvr(hUser);<br />    }</td>
<td style="vertical-align: top;"> </td>
</tr>
</tbody>
</table>
<hr />
<p> </p>
<h3 class="km"><a name="freeenv"></a>JDB_FreeEnv()</h3>
<p>The API JDB_FreeEnv() is to release all memories, connections to DB, Library caches and so on. Through JDB_FreeEnv(), memory leak or open table are to be handled for specific user and environment.</p>
<p>Below APIs can be called in JDB_FreeEnv();</p>
<p>In JDEDEBUG message ""Entering JDB_FreeEnv (EnvHandle 999999)" (for this example, 999999 is handle for hExe),</p>
<table style="width: 963px; border-collapse: collapse; height: 1181px;" border="2" cellspacing="2" cellpadding="2"><colgroup> <col style="width: 48pt;" span="2" width="64" /> <col style="width: 74pt;" width="98" /></colgroup>
<tbody>
<tr style="height: 12.75pt;">
<th style="height: 12.75pt; width: 189px; background-color: #009900; color: white;">API</th>
<th style="width: 330px; background-color: #009900; color: white;">For</th>
<th style="width: 427px; background-color: #009900; color: white;">Example in Log</th>
</tr>
<tr style="height: 12.75pt;">
<td style="height: 12.75pt; width: 189px;" height="17">jdeSpecTerminate();</td>
<td style="width: 330px;"> </td>
<td style="width: 427px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">JDB_FreeCriticalSections();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">psthread_term_library();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">JDERT_CleanRealTimeEvents((HENV)lpExe);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">JDB_DBWritePricingDetailData();</td>
<td style="vertical-align: top;">Write transaction based pricing information from cache to table.</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdeSecFreeSecList((HENV)lpExe);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">CloseHhandlesForEXEINFO(lpExe);</td>
<td style="vertical-align: top;">Close all hRequests under lpExe</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(lpExe-&gt;lpF98BlobHandleList);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">JDB_FreeUser((HUSER) lpUserInfo);</td>
<td style="vertical-align: top;">Free ghUser if it has the same environment as the current one.</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">KillDBRequest(lpRequestInfo);</td>
<td style="vertical-align: top;">Remove all requests.</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(lpExe-&gt;lpRequestList);</td>
<td style="vertical-align: top;">Destroy request linked list</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdeCacheDestroyAllUserCaches((HENV) lpExe);</td>
<td style="vertical-align: top;">Destroy the user's cache list</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdeFree(lpExe-&gt;lpBhvrCom);</td>
<td style="vertical-align: top;">Free Memory</td>
<td style="vertical-align: top;">jdeFree( lpExe-&gt;lpBhvrCom-&gt;lpObj );<br /> jdeListDestroy( lpExe-&gt;lpBhvrCom-&gt;lpObj-&gt;OpenTableList );<br /> jdeFree( lpExe-&gt;lpBhvrCom-&gt;lpObj-&gt;lpGlobalApp );<br /> jdeFree( lpExe-&gt;lpBhvrCom-&gt;lpObj-&gt;lpzAppVars );<br /> jdeFree( lpExe-&gt;lpVoid );</td>
</tr>
<tr>
<td style="vertical-align: top;">FreeLibrary(hEMailLibrary);</td>
<td style="vertical-align: top;">This will logoff from MAPI and close the Mail Handle</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">FreeLibraryCache(lpLib);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(lpExe-&gt;hLib);</td>
<td style="vertical-align: top;">Destroy user linked list</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdeFreeRemoteEnvs(lpExe);</td>
<td style="vertical-align: top;">Free remote environments</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Delete(ghEnvList, NULL);</td>
<td style="vertical-align: top;">Remove from Env linked list and Free handle.</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">JDECM_CacheDestroy(lpExe-&gt;hWorkObjCache);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">psthread_mutex_destroy(lpExe-&gt;hWorkObjCacheMutex);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">set_ghEnv( (HENV) NULL);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">PRT_TerminateLib();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdeSecFreeUserList();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">for KERNEL_NET<br /> Free user list maintained by the security server. This needs to be called before the freeing lpExe, FreeUserList needs lpExe parms for User, IPAddress, PID and it needs to write to F9312 History table</td>
</tr>
<tr>
<td style="vertical-align: top;">jdeFree(lpVoid);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">Remove all security info.</td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Delete(lpExe-&gt;lpSecurityList, (void * *) &amp;lpVoid);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(lpExe-&gt;lpSecurityList);</td>
<td style="vertical-align: top;">Destroy security info linked list</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">KillPOCache(lpExe);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">KillOMAPCache(lpExe);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Delete(lpExe-&gt;lpAuditInfoList, (void * *) &amp;lpVoid);</td>
<td style="vertical-align: top;">Remove all Audit info.</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(lpExe-&gt;lpAuditInfoList);</td>
<td style="vertical-align: top;">Destroy audit info linked list</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdeListDestroyEmpty (&amp;(lpExe-&gt;pEnv-&gt;pDBDSTransientCache));</td>
<td style="vertical-align: top;">Destroy the Metadata database datasource cache.</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdeFree(lpExe-&gt;pDataPtr[nLoopCount]);</td>
<td style="vertical-align: top;">Refer below JDB4100006</td>
<td style="vertical-align: top;">Loop through the data pointer array in the lpExe and log a debug message for each slot that has a non-null data pointer. This isn't necessarily a memory leak of some kind (because the pointer could have been freed without being removed from the array), but it's one of the slots used up which, over time, could cause the array to fill up. This code is just the early warning system. The information logged to the debug log should be enough to track back to see where the pointer was stored. If not, the user can turn on Data Pointer Tracing in the JDE.INI and watch for the problem again.</td>
</tr>
<tr>
<td style="vertical-align: top;">jdeFree(lpExe);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">JDERT_CleanRealTimeLegacyGlobals();</td>
<td style="vertical-align: top;">Clean the legacy real time event globals</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">FreeLibrary(ghLib);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DestroyGlobalPricingData();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">JDB_UnloadTriggerLibrariesPrv(lpEData);</td>
<td style="vertical-align: top;">Unload Table Trigger libraries</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">KillDBCache(lpEData, TRUE);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Delete(ghEnvData, (void * *) &amp;lpEData);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(ghEnvList);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">KillDriverEnv(lpDriverEnv);</td>
<td style="vertical-align: top;">Remove all DriverEnv</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Delete(ghDriverEnvList, (void * *) &amp;lpDriverEnv);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(ghDriverEnvList);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdeFree(lpConnectInfo);</td>
<td style="vertical-align: top;">Remove all connectinfo.</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Delete(ghConnectInfoList, (void * *) &amp;lpConnectInfo);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(ghConnectInfoList);</td>
<td style="vertical-align: top;">Destroy connectinfo linked list</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(ghCacheList);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(ghUserList);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DLIST_Destroy(ghRequestList);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">FreeBSFNLibraryList();</td>
<td style="vertical-align: top;">Free all the BSFN libraries in BSFN library list and then delete the BSFN library list</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">JDENET_FreeKernel();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">FreeOCMSharedMem();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">RemoveKernelData ();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdelib_Terminate();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">KillDRCache();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">KillEnvironmentMapCache();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">FreeLibrary((HINSTANCE)hJDEUSERLib);</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdeGetOrSetSecondaryServer(NULL, NULL);</td>
<td style="vertical-align: top;">Free list of failed over servers</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">FreeKernelIPCs();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">jdeSpecTerminate();</td>
<td style="vertical-align: top;">destroy mutex</td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">JDB_FreeCriticalSections();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">psthread_term_library();</td>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;"> </td>
</tr>
</tbody>
</table>
<p> </p>
<div class="kmnotebox">
<p>Note:</p>
<ul>
<li>"JDB4100006 - DP - While freeing the JDB environment, leaked data pointer (%p), pointer handle (%d), stored from File=%ls, Function=%ls, Line=%u." lpExe-&gt;pDataPtr[nLoopCount]-&gt;pData, nLoopCount + JDB_MAX_DATAPTR, szFileName, szFunctionName, lpExe-&gt;pDataPtr[nLoopCount]-&gt;dataPtrContextData.nLine);</li>
<li>Log an error message about abandoned data pointers if there are some AND:</li>
<ul>
<li>    - The code was compiled in debug mode OR</li>
<li>    - Debug logging is turned on</li>
</ul>
<li>The point is that there may be cases where it's not a big deal to leave a couple of these data pointers around (i.e. not a growing leak, just some stored data used while the environment exists), so we don't want to log these as errors in a production environment. We only want to log them in a "debugging" type of environment where the issue can be diagnosed (debug- built code OR debug logging on).</li>
<li>if (nDataPointersLeaked) "JDB4100005 - Application code leaked %d data pointers which were detected when freeing environment %ls (EnvHandle %p) for user %ls. Please refer to the debug log for details. If there are not enough details in the debug log to determine the cause, set DataPointerTracing=1 and Output=FILE in the [DEBUG] section of the JDE.INI and watch for this error message again. Or, set logDPLeaksAtSignoff=TRUE in the [DEBUG] section of the JDE.INI and look for JDB4100006 error messages. This message (JDB4100005) will only appear with debug tools code or when debug logging is turned on." (nDataPointersLeaked, lpExe-&gt;szEnv, lpExe, lpExe-&gt;szUser)</li>
</ul>
<p>Example:</p>
<div style="margin-left: 40px;">Entering jdeCacheDestroyAllUserCaches<br />   hCache:[069E6A00] Nm:[0B4300420] Recs:0 Curs:0 Hnds:1 Cchs:0 DESTROY<br /> CAC0001036 - Unterminated cache 0B4300420 with 0 record(s), created from File=b4300420.c, Function=IB4300420_CheckCache, Line=611.<br /> Decremented cache count to 0<br /> CAC0001025 - Application code leaked 1 caches which were detected when freeing environment JPD910 (EnvHandle 01D99658) for user WILLIAM. Please refer to the debug log for details. If there are not enough details in the debug log to determine the cause, set Output=FILE in the [DEBUG] section of the JDE.INI and watch for this error message again. Or, set logCacheLeaksAtSignoff=TRUE in the [DEBUG] section of the JDE.INI and look for CAC0001036 error messages. This message (CAC0001025) will only appear with debug tools code or when debug logging is turned on.</div>
</div>
<p> </p>
<h3 class="km"><a name="jdeini"></a>JDE INI Parameters which ease you to debug:</h3>
<p> Below information can be modified directly in ...JDEdwards\E910\system\bin32\JDE.INI or can be modified through server manager by accessing Configuration&gt;Logging and Diagnostics. This step is important because this can be means to track down the root cause of memory issue (both Memory Corruption and Memory Leak).</p>
<table style="width: 1290px; border-collapse: collapse; height: 2441px;" border="2" cellspacing="2" cellpadding="2"><colgroup> <col style="width: 48pt;" span="6" width="64" /></colgroup>
<tbody>
<tr style="height: 12.75pt;">
<th style="height: 12.75pt; width: 114px; background-color: #999999; color: white;">Section Name</th>
<th style="width: 128px; background-color: #999999; color: white;">Entry<br /> /Parameter</th>
<th style="width: 60px; background-color: #999999; color: white;">Default Value</th>
<th style="width: 229px; background-color: #999999; color: white;">Available Values</th>
<th style="width: 380px; background-color: #999999; color: white;">Description</th>
<th style="width: 248px; background-color: #999999; color: white;">Others</th>
</tr>
<tr style="height: 12.75pt;">
<td style="height: 12.75pt; width: 114px;" height="17">BSFN MEMORY DIAGNOSTICS</td>
<td style="width: 128px;">bmdLevel</td>
<td style="width: 60px;">0</td>
<td style="width: 229px;">0 - Disabled - No Memory Logging<br /> 1 - Level 1 - Sampled Memory Logging For All Processes <br /> 2 - Level 2 - BSFN Memory Logging (After MB Threshold) <br /> 3 - Level 3 - BSFN Memory Logging (After Specified BSFN)</td>
<td style="width: 380px;"><span style="font-weight: bold;">BMD Level: </span><br /> Level of diagnostics. Level 1 logs memory and CPU usage, at a samling frequency of allocations. Level 2 logs BSFN emory and CPU usage, for all BSFNs running at BSFN levels 1 and 2, after a trigger based on a memory usage. Level 3 logs BSFN memory and CPU usage, for all BSFNs and BSFN levels, after a trigger based on a memory usage combined with a specified BSFN name and BSFN level.</td>
<td style="width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">allocFrequency</td>
<td style="vertical-align: top; width: 60px;">15000</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Allocation Frequency:</span><br /> Number of memory allocations for memory sampling. Each samle logs memory and CPU usage. This value is only used for BMD level 1.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">memThresholdMB</td>
<td style="vertical-align: top; width: 60px;">100</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Memory Threshold (MB):</span><br /> Memory threshold (in megabytes) to begin logging detailed BSFN memory usage. For BMD level 2, this is the trigger when logging starts. For BMD level 3, this is combined with a specified BSFN name and level before logging starts.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">bsfnName</td>
<td style="vertical-align: top; width: 60px;"> </td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">BSFN Name:</span><br /> Business Function name. When combined with the BSFN level and memory threshold, triggers the logging of data. Used by BMD level 3 only.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">bsfnLevel</td>
<td style="vertical-align: top; width: 60px;">2</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">BSFN Level:</span><br /> Business Function level. When combined with the BSFN name and memory threshold, triggers the logging of data. Used by BMD level 3 only.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">enableDebug</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;">0 (False) - Do Not Change Debug Logging <br /> 1 (True) - Turn On Debug Logging With BMD Level 3</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Enable Debug Logging:</span><br /> Option to turn on debug logging. If selected, debug logging will be dynamically turned on when trigger conditions for BMD level 3 are met. This does not change the debug logging settings of JDE.INI. Used by BMD level 3 only.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">DEBUG</td>
<td style="vertical-align: top;">Output</td>
<td style="vertical-align: top; width: 60px;">NONE</td>
<td style="vertical-align: top; width: 229px;">NONE - No Debug Logging<br /> FILE - Enable Debug Logging</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Enable Debug Logging:</span><br /> Defines whether debug (jdedebug) logging is enabled. The value configured in the JDE.INI will affect every new process that starts up. Changing this value will not affect already running process</td>
<td style="vertical-align: top; width: 248px;">Do not set this value to FILE unless it is request by Oracle because there are many different ways to turn on logging for specific process dynamically</td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">DebugFile</td>
<td style="vertical-align: top; width: 60px;">jdedebug.log</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">JDEDEBUG.LOG Filename:</span><br /> Defines the complete path to use when creating the debug level logging file (jdedebug.log). The supplied filename will be replaced with 'jdedebug_###.log', where '###' is the operating system process identifier (PID) of the kernel process.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">JobFile</td>
<td style="vertical-align: top; width: 60px;">jde.log</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">JDE.LOG Filename:</span><br /> Defined the complete path to use when creating the primary logging file (jde.log). The supplied filename will be replaced with 'jde_###.log', where '###' is the operating system process identifier (PID) of the kernel process.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">JDETSFile</td>
<td style="vertical-align: top; width: 60px;"> </td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">TS Log  File:</span><br /> The complete path to the JDETS log file. @what's TS??</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">LogErrors</td>
<td style="vertical-align: top; width: 60px;">1</td>
<td style="vertical-align: top; width: 229px;">0 - Disabled <br /> 1 - Enabled</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Enable JDE.LOG:</span><br /> If enabled the jde.log logging file will be created. The value configured in the JDE.INI file will affect every new process that starts up. Changing this value will not affect already running processes. It is highly recommended to always enable this type of logging.</td>
<td style="vertical-align: top; width: 248px;">It is important to check jde.log in hitting memory error. In latest tools release which contain detailed information on memory leak and memory corruption</td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">ClientLog</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;">0<br /> 1</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Enable Client Log:</span><br /> This setting controls whether logging messages generated by CallObject kernel shoul be set back to requesting fat client workstation for inclusion in it's tracing logging.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">KeepLogs</td>
<td style="vertical-align: top; width: 60px;">1</td>
<td style="vertical-align: top; width: 229px;">0 - Remove logs Once Printed<br /> 1 - Keep Logs After Printed</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Keep UBE Logs:</span><br /> When enabled log files generated by a UBE process are kept after the UBE has been printed. If disabled the log files will be deleted.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">TamTraceLevel</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;">0 through 9</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">TAM Trace Level:</span><br /> The settings configures the level of logging that should be written related to TAM file access.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">ThreadTraceLevel</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;">0 through 3</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Thread Trace Level:</span><br /> Configures the level of thread related debug information.Increasing the trace level may significantly negatively impact performance.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">QKLog</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;">0 - No Logging<br /> 1 - Execution Logging<br /> 2 - Debug Logging</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Queue Kernel Log:</span><br /> This entry configures the level of logging emitted by the queue kenrel processes.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">RepTrace</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;">0 - Disabled<br /> 1 - Enabled</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Trace Replication:</span><br /> If enabled replication activity performed by the replication kernel will be traced to the debug log file.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">CloseFiles</td>
<td style="vertical-align: top; width: 60px;">FLUSH</td>
<td style="vertical-align: top; width: 229px;">0 - Flush To Disk Periodically<br /> 1 - Close After Each Write<br /> FLUSH - Flush To Disk After Each Write</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Close/Flush Debug Files:</span><br /> There are 3 allowed values for this setting. When set to '1', the trace (debug) log file will be closed (and effectively flushed to disk) after each message is written. When set to 'FLUSH', the trace (debug) log file will be flushed to disk (but not closed) after each message is written. When set to '0', the trace (debug) log file will be flushed to disk periodically. For th ebest performrance (with trace loggign turned on), this value should be set to '0'. To ensure all trace messges are written to the debug log (with trace logging turned on) - even when a process terminates abnormally - this value should be set to 'FLUSH' or '1'. there are 2 major differences between 'FLUSH' and '1'. The first is that 'FLUSH' will have better performance than '1'. The other difference is that '1' will make it easier to view or delete the trace (debug) log file while E1 processes are still runnning (as some editors and operating systems will not allow the viewing or deletion of files in use by other processes.)</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">RunBatchDelay</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">RUNBATCH Delay:</span><br /> Specifies the time, in seconds, that the runbatch process shall wit prior to performing any actual work. While useful for setting a delay to allow time to connect a debugger to the process, it shluld be set to zero outside of debugging activity.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">runprintDelay</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">RUNPRINT Delay:</span><br /> Specifies the time, in seconds, that the runprint process ahll wait prior to performing any actual work. While useful fo rsetting a delay to allow time to connect a debugger to the process, it should be set to zero outside of debugging activity.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">TransactionLog</td>
<td style="vertical-align: top; width: 60px;">NONE</td>
<td style="vertical-align: top; width: 229px;">NONE - Disabled<br /> FILE - Enabled</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Transaction Log:</span><br /> This entry enables saving the SQL statements into the debug logs with the actual values used. If not enabled the actual values may be masked using a placeholder character such as '2'. Enabling this option may negatively impact performance.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">EVNDelay</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">EVN Kernel Delay:</span><br /> This entry defines a value, in seconds, that the event notification (EVN) kernel will wait after being created and prior to processing. This is typically set only wnen debugging the EVN kernel itself so should typically be left at zero.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">DumpLPDS</td>
<td style="vertical-align: top; width: 60px;">1</td>
<td style="vertical-align: top; width: 229px;">0 - Do Not Log<br /> 1 - Do Log Data Structures</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Log CallObject Data Structure:</span><br /> This setting enables or disables the logging of the data structures passed into and returned from a business function running within a CallObjectKernel. The data will be written to the trace (debug) if enabled. Enabling this logging may reduce the performance of the CallObject process but may also provide very useful information when developing or troubleshooting business functions.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">TraceRowSecurityFetch</td>
<td style="vertical-align: top; width: 60px;">FALSE</td>
<td style="vertical-align: top; width: 229px;">FALSE - Disabled<br /> TRUE - Enabled</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Trace Row Security Fetches:</span><br /> If enabled database fetches that violate row security will be logged to the trace (debug) log file.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">DataPointerTracing</td>
<td style="vertical-align: top; width: 60px;">false</td>
<td style="vertical-align: top; width: 229px;">FALSE - Disabled<br /> TRUE - Enabled</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Log Data Pointer Activity:</span><br /> If enabled activity related to caching data pointers within JDB will be captured and written to the trace (debug) log file. The need to utilize this tracing is very rare and should typically not be enabled.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">CMTrace</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;">0 - Disabled<br /> 1 - Enabled</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Cache Manager Trace:</span><br /> If enabled the cache manager (JDECM) activity will be written to the trace (debug) log file.</td>
<td style="vertical-align: top; width: 248px;">
<p> With trace enabled, you will see similar to these in the log:</p>
<p><span id="form1:panelPage1">JDECM_CacheFindPtrKeyed handle=087dda40 <br />  Key  : ["DEPFUT4" ] <br />JDECM_FAILED <br />JDECM_CacheAdd handle=087dda40 <br />  Idx#1: ["DEPFUT4" ] <br />JDECM_SUCCESS: Add rec size:436 Total mem:931556 Total recs:2088 <br />JDECM_CacheFindPtrKeyed handle=087dda40 <br />  Key  : ["DEPFUT4" ] <br />JDECM_PASSED </span></p>
</td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">CacheInfoFrequency</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Cache Manager Log Frequency:</span><br /> If non-zero this entry defines the frequency in which cache manager statistics should be written to the trace (debug) log files. If zero the information will never be written to the logs. Valid only if cache manager logging is enabled. This frequency is considered to be the number of cache manager related APIs/functions that are allowed between log statements. Enabling this tracing may negatively affect performance.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">CMTraceFilter</td>
<td style="vertical-align: top; width: 60px;">ALL</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Cache Manager Trace Filter:</span><br /> This entry defines the caches that should be logged to the trace file when cache manager logging is enabled. The value may be one or more cache names separated by either a comma or semicolon. If blank or the value 'ALL' then all caches will be logged.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">maxDebugFileSize</td>
<td style="vertical-align: top; width: 60px;">1GB</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Max size of each debug log:</span><br /> This setting specifies the maximum file size for debug log files. This provides debug log rollover functionality, similar to that of the JAS server. Before each debug log file reaches the specified maimum size (specified by this setting), as new log file will be created. The preceding debug log file will be renamed using the suffix "_1". If there is already a proceding debug log with the "_1" suffix, that older file will be renamed to a suffix of "2". And so on, until maximum number of preceding debug log files is reached (specified by maxDebugBackupIndex). At that point, the earliest proceding debug log file will be deleted. The minimum size for a debug log file is two lines, regardless of this settings. When this setting is zero, there will be no maximum file size for debug logs.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">maxDebugBackupIndex</td>
<td style="vertical-align: top; width: 60px;">1</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Max number of prior debug logs:</span><br /> This setting specifies the maximum number of proceding debug log files to keep. This provides debug log rollover functionality, similar to that of the JAS server. Before each debug log file reaches the maximum size (specified by maxDebugFileSize), a new log file will be created. The proceding debug log file will be renamed using the suffix "_1". If ther eis already a proceding debug log with the "_1" suffix, that older file will be renamed to a suffix of "_2". And so on, until the maximum number of pecding debug log files (specified by this setting) is reached. At that point, the earliest proceding debug log file wil be deleted. When maxDebugFileSize is set to zro, this setting is ignored, since there is not maximum file size.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">logMemDiagsAtSignOff</td>
<td style="vertical-align: top; width: 60px;">FALSE</td>
<td style="vertical-align: top; width: 229px;">TRUE<br /> FALSE</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Log memory diagnostics at signoff:</span><br /> This setting specifies whether or not memory diagnostics will be logged when a CallObject Kernel user session is ended or a UBE process ends. The memory diagnostics will be written to the jdedebug.log.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">logDPLeaksAtSignoff</td>
<td style="vertical-align: top; width: 60px;">FALSE</td>
<td style="vertical-align: top; width: 229px;">TRUE<br /> FALSE</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Log Data Pointer leaks at signoff:</span><br /> This setting specifies whether or not Data Pointer leaks will be logged when a user session is freed in an E1 Server process. Details about the leaked Data Pointers will be written to the jde.log.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">disableContextInfo</td>
<td style="vertical-align: top; width: 60px;">FALSE</td>
<td style="vertical-align: top; width: 229px;">TRUE<br /> FALSE</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Disable Contextual Information:</span><br /> This setting specifies whether or not Contextual Information for HUser, HRequest and DataPointer will be available in memory diagnostics or when these specific objects are reported as leaked resources in jde log or jdedebu log.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;">JDEHEAP ADVANCED DIAGNOSTICS ENGINE (JADE) Configuration</td>
<td style="vertical-align: top;">trackMemUsage</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;">0 (False) - Do Not Begin JADE Memory Tracking <br /> 1 (True) - Begin JADE Memory Tracking At Process Start</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Track JdeHeap Memory Usage:</span><br /> Track jdeHeap memory usage by JADE. The tracking will start with the first jdeHeap usage of the process. It will terminate when the process shuts down and when any of the JADE buttons on the Server Manager process screen are used.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">logLevel</td>
<td style="vertical-align: top; width: 60px;">2</td>
<td style="vertical-align: top; width: 229px;">1 - Summary of JdeHeap Memory Usage<br /> 2 - Summary plus BSFN-scoped Memory Detail<br /> 3 - Summary plus All JdeHeap Memory Details</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Logging Level:</span><br /> Level of logging the JADE diagnostics. Level 1 logs a summary of BSFN-scoped pointers and of all pointers. Level 2 logs the summary, plus, detail lines for each BSFN-scoped jdeHeap usage. Level 3 logs the summary, plus, detail lines for all jdeHeap usage.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">logInterval</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Logging Intervals (in seconds):</span><br /> Logging interval (in seconds) between dumping of JADE data to the debug log file. This is a minimum interval, not an exact interval. No dumping will be done if there has been no jdeHeap activity since the last dumped data. This interval-based dumping will be termiated if any of the JADE buttons on the Server Manger process screen are used.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">bsfnTriggerUseTrigger</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;">0 (False) - Do Not Use Specified Conditions To Begin JADE<br /> 1 (True) - Use specified Coonditions To Begin JADE</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Use BSFN Trigger to start JADE:</span><br /> Use BSFN Trigger to begin JADE memory tracking. The BSFN-related trigger conditions are given in this section of the INI file. When the trigger conditions are met, JADE memory tracking begins. The trigger does not cause any JADE data to be dumpted to log files.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">bsfnTriggerMemThresholdMB</td>
<td style="vertical-align: top; width: 60px;">100</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Memory Threshold (MB):</span><br /> Memory threshold (in megabytes) to begin JADE tracking of jdeHeap memory usage. This can be combined with a specified BSFN name and level to trigger when tracking starts.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">bsfnTriggerBsfnName</td>
<td style="vertical-align: top; width: 60px;"> </td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">BSFN Name:</span><br /> Business Function name. When combined with the BSFN level and memory threshold, triggers the JADE tracking.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">bsfnTriggerBsfnLevel</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;"> </td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">BSFN Level:</span><br /> Business Function level. When combined with the BSFN name and memory threshold, triggers the JADE tracking. Not used when set to zreo.</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
<tr>
<td style="vertical-align: top;"> </td>
<td style="vertical-align: top;">bsfnTriggerEnableDebug</td>
<td style="vertical-align: top; width: 60px;">0</td>
<td style="vertical-align: top; width: 229px;">0 (False) - Do NOt Change Debug Logging <br /> 1 (True) - Turn on Debug Logging When JADE Is Triggered</td>
<td style="vertical-align: top; width: 380px;"><span style="font-weight: bold;">Enable Debug Logging:</span><br /> Option to turn on debug logging. If selected, debug logging will be dynamically turned on when trigger conditions for JADE are met. This does not change the debug logging settings of JDE.INI</td>
<td style="vertical-align: top; width: 248px;"> </td>
</tr>
</tbody>
</table>
<p> </p>
<div class="kmnotebox">Note:
<ul>
<li>BSFN MEMORY DIAGNOSTICS (BMD) provides a series of methods to identify the cause of resource usage problems, such as memory leaks. Note: do not use these settings unless investigating a problem, as system performance may be affected. Also, the EnterpriseOne services must be re-started for these JDE.INI settings to take affect. For Runbatch, each new UBE will use any changed BMD values without restarting the services. All BMD logging is placed in the jdedebug.log files, even if jdedebug logging is turned off in the JDE.INI. Three levels of BMD logging are available. BMD level 1 logs CPU and memory usage for all EnterpriseOne server processes. BMD levels 2 and 3 log CPU and memory usage for those processes which run Business Functions (Call-Object kernels and UBE jobs). BMD Level 2 logs only BSFN Level 1 and BSFN Level 2. BMD Level 3 logs all BSFN levels, and also provides an option of enabling Debug logs. Lower BSFN levels include data from all higher BSFN levels that each BSFN calls.</li>
<li>JDEHEAP ADVANCED DIAGNOSTICS ENGINE (JADE) provides a method to identify the location of JdeHeap memory leaks. Note: do not use these settings unless investigating a "Tools-level" problem, as system performance may be affected. For memory investigations within the scope of BSFNs, use the buttons on the Server Manager process screen, instead of these INI settings. JADE tracks memory usage of all jdeHeap functions (jdeAlloc, jdeCalloc, jdeRealloc, and jdeFree). The JADE JDE.INI settings take affect whenever a process starts. They will be ignored and deactivated whenever using a JADE button on the Server Manager process screen. All JADE logging is placed in the jdedebug.log files, even if jdedebug logging is turned off in the JDE.INI. Three levels of JADE logging are available. JADE level 1 logs a summary of memory usage. JADE level 2 logs the summary, plus detail lines for each BSFN-scoped memory pointer. JADE level 3 logs the summary, plus detail lines for all jdeHeap memory pointers. There is an option to start JADE memory tracking based on specified BSFN triggers, and also an option to turn on Debug logging when the BSFN trigger is met. JADE data is dumped to the log file based on a minimum time interval. The INI-initiated JADE tracking is terminated whenever a JADE button on the Server Manager process screen is used.</li>
</ul>
</div>
<hr />
<p> </p>
<h3 class="km"><a name="otherissues"></a>Other issues - Max Cursor and Max Data Pointer:</h3>
<p>Rarely, in running EnterpriseOne application, memory leak can be causing unexpected result as written in &lt;Document 1325310.1&gt; E1: BSFN: Case Study - How to Interpret Error CAC0001017 in jde.log? The cause of this type of message is it has reached the maximum value which EnterpriseOne can hold.</p>
<ul>
<li>Max data pointer which DB can handle is 1000</li>
<ul>
<li>#define JDB_MAX_DATAPTR 1000</li>
<li>Defined at system/common/jdekrnl/jdb/jdbprv.h (encapsulated code)</li>
</ul>
<li>Max Cursor (temporary repository of data) is 100 (JDECACHE definition),</li>
<ul>
<li>#define JDECACHE_MAX_CURSORS 100</li>
<li>This file can be accessed system\include\JDEKDFN.h</li>
</ul>
<li>JDECM_CacheInit can open maximum cursors up to 100 (defined at system\include\jdekprto.h)</li>
<li>You MUST NOT change any default value listed here</li>
<li>So data pointer error will come after 1000 open pointer and open cursor error will come after 100 cursor opened</li>
</ul>
<div class="kmnotebox">Note: <br />
<ul>
<li>In case your JDE.log contains above message, capture jdedebug.log after settings JDE.INI parameter DataPointerTracing=TRU in [DEBUG] section and analyze it. Since this type of error is coming in long running reports or application which huge detail lines, limit the size of debug by setting maxDebugFileSize=1GB in same section.</li>
<li>If you are running EnterpriseOne applications in the latest tools set, there is various memory diagnostic tools. Even callobject kernel log (namely, jdedebug.log) is able to trace the function which cause memory leak.</li>
<li>It is important to fix this memory leak issue if you find this type of message in JDE.log because we can't guarantee whether subsequent issue you hit is valid or not</li>
</ul>
</div>
<hr />
<h3 class="km"><a name="windowsheap"></a>Windows Heap Manager</h3>
<p>A heap memory manager is responsible for the management of heap memory. The heap memory manager performs the following fundamental memory operations:</p>
<ul>
<li>    Allocation - performed by malloc and calloc</li>
<li>    Deallocation - performed by free</li>
<li>    Reallocation - performed by realloc</li>
</ul>
<p> </p>
<div style="margin-left: 40px;">A <span style="font-weight: bold;">heap</span> is a form of memory manager that an application can use to allocate and free memory dynamically.  Whenever the need arises to create <span style="font-style: italic;">data structures whose size cannot be determined statically</span> when a program is being built, the program requires some form of dynamic memory management. <span style="font-style: italic;">The heap grows from lower memory addresses to the upper memory addresses</span>, while the stack does the reverse. It is not possible for them to grow into each other, however. Memory is normally allocated in powers of two and when the amount is not known ahead of time and the size of memory does not fit on the stack (automatic memory), the heap is used. Heaps are Windows objects and Windows maintains pools of memory in heaps. A process can contain several heaps, and you allocate memory from one of these heaps. Memory can be requested from the C runtime, the virtual memory manager, or some other forms of private memory managers. The operational requirements determine if programmers use only the process heap and the C library. The initial heap size, which can be zero and is always rounded up to a multiple of the page size, determines how much physical storage (in a paging file) is committed to the heap. That is, the required space allocated from the heap. As a program exceeds the initial size, additional pages are committed automatically up to a maximum size. Having said that, we must know to break these concepts down to the thread execution, as it is normally writing to a block of memory that it does not own that corrupts the state of the memory block. Suffice it to say that pointers are used to reference memory that contains the memory locations to objects. Rather than moving data around, the operating system uses pointers.<br /> <br /> When a process is loaded, the heap manager automatically creates a new heap called the default process heap. As the working set grows, its size for any process is constantly adjusted by Windows. These adjustments may occur because of changes in system load and process priority. Every process has a handle table. Whenever a thread opens a resource, a handle is created in the processs handle table that has a value that the thread can reference in order to continually access that resource. An operating resource can be a file object, a registry key, a TCP/UDP port, a device, etc. Whenever a process is hung, the key is to examine the thread call stack. Read this stack from the bottom to the top. Whenever an executing thread writes to a block of memory it does not own, it will likely corrupt the state of that block of memory. An application can crash outright, or partly run and behave strangely.</div>
<p> </p>
<hr />
<p>&lt;Internal_Only&gt;information below is added as suggested by Developer&lt;/Internal_Only&gt;</p>
<p> </p>
<h3 class="km"><a name="otherresources"></a>Other Resources for Troubleshooting memory issue</h3>
<h4 class="km"><a name="safetycheck"></a>SafetyCheck</h4>
<div style="margin-left: 40px;">BusBuild and Safety Checker to check compile time BSFN thread safety issue<br />    : Prior to service pack 8.95B, the jdeCallObject kernel was a single threaded entity. That meant, among other things, that one and only one application business function (BSFN) could be executing at any single moment in time. Consequently, EnterpriseOne business functions were developed with this contraint/limitation in mind. <br /> <br /> With the delivery of service pack 8.95B, both existing functions and future design methodologies have to change. The jdeCallObject kernel is now multi-threaded - meaning that multiple application BSFNs can execute simultaneously. In order to be considered "threadsafe", BSFNs can no longer use global variables and static variables. In addition, BSFNs can not call functions that are non-threadsafe. <br /> <br /> SafetyCheck is a static source code analysis tool that scans C source code and header files for non-threadsafe behaviors. Given a source or header file, SafetyCheck will find instances of <span style="font-style: italic;">global variables, static variables, extern declarations and non-threadsafe ANSI C APIs</span>. When an application developer runs SafetyCheck, he/she will see all instances of non-threadsafe behaviors, as well as line numbers and code snippets of source code.</div>
<div style="margin-left: 40px;"></div>
<div style="margin-left: 40px;"></div>
<h4 class="km"><a name="patternmatch"></a>Pattern Match</h4>
<div style="margin-left: 40px;">&lt;Internal_Only&gt;Static Code analysis and pattern matching tool for checking if BSFN code has called the correct pair of tools API (like JDB_OpenTable is followed by JDB_CloseTable)<br /> This program originated as part of the E1 Applications Security Vulnerability Whitebox Testing project to determine places where potential memory leaks might be exploited either for a heap overrun or as part of a denial of service attack. <br /> <br /> Pattern Match offers five distinct types of scans: <br />
<ul>
<li>A counterpart scan that looks for the absence of particular API calls in context;</li>
<li>A loop invariant scan that examines activity inside a do/while loop;</li>
<li>A scan that determines if a NULL &ldquo;where clause" is used in table fetches;</li>
<li>A scan that looks for problems with ParseNumericString and ParseNumericStringEx APIs, and</li>
<li>A scan that calculates the cyclomatic complexity of each function within a *.c file.</li>
</ul>
<br /> Additionally, all types of scans can read input files via three distinct methods: <br />
<ul>
<li>As a single explicitly defined filename,</li>
<li>As input from a &ldquo;project" file,</li>
<li>By reading all files contained within a single explicitly defined directory</li>
</ul>
<br /> Finally, all scans can create output in detail format or in comma-delimited format for importing into Excel. &lt;/Internal_Only&gt;<br /> <br /> Example of pattern match can be found at &lt;Document 1050172.1&gt; E1: BSFN: Why is /* FP */ Written in Business Function C Source file (Pattern Match)?</div>
<h4 class="km"><a name="analyze"></a>/analyze Compiler Option</h4>
<div style="margin-left: 40px;">You need a license to install and use /analyze and all right reserved by Microsoft. Visual Studio 2005 "/analyze" option in BusBuild for fixing compile time code warning for potential memory overwrite.<br /> The "/analyze" option of the Visual Studio 2005 compiler will perform a static analysis of the code being compiled. <br /> Some of the common warnings seen in E1 are</div>
<ul style="margin-left: 40px;">
<li>dereferencing null pointers</li>
<li>using uninitialized memory</li>
<li>index is outside of index range</li>
</ul>
<div style="margin-left: 40px;">Using with releases prior to 9.0 <br /> The "/analyze" option can be used with prior releases by:</div>
<ol style="margin-left: 40px;">
<li>Setting the VisualStudioVersion=8 in your jde.ini.</li>
<li>Setting the flags from the Setup Instructions in your jde.ini.</li>
</ol>
<div style="margin-left: 40px;">After you have corrected any warnings from the compiler:</div>
<ol style="margin-left: 40px;">
<li>Set the VisualStudioVersion flag to a value appropriate for your release.</li>
<li>Delete the .pdb file for your .dll. It can be found in the b9\\bin32 directory. For example: c:\b9\DV8111\bin32\cdist.pdb.</li>
<li>Rebuild your function. If you don't do this, your system may become unstable.</li>
</ol>
<div style="margin-left: 40px;">Code Analysis for C/C++ Warnings can be found <a href="http://msdn.microsoft.com/en-us/library/a5b9aa09(VS.80).aspx" alt="MSDN" title="MSDN" target="_blank">MSDN website</a>.</div>
<h4 class="km"><a name="globalflag"></a>Setup &ldquo;GlobalFlags&rdquo; or "G-Flag" and &ldquo;RTC1&rdquo;</h4>
<div style="margin-left: 40px;">Setup &ldquo;GlobalFlags&rdquo; and &ldquo;RTC1&rdquo; to debug heap and stack memory overwrite during runtime on windows platform through Microsoft Visual Studio.<br /> G-Flag (Global Flag)<br />
<div style="margin-left: 40px;">This debugging tools belong to Microsoft and useful for Windows Platform Server only. GFlags (gflags.exe), the Global Flags Editor, enables and disables advanced internal system diagnostic and troubleshooting features. You can run GFlags from a Command Prompt window or use its graphical user interface dialog box. <br /> Debugger: Specify that a particular program always runs in a debugger. This setting is stored in the registry. It is effective immediately and remains effective until you change it. (This feature is available only in the Global Flags dialog box.)</div>
<br /> \TRC1<br />
<div style="margin-left: 40px;">Compiler Options <br /> Debug Mode: when building in debug mode and using compiler Option "\RTC1", the compiler will put a runtime check flag into the compiled DLL. When the logic causes an exception, the exception will automatically will be caught and the JIT Debugger will be activated. <br />  Note:  \RTC1 options will detect memory override. This option is recommended  in Debug mode build to help weed out the memory over write issues.</div>
</div>
<h4 class="km"><a name="memorydiagnostics"></a>Using the memory diagnostics at runtime</h4>
<p><br />     Using the memory diagnostics at runtime to find out  potential jdeCache, transaction, table and data pointer and database connection leak as well as using JDB Cache for a transaction table with lots of records.</p>
<ul>
<li>Oracle Technical Network (OTN)</li>
<ul>
<li>JD Edwards EnterpriseOne</li>
<ul>
<li>JD Edwards EnterpriseOne Tools Release 9.1</li>
<ul>
<li>EnterpriseOne Tools Server and Workstation Administration Guide</li>
<ul>
<li>Chapter <a href="http://docs.oracle.com/cd/E24705_01/doc.91/e24259/troubleshoot_e1_server.htm#g8d6ab57f7cedeaac_ef90c_10a77c8e3f7__60c7" alt="Troubleshooting EnterpriseServer" title="Troubleshooting EnterpriseServer" target="_blank">13 Troubleshooting the Enterprise Server</a></li>
</ul>
</ul>
</ul>
</ul>
</ul>
<hr />
<h3 class="km"><a name="troubleshootingadditional"></a>Troubleshooting additional</h3>
<p><br /> In case you need to create your own business function, make it sure that below check points read and executed.</p>
<h4 class="km"><a name="bestpractice"></a>Best Practices C (C Programming Best Practice)</h4>
<div style="margin-left: 40px;">This part of information is to explain possible cause of memory corruption in C programming.<br />
<ul>
<li>Is the function that allocates memory also the function that frees that memory?</li>
<ul>
<li>This is just a good coding practice. The function that allocates memory is the function responsible for freeing memory. Any other usage leads to problems where memory is either freed prematurely or (worse) not freed at all.</li>
</ul>
<li>Are variables declared and initialized at the same time?</li>
<ul>
<li>Variables contain garbage data when declared on the stack. You cannot make any assumption about what that data looks like until after you have explicitly initialized the variable. For safety reasons, it is always better to initialize the variable at the time it is declared.</li>
</ul>
<li>Are data structures memset to appropriate size?</li>
<ul>
<li>Be careful that you&rsquo;re allocating the correct amount of memory. Always allocate based on the size of a data element and never based on the size of a pointer!</li>
</ul>
<li>Are arrays declared to be the appropriate size?</li>
<ul>
<li>Arrays are hard coded in size and do not dynamically expand in size. Consequently, users can overwrite other data when they attempt to store more items in an array than the array is designed to handle. Make sure that your code does not allow for writing outside the allowable bounds of the array.</li>
</ul>
<li>Are select structures declared to be the appropriate size?</li>
<ul>
<li>Size your select structures based on the maximum possible of elements that can be used for data selection.</li>
</ul>
<li>Are pointers stored and retrieved using jdeStoreDataPointer and jdeRetrieveDataPointer? Are they being cleared from the hash table using jdeRemoveDataPointer?</li>
<ul>
<li>You cannot pass a pointer from a C business function to an ER-based application (natively). The reason for this is that a pointer may have a different size depending on the platform being used and ER does not support variable length parameters. Use jdeStoreDataPointer, jdeRetrieveDataPointer and jdeRemoveDataPointer to handle the passing of pointers/handles to and from ER-based applications. See the JDE API documentation for more details on how to actually implement this functionality.</li>
</ul>
<li>Are pointers tested for NULL before dereferencing them?</li>
<ul>
<li>Never dereference a pointer without first testing to see if the pointer is NULL. If you attempt to dereference a null pointer, your program will bomb most ungraciously.</li>
</ul>
<li>Are handles tested for NULL before using them?</li>
<ul>
<li>In general, it is a good idea to verify that a handle is not NULL before attempting to use it. For example, before attempting to fetch a record from cache, it might make sense to check that the cache handle is valid before calling the fetch API. This gives your function the opportunity to gracefully handle the fact that the cache handle is invalid. It can be easy to get carried away with checking for NULL pointers and handles every time one is used, especially if either is used extensively. This over-abundance of conditionals makes the code difficult to read and more complex than necessary. In general, a reasonable attempt to check for NULL handles should be made (especially in cases where a NULL condition is likely), but don&rsquo;t sacrifice clarity.</li>
</ul>
<li>Are you testing to see if jdeMalloc succeeded in allocating memory?</li>
<ul>
<li>This is a subtle issue, but important. jdeMalloc is called to allocate new memory from the heap. This function works just fine most of the time. However, there is the possibility that all available memory has been exhausted and jdeMalloc will not, in fact, allocate anything. Don&rsquo;t simply start using a pointer right after calling jdeMalloc without first testing to see if jdeMalloc actually worked.</li>
</ul>
</ul>
</div>
<h3 class="km"><a name="commonmistake"></a>Memory Corruption - Common Mistakes</h3>

<div style="margin-left: 40px;">
<div style="margin-left: 40px;">
<ul>
<li>Mismatches in size</li>
<ul>
<li>Double check the variable/parameters. Mismatches in size can cause the call object kernel to crash.</li>
<li>The cache name must not exceed 50 chars as that&rsquo;s the maximum allowed size. If the length exceeds 50 chars jdeCacheInit() / jdeCacheInitEx() will return with an error.</li>
</ul>
</ul>
<ul>
<li>Column Arrays</li>
<ul>
<li>When fetching a subset of columns from a table, if the column array is not properly created it can crash the program. Don't believe it is okay just because it works on your local PC. The AS/400 will have trouble with it.</li>
<li>Column Array Definition / Implementation &ndash; we typically use column arrays to open up a table for a subset of columns to improve performance. The key parameters involved are:</li>
<ul>
<li>Array Definition &ndash; defines the desired columns Number of Parameters &ndash; defines the # of columns identified in the array Data Structure &ndash; populated during the fetch operation</li>
<li>The key rules to follow when using a column array are:</li>
<ul>
<li>The array and corresponding data structure must match.</li>
<li>The data items used must be listed in the same sequence as they fall in the table.</li>
<li>The # of parameters must accurately reflect the number of data items in the array and data structure.</li>
<li>Key Fields should be included in Column array</li>
</ul>
<li>In the event any of these rules are violated, the table I/O may function properly locally or on a Windows server environment; however it will fail on the Linux and AS/400.</li>
<li>Common mistakes are:</li>
<ul>
<li>Modifying the array parameters without updating the corresponding data structure</li>
<li>Listing the parameters of the array in a difference order than the data structure</li>
<li>Appending new columns to the end of the array and data structure without considering where the fall in the table</li>
<li>Adding / Removing parameters from the array &amp; data structure without updating the # of parameters value used by the open table</li>
</ul>
</ul>
</ul>
</ul>
<ul>
<li>Referencing null pointers</li>
<ul>
<li>Forgetting to verify that your pointer is not null before using it.</li>
<li>Using the /analyze Compiler Option can catch these at compile time.</li>
</ul>
</ul>
<ul>
<li>Using uninitialized memory</li>
<ul>
<li>Forgetting to initialize data structures before use.</li>
<li>Using the /analyze Compiler Option can catch these at compile time for uninitialized structures. It does not seem to catch uninitialized arrays or variables.</li>
<ul>
<li>Example issue: A business function was doing a JDB_SetSelection on a joined business view. The function hadn't been changed for a while and then it just stopped working on the server. The select structure passed to the JDB_SetSelection was not initialized and contained garbage. It caused the error message "JDB9900269 - Failed to find requested Table -- F34A110" in the jdeDebug.log, but only on a server. It worked perfectly locally.</li>
</ul>
</ul>
</ul>
<ul>
<li>String Copying</li>
<ul>
<li>String copies where the destination is too small for the source.</li>
<li>Using the /analyze Compiler Option can catch these at compile time.</li>
</ul>
</ul>
<ul>
<li>Error Message Mapping</li>
<ul>
<li>jdeCallObject has a parameter for the number of mappings for errors. If you pass a non-zero value but your callmap is null, your system may issue a memory violation.</li>
<li>There is another example of error messages causing memory violations. There was an existing callmap and one of the data structure fields was removed from the function data structure and the callmap was not corrected.</li>
</ul>
</ul>
<ul>
<li>Freeing already freed memory</li>
<ul>
<li>Freeing the same memory more than once can result in web exceptions. The AS/400 is very unforgiving of freeing the same memory twice.</li>
</ul>
</ul>
<ul>
<li>Mismatches of function parameters</li>
<ul>
<li>Putting the input parameters in the wrong order can cause web exceptions. For instance a function has parameters A, B, C, D, and E. Passed to the function from the calling function are parameters A, B, D, C, and E. Assuming variables C and D are not the same length and type, this could result in web exceptions.</li>
</ul>
</ul>
<ul>
<li>Spaces in the jdeCallObject function name</li>
<ul>
<li>This issue was uncovered when researching web exceptions in the 8.10 environment. If there is a space between the function name and the ending quote, a web exception can occur. For example ("GetUDCDefinitions "). This is a very subtle issue that is hard to trace.</li>
</ul>
</ul>
</div>
</div>
<p> </p>
<hr />
<h3 class="km"><a name="summary"></a>Summary:</h3>
<p> </p>
<ul>
<li>Memory error may have multiple patterns</li>
<li style="font-weight: bold;">It is very important to apply ESUs which are categorized <span style="color: red;">Memory and Performance</span> to have valid result in running EnterpriseOne applications</li>
<li>To minimze possible memory corruption, all the baseline ESUs are to be in place. In general, when there is change in data structure, which is medium for memory communication and which includes business function data structure, processing option template, table data structure, business view data structure, form data structure, report interconnection data structure, media object structure change of size in data dictionary items.</li>
<li>When a certain ESU has dependency with ESU, install all the dependent ESUs to minize any memory error</li>
<li>For  debugging purpose,</li>
<li>Check JDE_*.log</li>
<li>Capture JDEDEBUG_*.log</li>
<li>Make use of Memory Diagnostics Tools if applicable</li>
<li>Heap and Stack are handled by Operating system, so logs from EnterpriseOne may not contain full information</li>
<li>If applicable, run offending application in WebDev client with Non-J* environment where DEFAULT BSFN is mapped to LOCAL through OCM. This enables you to determien whether issue is platform (and it's release) specific or not</li>
</ul>
<hr />
<p><br />  </p>
<h3 class="km"><a name="knownissue"></a>Known Issues and Bugs:</h3>
<p>&lt;Document 1237103.1&gt; E1: 12: R12855 Ends In Memory Violation Error on Windows Server 2008 x64<br /> &lt;Document 632629.1&gt; E1: 34: R3482 &amp; R3483 Common Error Messages and Memory Violations<br /> &lt;Document 639397.1&gt; E1: 30: R30601 EventRule: Business Function BillOfMaterialIntegrityCheckT1<br /> &lt;Document 1064662.1&gt; E1: 43: Possible Causes of Memory Violation in P4314 - Voucher Match Application<br /> &lt;Document 1322258.1&gt; E1: 47: R47011 Reads Memory Violation<br /> &lt;Document 1272974.1&gt; E1: UBE: Case Study on "MEMORY ALLOCATION FAILURE" Errors in EnterpriseOne Batch Applications<br /> &lt;Document 1060818.1&gt; E1: UBE: R98306X Ends in Error and Output is Showing Incomplete Data<br />&lt;Document 1179493.1&gt; E1: BSFN: Call Object Kernel Errors Clarification - COB0000*<br />  </p>
<div class="kmnotebox"> Note:
<ul>
<li>Oracle's JD Edwards do not warranty any memory corruption issue caused by custom code</li>
<li>This note is to be updated without given any prior notice to indicate more case studies on this topic</li>
<li>This note is based on EnterpriseOne application release 9.1 and it's tools release 9.1</li>
<li>This note is created based on thin clien configuration, which performs business function logic in your logic server</li>
</ul>
</div>
<hr />
<p>See the second document in this series &lt;Document 1554611.1&gt; E1: BSFN: Case Study on Memory Violation, Memory Corruption, Memory Overwrite, Access Violation and Zombie Kernel Caused by Standard Business Functions Part 2.</p>
<p> </p>
<p> </p>



<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
