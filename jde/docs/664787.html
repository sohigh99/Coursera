<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Overview of Foreign Currency Account Balances Integrity Report (R09707)</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: "Segoe UI", Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
        .kmnotebox {
        background-color: #FFFFE0;
        border-left: 10px;
        /*border-style: dotted;*/
      }

      .kmcodeblock {
        background-color: #B0E0E6;
        border-left: 10px;
        margin-left: 2%;
        /*border-style: dotted;*/
      }

      
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>

      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Overview of Foreign Currency Account Balances Integrity Report (R09707)</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<table><tr><td width='0'></td><td><A HREF="#PURPOSE">Purpose</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#SCOPE">Scope</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#BODYTEXT">Details</A></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section31"><strong>Overview of Functionality</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section32"><strong>Setup</strong></a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section33">Processing Options</a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section34">Data Selection</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section35"><strong>Reviewing the Report</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section36"><strong>Error Messages</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section37"><strong>Resolving the Integrity</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section38"><strong>Reasons for Integrity</strong></a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section39"><strong>Frequently Asked Questions</strong></a></td></tr></table>
<table><tr><td width=40>&nbsp;</td><td><a href="#aref_section310"><strong>Question 1: </strong>In a multi-currency environment, during period processing of General Accounting data integrities, found that some of the common accounts are showing up on Account Balance to Transaction Integrity Report (R09705) and Foreign Currency Account Balances Integrity Report (R09707). Could these be probably related to each other?</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section311"><strong>Additional Resources</strong></a></td></tr></table>

<hr size=1><p>



<H2 class=km><A NAME="PURPOSE"></A>Purpose</H2>
<p>This document provides an overview of the Foreign Currency Account Balances Integrity Report (R09707) including the overview, program functionality, setup, information on reviewing and resolving the integrity report, reasons for integrity and frequently asked questions.</p>
<H2 class=km><A NAME="SCOPE"></A>Scope</H2>
<p>This document is intended for Finance Functional users who will be running and troubleshooting the General Accounting Integrity reports.</p>
<H2 class=km><A NAME="BODYTEXT"></A>Details</H2>
<a name="aref_section31"></a><h3 class="km"><strong>Overview of Functionality</strong></h3>
<p>The Foreign Currency Account Balances Integrity Report (R09707) reports the discrepancies in foreign account balances in the Account Balance (F0902) table. If there are incorrect or duplicate ledger type records, there can be discrepancies in financial reports or integrities. It verifies that each AA and CA ledger transaction in the Account Balances (F0902) table is correct based on the following setups:</p>
<ul>
<li>Post Balance by Currency (PBC) flag under the Currency tab in Company Constants setup.</li>
<li>Setup of PBCxx AAI's.</li>
<li>Value of Currency Code in case of monetary account.</li>
</ul>
<div class="kmnotebox">NOTE: AAI item PBCxx is used for posting account balances by currency. For more information on Post Balance by Currency functionality, please refer to <a href='../docs/664783.html'>Overview of Post Balances by Currency</a> Overview of Post Balances by Currency.</div>
<p>The R09707 report can be run in either proof/final mode per processing option setup:</p>
<ul>
<li>In proof mode, the Foreign Account Balances report lists any accounts with issues. Make sure that the accounts that appear on the report are set up accurately and were not inadvertently changed. If necessary, correct any errors and rerun the report in proof mode. If necessary, correct any errors and rerun the report in proof mode.</li>
<li>In final mode, the Foreign Account Balances report deletes the CA records listed with discrepancies.</li>
</ul>
<hr />
<a name="aref_section32"></a><h3 class="km"><strong>Setup</strong></h3>
<a name="aref_section33"></a><h4 class="km">Processing Options</h4>
<p class="km"><em>Mode Tab</em></p>
<p>1. Process</p>
<ul>
<li>Enter '1' to run the report in final mode to remove CA ledger type records with no matching AA ledger type records.</li>
<li>Default of Blank will only print the discrepancies and not remove the records.</li>
</ul>
<a name="aref_section34"></a><h4 class="km">Data Selection</h4>
<p>Its always recommended to run R09707 report wide open. For performance reasons, you may consider data selection by Company, Fiscal Year and Object Accounts range.</p>
<hr />
<a name="aref_section35"></a><h3 class="km"><strong>Reviewing the Report</strong></h3>
<p class="km"><strong>Non multi-currency environment</strong></p>
<p><img src="../images/bi10.png" border="0" hspace="0" align="bottom" /></p>
<p>It throws following Error Message:</p>
<div class="kmcodeblock"><strong>Currency conversion is off but the record has currency code.</strong></div>
<p>If the Multi-Currency Conversion flag in General Accounting Constants (P0000) is N, the integrity report looks at all records in Account Balance (F0902) for the currency related fields - CRCD &amp; CRCX. If any of these fields contains any value other than blank, it displays this error.</p>
<p class="km"><strong>Multi-currency environment</strong></p>
<p><img src="../images/bi11.png" border="0" hspace="0" align="bottom" /></p>
<hr />
<a name="aref_section36"></a><h3 class="km"><strong><a name="Error_Messages"></a>Error Messages</strong></h3>
<p>The R09707 Integrity report prints following Error Messages:</p>
<div class="kmcodeblock"><strong>*1 Denominated currency code (CRCX) should be the company's.</strong></div>
<p>Since PBC flag for Company 00150 is off and F0902 CRCD is Blank, the F0902 CRCX should be same as the currency of the company (i.e. USD) for the CA ledger, which is not in this case, hence this error is thrown.</p>
<p><img src="../images/bi12.png" border="0" hspace="0" align="bottom" /></p>
<div class="kmcodeblock"><strong>*2 Matching AA record's denominated currency (CRCX), should be the company.</strong></div>
<p>The F0902 AA ledger type record should have value of F0902 CRCX equal to the company's currency (USD), which is not in this case.</p>
<p><img src="../images/bi13.png" /></p>
<div class="kmcodeblock"><strong>*3 Monetary account with incorrect transaction (CRCD) or company currency code (CRCX).</strong></div>
<p>This error could be thrown because of following scenarios:</p>
<p>a) Object Account 1050 is a CAD monetary account for Company 91009 (USD) but the F0902 CRCD field is blank which is incorrect.</p>
<p><img src="../images/bi14.png" border="0" hspace="0" align="bottom" /></p>
<p>b)&nbsp;Object Account 1101 is a CAD monetary account for Company 91009 (USD). Both F0902 CRCX and CRCD are not same as F0901 Currency Code (i.e. CAD).</p>
<p><img src="../images/bi15.png" border="0" hspace="0" align="bottom" /></p>
<p>This scenario may happen if an account is changed from non-monetary to monetary, after you post a foreign transaction. For example, a transaction is created and posted in CAD for a non-monetary account in a USD company. When the transaction is posted, two records are created in the Account Balances (F0902) table as follows:</p>
<p><img src="../images/bi16.png" border="0" hspace="0" align="bottom" /></p>
<p>Later, the non-monetary account is changed to a CAD monetary account and a new transaction is made to the account. The posted records appear as:</p>
<p><img src="../images/bi17.png" border="0" hspace="0" align="bottom" /></p>
<p>Since the account previously had entries in it, the F0902 now has duplicate AA and CA records - there are four records (two for the AA ledger and two for the CA ledger) for the same account causing the discrepancy. Only one AA ledger record and one CA ledger record should appear in the F0902.</p>
<div class="kmcodeblock"><strong>*4 Account within PBC AAI range with no currency in the transaction currency field (CRCD).</strong></div>
<p>This error could be thrown because of following scenarios</p>
<p>a) If F0902 CRCD is blank for a non-monetary account and the PBC flag for company is off, the account is part of the PBCxx AAI's, it will throw this error.</p>
<p><img src="../images/bi18.png" border="0" hspace="0" align="bottom" /></p>
<p><img src="../images/bi19.png" border="0" hspace="0" align="bottom" /></p>
<p>b) This may happen if either the PBC flag for company is enabled or a range of accounts is added to AAI item PBCxx after you post a foreign transaction. For example, a transaction is created and posted in CAD for a non-monetary account in a USD company (not using Post Balances by Currency). When the transaction is posted, two records are created in the Account Balances (F0902) table as follows:</p>
<p><img src="../images/bi20.png" border="0" hspace="0" align="bottom" /></p>
<p>Later, either the PBC flag for company is activated or account is added in PBCxx AAI's and transactions are further posted to the same account. The F0902 records appear as:</p>
<p><img src="../images/bi21.png" border="0" hspace="0" align="bottom" /></p>
<p>Since the account previously had entries in it, the F0902 now has duplicate AA and CA records - there are four records (two for the AA ledger and two for the CA ledger) for the same account causing the discrepancy. Only one AA ledger record and one CA ledger record should appear in the F0902.</p>
<p><img src="../images/bi22.png" border="0" hspace="0" align="bottom" /></p>
<div class="kmcodeblock"><strong>*5 Transaction currency (CRCD) populated but not in PBC AAI range or a monetary account.</strong></div>
<p>If F0902 CRCD is not blank for a non-monetary account, and the account does not fall under PBCxx AAI's range, it throws this error. It may occur, if you change an account from a monetary account to a non-monetary account or if you remove a range of accounts from AAI item PBC xx, after you post a foreign transaction.</p>
<p><img src="../images/bi23.png" border="0" hspace="0" align="bottom" /></p>
<p><img src="../images/bi24.png" border="0" hspace="0" align="bottom" /></p>
<div class="kmcodeblock"><strong>*6 Denominated currency code (CRCX) should be the same as the transaction (CRCD).</strong></div>
<p>If PBC flag is on for company, an account of that company falls under PBCxx AAI range and F0902 CRCD is not blank, it compares F0902 CRCX with F0902 CRCD. If F0902 CRCX is not equal to F0902 CRCD, it throws this error.</p>
<p><img src="../images/bi25.png" border="0" hspace="0" align="bottom" /></p>
<div class="kmcodeblock"><strong>*7 No matching AA record found.</strong></div>
<p>This error would be thrown if no matching AA ledger record exists for a corresponding CA record.</p>
<p><img src="../images/bi26.png" border="0" hspace="0" align="bottom" /></p>
<p>In this example, for both object accounts 1143 and 1144 only CA ledger records exist and corresponding AA ledger type records do not exist.</p>
<div class="kmcodeblock"><strong>Record deleted.</strong></div>
<p>If the user has set the processing option to erase erroneous records and either of the above error has been found, then system would delete the record in question.</p>
<div class="kmcodeblock"><strong>Deletion unsuccessful.</strong></div>
<p>If delete of the CA record in question is unsuccessfull , it would print this message.</p>
<hr />
<a name="aref_section37"></a><h3 class="km"><strong><a name="Resolving_the_Integrity"></a>Resolving the Integrity</strong></h3>
<p>To correct these issues:</p>
<ol>
<li>Verify that the Currency Code (CRCD) for the account is correct in Revise Single Account (P0901). Please refer to the <em>Common Issues Question 1</em> section in <a href='../docs/664772.html'>Frequently Asked Questions on the Monetary Account Valuation Report (R09415) </a> to verify and rectify if the currency code for an account has been modified since inception.</li>
<li>Verify that the Post Balances by Currency setting is correct in Company Constants (P0010). Please refer to <em>Currency Fields F0911/F0902 Tables section</em> in <a href='../docs/664783.html'>Overview of Post Balances by Currency </a> in order to make sure that the corresponding tables have the correct currency codes populated in F0901, F0911 and F0902 tables.</li>
<li>Run R09707 in proof mode to review the discrepancies as listed above.</li>
<li>Export and review the F0902/F0911 data to excel as desired by account id/company.</li>
<li>Take backup of F0902 table.</li>
<li>Clear F0902 records as follows:<br />
<ul>
<li>Either run R09707 in final mode to delete the CA ledger type records listed as discrepancies. Please note that the incorrect AA ledger record is not automatically deleted by R09707 or&nbsp; R099102 and would be required to delete manually.</li>
<li>Or delete the both CA and AA ledger records via SQL with help of database administrator using with following selection criteria:</li>
</ul>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Company (GBCO), Ledger Type (GBLT), Century (GBCTRY), Fiscal Year (GBFY)</li>
<li>Rebuild the F0902 via Repost Account Ledger (R099102) report to create the correct CA and AA ledger type records with correct F0902 amounts. Please refer to <a href='../docs/1387474.html'>Overview Repost Account Ledger Integrity Report (R099102) </a> on R099102.</li>
<li>Run R09707 report again in proof mode to verify that no accounts have error messages.</li>
</ol><hr />
<a name="aref_section38"></a><h3 class="km"><strong>Reasons for Integrity</strong></h3>
<p>Primarily these integrity issues happen because of:</p>
<ul>
<li>Changing monetary account to non-monetary account</li>
<li>Changing non-monetary account to monetary account</li>
<li>Toggling the Post Balances by Currency flag in Company Constants (P0010).</li>
<li>Modifying PBCxx AAI's which is used for posting account balances by currency.</li>
</ul>
<hr />
<a name="aref_section39"></a><h3 class="km"><strong>Frequently Asked Questions</strong></h3>
<a name="aref_section310"></a><h4 class="km"><strong>Question 1: </strong>In a multi-currency environment, during period processing of General Accounting data integrities, found that some of the common accounts are showing up on Account Balance to Transaction Integrity Report (R09705) and Foreign Currency Account Balances Integrity Report (R09707). Could these be probably related to each other?</h4>
<p><strong>Answer 1:</strong> The discrepancies showing on both integrity reports could possibly be related, if F0902 table has duplicate records for each fiscal year and ledger type as shown in Error Messages above. As explained previously, these scenarios may happen either an account is changed from non-monetary to monetary or the PBC flag for company is toggled, after you post foreign transactions to the accounts for that company. Please follow the steps mentioned under Resolving the Integrity section to resolve the discrepancies listed in both integrities.</p>
<hr />
<p>&nbsp;</p>





<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
