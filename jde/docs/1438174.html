<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Columns Mapped in Purchase Order Generation from Sales Order</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>
        
      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Columns Mapped in Purchase Order Generation from Sales Order</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<h2 class="km"><big><big><a name="section01"></a><span style="font-size: medium;"><BIG>Purpose of Document</BIG></span></big></big></h2>

<p>This document discusses columns populated in the Purchase Order when it is generated from a Sales Order. It is specific to the following types of transactions: Direct Ship Orders (SD/OD), Transfer Orders (ST/OT) and Intercompany Orders (SK/OK).</p>


<!-- ======================================== Body Starts Here =================================== -->


<p>&nbsp;</p>
<p>This document is written based on EnterpriseOne application release 9.0.<br /> <br /> This document explains</p>
<ul>
<li><a href="#overview" title="Overview">Simplified Routine</a></li>
<li><a href="#detail" title="Detail Routine">Creation of Purchase Order Detail Cache</a></li>
<li><a href="#header" title="Header Routine">Creation of Purchase Order Header</a></li>
</ul>
<h4 class="km"><a name="overview"></a>Simplified Routine</h4>
<p>The below relationship is to show how the system handles data, and the relationship among sales order detail, purchase order detail, and purchase order header<br /> <br /> F4211FSEditLine: This function validates/default sales order detail information and create Sales Order Detail Cache</p>
<ul>
<li><strong>I4200310_ProcessPurchaseOrderLine()</strong>: Assignment takes place in this routine (Located in B4200311.c)</li>
</ul>
<blockquote>
<ul>
<li>F4311EditLine: Depends on option you set this function gets called by F4211FSEditLine to create Purchase Order Detail Cache</li>
</ul>
</blockquote>
<blockquote>
<blockquote>
<ul>
<li><span style="font-weight: bold;">IXTF4311Z2_CallBeginDocForNewHeaderRec()</span>: Assignment takes place in this internal routine</li>
</ul>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<ul>
<li>F4311BeginDoc: Based on given information in F4311EditLine it defaults and creates Purchase Order Header Cache</li>
</ul>
</blockquote>
</blockquote>
</blockquote>
<p><br /> F4211FSEndDoc: Commit Sales Order Header/Detail Cache</p>
<ul>
<li>F4311EndDoc: Commit Purchase Order Header/Detail Cache/Workfile based on cache created from Edit Line and Begin Doc routines</li>
</ul>
<p><br /> As we can see above, values to Purchase Order is determined through F4211FSEditLine routine</p>
<ul>
<li>F4301 (Purchase Order Header) data is created based on F4311 (Purchase Order Detail File)</li>
<li>F4311 (Purchase Order Detail File) is created based on F4211 (Sales Order Detail File)</li>
</ul>
<hr />
<p><br /> <br /> Now we may discuss the relationship in detail.</p>
<h4 class="km"><a name="detail"></a>Creation of Purchase Order Detail Cache</h4>
<p><br /> Currently F4211FSEditLine (B4200311) calls F4311EditLine (XT4311Z2) directly to populate Purchase Order with parameter name dsPOEditLineParms in internal function I4200310_ProcessPurchaseOrderLine. <br /> <br /> The sequence of parameters written below is based on the sequence in internal function I4200310_ProcessPurchaseOrderLine.</p>
<table style="width: 1061px; border-collapse: collapse; height: 283px;" border="2" cellspacing="2" cellpadding="2"><colgroup><col style="width: 116pt;" width="155" /><col style="width: 126pt;" width="168" /><col style="width: 65pt;" width="87" /><col style="width: 292pt;" width="389" /></colgroup>
<tbody>
<tr style="height: 12.75pt;"><th style="width: 155px; height: 12.75pt; background-color: #009900; color: white;">Target Parameter<br /> on dsPOEditLineParms</th><th style="width: 201px; background-color: #009900; color: white;">Source From (F4211FSEditLine)</th><th style="width: 279px; background-color: #009900; color: white;">Reference/Implemented By</th><th style="width: 356px; background-color: #009900; color: white;">Considerations</th></tr>
<tr style="height: 12.75pt;">
<td style="background-color: #cccccc; width: 155px; height: 12.75pt;"><a name="d1"></a>D1. szComputerID</td>
<td style="background-color: #cccccc; width: 201px;">lpDS-&gt;szCMComputerID</td>
<td style="background-color: #cccccc; width: 279px;">CTID for F42UI01, F42UI11, F4301Z and F4311Z are same machine name</td>
<td style="background-color: #cccccc; width: 356px;">* Key for Cache</td>
</tr>
<tr style="height: 12.75pt;">
<td style="background-color: #ffffcc; width: 155px; height: 12.75pt;"><a name="d2"></a>D2. cDetailActionCode</td>
<td style="background-color: #ffffcc; width: 201px;">lpDS-&gt;cCMLineAction</td>
<td style="background-color: #ffffcc; width: 279px;">&nbsp;</td>
<td style="background-color: #ffffcc; width: 356px;">Available Action Code in F4211FSEditLine:<br />
<ul>
<li>A - Add</li>
<li>C - Change</li>
<li>D - Cancel</li>
</ul>
cf., cDetailActionCode in F4311EditLine<br />
<ul>
<li>A or 1 - Add</li>
<li>C or 2 - Change</li>
<li>D or 3 - Cancel</li>
<li>I or 4 - Inquiry</li>
<li>P or 0 - Physical File (F4311) Deletion</li>
</ul>
</td>
</tr>
<tr style="height: 12.75pt;">
<td style="background-color: #ffffcc; width: 155px; height: 12.75pt;"><a name="d3"></a>D3. cProcessEdits</td>
<td style="background-color: #ffffcc; width: 201px;">'1'</td>
<td style="background-color: #ffffcc; width: 279px;">&nbsp;</td>
<td style="background-color: #ffffcc; width: 356px;">Hard Coded<br /> 1 indicates that validation/default take place in F4311EditLine</td>
</tr>
<tr style="height: 12.75pt;">
<td style="background-color: #ffffcc; width: 155px; height: 12.75pt;"><a name="d4"></a>D4. cUpdateOrWriteWorkFile</td>
<td style="background-color: #ffffcc; width: 201px;">lpDS-&gt;cCMWriteToWFFlag</td>
<td style="background-color: #ffffcc; width: 279px;">@SAR 1956813</td>
<td style="background-color: #ffffcc; width: 356px;">To determine whether to write Work File or not<br /> <br /> Values for parameter:<br />
<ul>
<li>1 - Write Cache</li>
<li>2 - Write Work File</li>
</ul>
If you create sales order through interactive application value 1 is to be assigned and for batch value 2 is to be assigned</td>
</tr>
<tr style="height: 12.75pt;">
<td style="width: 155px; height: 12.75pt;" height="17"><a name="d5"></a>D5. cPriceOverrideFlag<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.PROV</em>)</td>
<td style="width: 201px;">'0'</td>
<td style="width: 279px;">&lt;Bug 10972526&gt;: WRONG PRICES ON OD WHEN SD IS - SAR: 8631181</td>
<td style="width: 356px;">In case a Sales Quote is released for Direct Ship Order.<br />
<ul>
<li>Sales Quote Released&nbsp; szSalesOrderFlags[32] = '2'</li>
<li>cF40205InvInterface = 'D'</li>
</ul>
</td>
</tr>
<tr>
<td style="width: 155px; vertical-align: top;"><a name="d6"></a>D6. szTaxRateArea<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.TXA1</em>)</td>
<td style="width: 201px; vertical-align: top;">lpds4200310B-&gt;szShipToTaxArea</td>
<td style="width: 279px; vertical-align: top;">TXA1 - from GetShipToBillingInstructions<br /> <br /> Bug 12478367: TAX INFO NOT PASSED TO PO EDIT - SAR: 4824816 <br /> Other reference:<br /> &lt;Bug 12478413&gt;: TAX RATE ON PO DETAIL WRONG - SAR: 4824525&nbsp;<br /> &lt;Bug 12504972&gt;: WRONG TAX RATE ON SK/OK ORDERS - SAR: 6175872<br /> &lt;Bug 10880526&gt;: WRONG TXA1 &amp; EXR1 ON ODS - SAR: 7560431</td>
<td style="width: 356px; vertical-align: top;">Not Transfer Order AND cOrderProcessType != '3' AND mnSupplierNo Not Zero <br /> <br />Note:
<ul>
<li>currently in calling F4211FSEditLine cOrderProcessType is NULL (not assigned) so it always come to this routine</li>
<li>For Intercompany order cOrderProcessType is to be assigned with value 3</li>
</ul>
</td>
</tr>
<tr>
<td style="width: 155px; vertical-align: top;"><a name="d7"></a>D7. szTaxExplanationCode<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.EXR1</em>)</td>
<td style="width: 201px; vertical-align: top;">lpds4200310B-&gt;szShipToTaxExplCode</td>
<td style="width: 279px; vertical-align: top;">EXR1 - From GetShipToBillingInstructions</td>
<td style="width: 356px; vertical-align: top;">Same routine with #D6</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d8"></a>D8. mnOrderLineNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.LNID</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnLineNo</td>
<td style="vertical-align: top;">&lt;Bug 12476667&gt;: STOT LINE INTEGRITY AFTER ERRO - SAR: 4692462</td>
<td style="vertical-align: top;">if cConsolidationFlag is '1' or 'Y' don't do anything (Do not assign mnOrderLineNumber which has to be resolved through F4311EditLine routine</td>
</tr>
<tr>
<td style="background-color: #ffffcc; vertical-align: top;"><a name="d9"></a>D9. cRecordWrittenToWorkFile</td>
<td style="background-color: #ffffcc; vertical-align: top;">'1'</td>
<td style="background-color: #ffffcc; vertical-align: top;">&lt;Bug 10820663&gt;: LINE # EDIT ON ST CFG PARENT - SAR: 6792387 (Add condition for SO that has related WO and PO)<br /> &lt;Bug 10914769&gt;: TEXT LINE WITHIN TRANSFER ORDE - SAR: 7970931</td>
<td style="background-color: #ffffcc; vertical-align: top;">This parameter is to control the process in F4311EditLine whether to populate Work File or not<br /> lpDS-&gt;cCMRecdWrittenToWF is '2', '3', or '5' and either Transfer order or Direct Ship Order</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d10"></a>D10. mnAdjustmentRevisionLevel<br /> &nbsp;&nbsp;&nbsp;&nbsp; (N/A)</td>
<td style="vertical-align: top;">&amp;lpdsF42UI11-&gt;zdodln</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">F4311Z.AREV to use in calling B4500250 (CalculatePurchasePrice)</td>
</tr>
<tr>
<td style="background-color: #cccccc; vertical-align: top;"><a name="d11"></a>D11. mnJobNumber</td>
<td style="background-color: #cccccc; vertical-align: top;">&amp;lpdsF42UI11-&gt;zdrjob</td>
<td style="background-color: #cccccc; vertical-align: top;">&nbsp;</td>
<td style="background-color: #cccccc; vertical-align: top;">* Key for Cache</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d12"></a>D12. mnOrderLineNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.LNID</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnRelatedPoSoLineNo</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">lpds4200310B-&gt;cF40205TextLineYN ==_J('Y')</td>
</tr>
<tr>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&amp;lpdsF42UI11-&gt;zdrlln</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">The SO Detail Line type is not Text Line</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d13"></a>D13. cCurrencyProcessingFlag</td>
<td style="vertical-align: top;">lpds4200310B-&gt;cCMCurrencyControl</td>
<td style="vertical-align: top;">F0009.GOT1 (either Y or Z)</td>
<td style="vertical-align: top;">Coming from Environment Cache</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d14"></a>D14. szOrderType<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.DCTO</em>)</td>
<td style="vertical-align: top;">lpdsT43101-&gt;szDuplicationOrderType</td>
<td style="vertical-align: top;">&lt;Bug 10977680&gt;: WRONG DOC TYPE OF TRANSFER ORD - SAR: 8688487 (Order Type need to be defaulted from Duplication tab of P4310)</td>
<td style="vertical-align: top;">if (lpDS-&gt;szSalesOrderFlags[38] == _J('1')&amp;&amp; (IsStringBlank(lpDS-&gt;szRelatedOrderType)))<br /> <br /> If version is not specified PO version ZJDE0001 is to be used</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d15"></a>D15. szPurchaseOrderPrOptVersion</td>
<td style="vertical-align: top;">lpds4200310B-&gt;szPOPurchOrdEntryVersn</td>
<td style="vertical-align: top;">Version for Purchase Order Entry P4310</td>
<td style="vertical-align: top;">This version information is to be used in F4311EditLine routine</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d16"></a>D16. cAddNewLineToExistingOrder</td>
<td style="vertical-align: top;">'1'</td>
<td style="vertical-align: top;">&lt;Bug 12482498&gt;: SK&amp;OK WHEN SHIP SEPERATE LINES - SAR: 5085357 (add IC order condition)</td>
<td style="vertical-align: top;">Only for Transfer order or Intercompany Order<br /> When action code for header is C - Change and Action code for Detail is A - Add</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d17"></a>D17. szOrderCompany<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.KCOO</em>)</td>
<td style="vertical-align: top;">lpdsF42UI01-&gt;zhrkco</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d18"></a>D18. mnOrderNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.DOCO</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szRelatedPoSoNumber</td>
<td style="vertical-align: top;">&lt;Bug 12439991&gt;: NO EQUIV. P4242 IN OW, TABS - SAR: 2179913</td>
<td style="vertical-align: top;">if Related PO Number is specified</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d19"></a>D19. szOrderType<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.DCTO</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szRelatedOrderType</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">if szRelatedOrderType is specified</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d20"></a>D20. szOrderCompany<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.KCOO</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szCompanyKeyRelated</td>
<td style="vertical-align: top;">&lt;Bug 10915525&gt;: R4210IC - TO CANCEL OK ORDER - SAR: 7979629 (modify If condition for interbranch order)</td>
<td style="vertical-align: top;">If szCompanyKeyRelated is specified and Interbranch order</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d21"></a>D21. szLastStatus<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.LTTR</em>)</td>
<td style="vertical-align: top;">"980"</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">If it is interbranch order or intercompany order <br /> and If the Sales Order was canceled then the Puchase Order must also be canceled</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d22"></a>D22. szNextStatus<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.NXTR</em>)</td>
<td style="vertical-align: top;">"999"</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d23"></a>D23. szOrderSuffix<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.SFXO</em>)</td>
<td style="vertical-align: top;">'000'</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Hard Coded</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d24"></a>D24. szBranchPlant<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.MCU</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szTransferOrderToBranch</td>
<td style="vertical-align: top;">&lt;Bug 12450914&gt;: SOE INTERCOMPANY - SAR: 2824564</td>
<td style="vertical-align: top;">When order is Interbranch or Intercompany Order</td>
</tr>
<tr>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">lpdsF42UI01-&gt;zhmcu</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Neither Interbranch nor Incompany then copy it based on header B/P</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d25"></a>D25. szRelatedOrderCompany<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.RKCO</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szOrderCo</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d26"></a>D26. szRelatedOrderNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.RORN</em>)</td>
<td style="vertical-align: top;">nOrderNumber</td>
<td style="vertical-align: top;">&lt;Bug 12490647&gt;: SD SALE ORDER DISPLAY PO#00000 - SAR: 5524170</td>
<td style="vertical-align: top;">Fill in zero in front of order number to make 8 digits related order number</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d27"></a>D27. szRelatedOrderType<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.RCTO</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szOrderType</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d28"></a>D28. mnRelatedOrderLine<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.RLLN</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnLineNo</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d29"></a>D29. mnSupplierNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.AN8</em>)</td>
<td style="vertical-align: top;">&amp;lpds4200310B-&gt;mnTransferOrderSupplier</td>
<td style="vertical-align: top;">@SAR 1066394</td>
<td style="vertical-align: top;">lpds4200310B-&gt;cPOTransferOrder == _J('1')) (that is, Transfer Order)</td>
</tr>
<tr>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&amp;lpdsF42UI01-&gt;zhian8</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">when above routine fails to return supplier number</td>
</tr>
<tr>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnSupplierNo</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">For orders other than TransferOrder</td>
</tr>
<tr>
<td style="background-color: #ffffcc; vertical-align: top;"><a name="d30"></a>D30. mnJobNumber</td>
<td style="background-color: #ffffcc; vertical-align: top;">&amp;lpds4200310B-&gt;lpdsF42UI02- &gt; mnRelatedOTJobNumber</td>
<td style="background-color: #ffffcc; vertical-align: top;">&lt;Bug 10709761&gt;: ST/OT THREADING ISSUE - SAR: 3645912</td>
<td style="background-color: #ffffcc; vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d31"></a>D31. mnShipToNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.SHAN</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnAddressNumberDeliveredTo</td>
<td style="vertical-align: top;">&lt;Bug 10885486&gt;: SHIP ADDRESS WRONG-CUSTOMER SE - SAR: 7618541 (When the flag Address for Transport/Intrastat is set to "2" in CustomerSet, DeliverTo address is to be passed to the F4311 Edit Line so that the ShipTo address is the DeliverTo address in the Purchase order)</td>
<td style="vertical-align: top;">When F42UI01.AUFI (Address Number to use for Transportation)= '2'<br />
<ul>
<li>1: Ship To Address</li>
<li>2: Deliver To Address</li>
</ul>
</td>
</tr>
<tr>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnShipToNo</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">when f42ui01.aufi is not '2'</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d32"></a>D32. jdRequestedDate<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.DRQJ</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;jdRequestedDate</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d33"></a>D33. jdTransactionDate<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.TRDJ</em>)</td>
<td style="vertical-align: top;">&amp;lpdsF42UI01-&gt;zhtrdj</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d34"></a>D34. jdPromisedDate<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.PDDJ</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;jdPromisedDlvryDate</td>
<td style="vertical-align: top;">&lt;Bug 10910195&gt;: PDDJ NOT PASSED TO F4311 - SAR: 7913646 (Pass the Promised Delivery Date to PO Promised Date)</td>
<td style="vertical-align: top;">Added by &lt;Bug 10910103&gt;: PDDJ NOT PASSED TO F4311 - SAR: 7913638</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d35"></a>D35. jdCancelDate<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.CNDJ</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;jdCancelDate</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Update (Cancel) Mode only</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d36"></a>D36. szUnformattedItemNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.LITM</em>)</td>
<td style="vertical-align: top;">dsD4001040.szPrimaryItemNumber</td>
<td style="vertical-align: top;">&lt;Bug 12485188&gt;: TRANSFER ORDER INVALID ITEM NO - SAR: 5251386</td>
<td style="vertical-align: top;">Get Item Number based on lpDS-&gt;szTransferOrderToBranch for Transfer Order<br /> * Transfer Order (cPOTransferOrder = '1')</td>
</tr>
<tr>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">lpDS-&gt;szItemNo</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Not transfer order</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d37"></a>D37. mnQuantityOrdered<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.UORG</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnQtyOrdered</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d38"></a>D38. szLineType<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.LNTY</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szLineType</td>
<td style="vertical-align: top;">&lt;Bug 12494426&gt;: T LINE TYPE AND TRANSFER ORDER - SAR: 5701295 (pass the line type if the lpds4200310B-&gt;cF40205InvInterface=='N') <br /> <br /> &lt;Bug 10969634&gt;: ST/OT CREATED WITH WRONG LINE - SAR: 8598713 (Modified the SAR 5701295 fix to pass the line type to PO in the scenario when non stock line type does not have any item record)</td>
<td style="vertical-align: top;">Only when order is not intercompany order AND Inventory Interface is 'N - Non-Stock' AND EditItem is not '1' (that is F4102 does not contain this non-stock item)</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d39"></a>D39. szDescription1<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.DSC1</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szDescription1</td>
<td style="vertical-align: top;">&lt;Bug 11015010&gt;: SD OD - ALTERNATE DESCRIPTION - SAR: 8933317 (If the DSC1,DSC2 are manually entered then pass to F4311Editline)</td>
<td style="vertical-align: top;">Only when szDescription1 is overridden during Sales Order Entry</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d40"></a>D40. szDescription2<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.DSC2</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szDescription2</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Only when szDescription2 is overridden</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d41"></a>D41. szDetailLineBranchPlant<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.MCU</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szTransferOrderToBranch</td>
<td style="vertical-align: top;">&lt;Bug 12450914&gt;: SOE INTERCOMPANY - SAR: 2824564</td>
<td style="vertical-align: top;">When order is either Interbranch or Intercompany Order</td>
</tr>
<tr>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">lpDS-&gt;szBusinessUnit</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Not interbranch or intercompany</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d42"></a>D42. szLocation<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.LOCN</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szLocation</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Except Transfer Order</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d43"></a>D43. szLotNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.LOTN</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szLotNo</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d44"></a>D44. szTransactionUoM<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.UOM</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szTransactionUOM</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d45"></a>D45. szSubledger<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.SBL</em>)</td>
<td style="vertical-align: top;">lpds4200310B-&gt;szSubledger</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d46"></a>D46. szLandedCostRule<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.PDP5</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szLandedCost</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">cf., F4301.PRP5</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d47"></a>D47. szPrintMessage<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.INMG</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szPrintMesg</td>
<td style="vertical-align: top;">&lt;Bug 12479850&gt;: PRINT MESSAGE NOT PASSED TO OD - SAR: 4911522<br /> &lt;Bug 11022154&gt;: TRANSFER ORDER PRINT MESSAGE - SAR: 8940874<br /> &lt;Bug 13241237&gt; - Revert SAR 8940874 fix</td>
<td style="vertical-align: top;">Through a&nbsp; bug 13241237 F4211.INMG should not be assigned to F4301.INMG</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d48"></a>D48. cTaxable<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.TX</em>)</td>
<td style="vertical-align: top;">'N'</td>
<td style="vertical-align: top;">&lt;Bug 12484510&gt;: BYPASS TAXES ON OK NOT WORKING - SAR: 5205398 (pass N if Tax is Off)</td>
<td style="vertical-align: top;">lpds4200310B-&gt;cPOTurnOffTaxable == _J('1'))</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d49"></a>D49. cTransferOrder<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.PS01</em>)</td>
<td style="vertical-align: top;">'1'</td>
<td style="vertical-align: top;">SAR 2520261 Pass in the SO11 or cPOTransferFlag to PO EditLine Data Structure<br /> &lt;Bug 10739207&gt;: REGENERATE PO AFTER REC ROUTE - SAR: 4608662</td>
<td style="vertical-align: top;">Transfer Order<br />
<ul>
<li>lpDS-&gt;szSalesOrderFlags[ORDER_TYPE_ALPH11] == TRANSFER_1_ALPH11</li>
<li>OR lpds4200310B-&gt;cPOTransferOrder == _J('1'))</li>
</ul>
</td>
</tr>
<tr>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">'3'</td>
<td style="vertical-align: top;">SAR 7105198, Check for Intercompany order</td>
<td style="vertical-align: top;">Intercompany Order (lpDS-&gt;cOrderProcessType == _J('3'))</td>
</tr>
<tr>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">' ' (a Space)</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Neither Interbranch Nor Intercompany</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d50"></a>D50. szGLClassCode<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.GLC</em>)</td>
<td style="vertical-align: top;">lpds4200310B-&gt;szGlClass</td>
<td style="vertical-align: top;">&lt;Bug 10695197&gt;: G/L CLASS NOT POPULATED - SAR: 3182719</td>
<td style="vertical-align: top;">lpds4200310B-&gt;cF40205InvInterface ==_J('D') but not Transfer Order</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d51"></a>D51. cSourceRequestingPOGeneration</td>
<td style="vertical-align: top;">'3'</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Hard Coded to indicate PO is created from SO</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d52"></a>D52. szProgramID<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.PID</em>)</td>
<td style="vertical-align: top;">"EP4210"</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Hard Coded to indicate PO is created via F4211FSEditLine routine</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d53"></a>D53. szUserID<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.USER</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szUserID</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d54"></a>D54. mnUniqueKey<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.UKID</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnDRPKeyId</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">N/A (PO is generated through MRP messages)</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d55"></a>D55. mnCarrierNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.ANCR</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnCarrier</td>
<td style="vertical-align: top;">&lt;Bug 10707218&gt;: CARRIER# IS NOT ON THE OD - SAR: 3579687</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d56"></a>D56. szFreightHandlingCode<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.FRTH</em>)</td>
<td style="vertical-align: top;">lpds4200310B-&gt;szFreightCode</td>
<td style="vertical-align: top;">&lt;Bug 12473901&gt;: FREIGHT CODE NOT PASSED TO OD - SAR: 4548858</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="background-color: #cccccc; vertical-align: top;"><a name="d57"></a>D57. mnProcessID</td>
<td style="background-color: #cccccc; vertical-align: top;">&amp;lpDS-&gt;mnProcessID</td>
<td style="background-color: #cccccc; vertical-align: top;">&lt;Bug 10701620&gt;: CONSOLIDATE BASED ON PEID,TSID - SAR: 3406866</td>
<td style="background-color: #cccccc; vertical-align: top;">* Key for Cache</td>
</tr>
<tr>
<td style="background-color: #cccccc; vertical-align: top;"><a name="d58"></a>D58. mnTransactionID</td>
<td style="background-color: #cccccc; vertical-align: top;">&amp;lpDS-&gt;mnTransactionID</td>
<td style="background-color: #cccccc; vertical-align: top;">Refer D57</td>
<td style="background-color: #cccccc; vertical-align: top;">* Key for Cache</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d59"></a>D59. szModeOfTransport<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.MOT</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szModeOfTransport</td>
<td style="vertical-align: top;">&lt;Bug 12483511&gt;: REHOOK/PASS MOT TO XT4311Z2 - SAR: 5145233</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d60"></a>D60. szReference1<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.VR01</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szCustomerPO_VR01</td>
<td style="vertical-align: top;">&lt;Bug 11031555&gt; - Pass VR01, VR02 to OD</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d61"></a>D61. szReference2<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.VR02</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szReference2Vendor_VR02</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d62"></a>D62. szPromotionID<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.PMTN</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szPromotionID</td>
<td style="vertical-align: top;">&lt;Bug 12484164&gt;: PINNACLE -PROMOTION ID TO PO - SAR: 5183643</td>
<td style="vertical-align: top;">If szPromotionID is populated from Sales side.</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d63"></a>D63. mnProjectNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.PRJM</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnProjectNumber</td>
<td style="vertical-align: top;">Refer #D61</td>
<td style="vertical-align: top;">If mnProjectNumber is populated</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d64"></a>D64. mnTaskOrderNumber</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnDescTaskOrderNumber</td>
<td style="vertical-align: top;">&lt;Bug 12490362&gt;: MPM-PURCHASED ITEMS CODING - SAR: 5510106</td>
<td style="vertical-align: top;">To interface with Manufacturing (Assign PO No)<br /> When &amp;lpDS-&gt;mnDescTaskOrderNumber is not zero</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d65"></a>D65. szTaskOrderType</td>
<td style="vertical-align: top;">lpDS-&gt;szDescTaskOrderType</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">To interface with Manufacturing</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d66"></a>D66. szItemNumberRelatedKit<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.RLIT</em>)</td>
<td style="vertical-align: top;">lpDS-&gt;szRelatedKitItemNo</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">lpDS-&gt;szRelatedKitItemNo is not zero and Intercompany Order</td>
</tr>
<tr>
<td style="vertical-align: top;"><a name="d67"></a>D67. jdGLDate<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (<em>F4311.DGL</em>)</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;jdRequestedDate</td>
<td style="vertical-align: top;">&lt;Bug 12503862&gt;: EPM DIRECT SHIP ORDER ERROR - SAR: 6133921</td>
<td style="vertical-align: top;">Only when &amp;lpDS-&gt;mnProjectNumber is not zero</td>
</tr>
<tr>
<td style="vertical-align: top;">D68. mnProductionNumberShort</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnProductionNumberShort</td>
<td style="vertical-align: top;">&lt;BUG 11904731&gt; - PMPN Enhancements</td>
<td style="vertical-align: top;">9.1 only</td>
</tr>
<tr>
<td style="vertical-align: top;">D69. szProjectMfgProductionNumb</td>
<td style="vertical-align: top;">lpDS-&gt;szProjectManufacturingProd</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
<tr>
<td style="vertical-align: top;">D70. mnWeight</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnItemWeight</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">&nbsp;</td>
</tr>
</tbody>
</table>
<p><br /> Important: Data Structure used in the routine (To identify the source of data)</p>
<ul>
<li>lpDS: Long Pointer Data Structure for F4211FSEditLine. Through event rule (or other BSFN) parameters assigned (and/or retrieved internally)</li>
<li>lpds4200310B: Data Structure for F4211FSEditLine to store values to handle transaction. So for this example, when it points to this data structure the value is handled internally and same value can be repeated in F42UI11. Refer detail in ...\include\B4200310.h</li>
<li>lpdsF42UI01: Data Structure for Sales Order Header Cache (cf., F42UI02)</li>
<li>lpdsF42UI11: Data Structure for Sales Order Detail Cache (cf. F42UI12)</li>
</ul>
<div class="kmnotebox">Note:<br />
<ul>
<li>Both B4200311 and XT4311Z2 are internal function for B4200310 and XT4311Z1 respectively</li>
<li>Retrieve/compute price and cost before it calls F4311EditLine</li>
<li>A unique transaction is determined by szCMComputerID, mnCMJobNo, mnProcessID, mnTransactionID and mnCMLineNo</li>
<li>Some value are to be returned from F4311EditLine to F4211FSEditLine but this note does not cover it</li>
<li>For this example, source of data are parameters from F4211FSEditLine, lpds4200310B, lpdsF42UI01 or lpdsF42UI11</li>
<li>Edit Line routine for Sales and Purchase are written in B4200311 and XT4311Z2 respectively which are called by B4200310 and XT4311Z1</li>
<ul>
<li>&lt;Document 1265902.1&gt;&nbsp; E1: BSFN: Master Business Function in EnterpriseOne</li>
<li>&lt;Document 1051653.1&gt; E1: 42: Work Files (F42UI*) in Sales Order Entry (P4210/P42101)</li>
</ul>
</ul>
</div>
<p>&nbsp;</p>
<hr />
<h4 class="km"><a name="header"></a>Creation of Purchase Order Header Cache</h4>
<p>Next, the F4311EditLine calls F4311BeginDocument to populate the Purchase Order Header based on the value handled in the Edit Line routine.<br /> <br /> Internal function IXTF4311Z2_CallBeginDocForNewHeaderRec() in XT4311Z2 gets/assigns the data structure of dsBeginDocParms. So the column/parameter listed below is the parameter of dsBeginDocParms. A number of assignment are not used in creating purchase orders based on Sales Orders. Parameters does not have assignment in Detail for the applications P43011 or P43360.</p>
<table style="width: 1136px; border-collapse: collapse; height: 159px;" border="2" cellspacing="2" cellpadding="2"><colgroup><col style="width: 116pt;" width="155" /><col style="width: 126pt;" width="168" /><col style="width: 65pt;" width="87" /><col style="width: 292pt;" width="389" /></colgroup>
<tbody>
<tr style="height: 12.75pt;"><th style="width: 197px; height: 12.75pt; color: white; background-color: #009900;">Target Parameter on dsBeginDocParm</th><th style="width: 277px; color: white; background-color: #009900;">Source From (F4311EditLine)</th><th style="width: 268px; color: white; background-color: #009900;">Reference/Implemented By</th><th style="width: 374px; color: white; background-color: #009900;">Considerations</th></tr>
<tr style="height: 12.75pt;">
<td style="background-color: #cccccc; width: 197px; height: 12.75pt;">H1. szComputerID</td>
<td style="background-color: #cccccc; width: 277px;">lpDS-&gt;szCMComputerID</td>
<td style="background-color: #cccccc; width: 268px;">&nbsp;</td>
<td style="background-color: #cccccc; width: 374px;">* Unique Cache/Work File ID</td>
</tr>
<tr style="height: 12.75pt;">
<td style="background-color: #cccccc; width: 197px; height: 12.75pt;">H2. mnProcessID</td>
<td style="background-color: #cccccc; width: 277px;">&amp;lpDS-&gt;mnProcessID</td>
<td style="background-color: #cccccc; width: 268px;">&lt;Bug 10691321&gt;: CACHE SHARED WITH MULTI PROCES - SAR: 3046995</td>
<td style="background-color: #cccccc; width: 374px;">* Unique Cache/Work File ID</td>
</tr>
<tr style="height: 12.75pt;">
<td style="background-color: #cccccc; width: 197px; height: 12.75pt;">H3. mnTransactionID</td>
<td style="background-color: #cccccc; width: 277px;">&amp;lpDS-&gt;mnTransactionID</td>
<td style="background-color: #cccccc; width: 268px;">Refer #H2</td>
<td style="background-color: #cccccc; width: 374px;">* Unique Cache/Work File ID</td>
</tr>
<tr style="height: 12.75pt;">
<td style="background-color: #ffffcc; width: 197px; height: 12.75pt;">H4. cUpdateOrWriteWorkFile</td>
<td style="background-color: #ffffcc; width: 277px;">'A'</td>
<td style="background-color: #ffffcc; width: 268px;">&nbsp;</td>
<td style="background-color: #ffffcc; width: 374px;">Hard Coded to 'A' for ADD</td>
</tr>
<tr style="height: 12.75pt;">
<td style="background-color: #ffffcc; width: 197px; height: 12.75pt;">H5. cProcessEdits</td>
<td style="background-color: #ffffcc; width: 277px;">lpDS-&gt;cProcessEdits</td>
<td style="background-color: #ffffcc; width: 268px;">&nbsp;</td>
<td style="background-color: #ffffcc; width: 374px;">Refer <a href="#d3">#D3</a></td>
</tr>
<tr>
<td style="background-color: #ffffcc; vertical-align: top;">H6. cUpdateOrWriteToWorkFile</td>
<td style="background-color: #ffffcc; vertical-align: top;">lpDS-&gt;cUpdateOrWriteWorkFile</td>
<td style="background-color: #ffffcc; vertical-align: top;">&nbsp;</td>
<td style="background-color: #ffffcc; vertical-align: top;">Refer <a href="#d4">#D4</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H7. cCurrencyProcessingFlag</td>
<td style="vertical-align: top;">lpDS-&gt;cCurrencyProcessingFlag</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d13">#D13</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H8. szPurchaseOrderPrOptVersion</td>
<td style="vertical-align: top;">lpDS-&gt;szPurchaseOrderPrOptVersion</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d15">#D15</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H9. szOrderCOmpany</td>
<td style="vertical-align: top;">lpDS-&gt;szOrderCompany</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d17">#D17</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H10. mnOrderNumber</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnOrderNumber</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d18">#D18</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H11. szOrderType</td>
<td style="vertical-align: top;">lpDS-&gt;szOrderType</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d14">#D14</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H12. szOrderSuffix</td>
<td style="vertical-align: top;">lpDS-&gt;szOrderSuffix</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d23">#D23</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H13. szBranchPlant</td>
<td style="vertical-align: top;">lpDS-&gt;szBranchPlant</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d24">#D24</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H14. mnSupplierNumber</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnSupplierNumber</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d29">#D29</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H15. mnShipToNumber</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnShipToNumber</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d31">#D31</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H16. mnCarrierNumber</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnCarrierNumber</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d55">#D55</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H17. jdRequestedDate</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;jdRequestedDate</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d32">#D32</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H18. jdOrderDate</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;jdTransactionDate</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d33">#D33</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H19. jdPromisedDate</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;jdPromisedDate</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d34">#D34</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H20. jdCancelDate</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;jdCancelDate</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d35">#D35</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H21. szLandedCostRule</td>
<td style="vertical-align: top;">lpDS-&gt;szLandedCostRule</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d46">#D46</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H22. cCurrencyMode</td>
<td style="vertical-align: top;">lpDS-&gt;cCurrencyMode</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">N/A</td>
</tr>
<tr>
<td style="vertical-align: top;">H23. szTransactionCurrencyCode</td>
<td style="vertical-align: top;">lpDS-&gt;szTransactionCurrencyCode</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">N/A</td>
</tr>
<tr>
<td style="vertical-align: top;">H24. mnCurrencyExchangeRate</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnCurrencyExchangeRate</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">N/A</td>
</tr>
<tr>
<td style="vertical-align: top;">H25. szProgramID</td>
<td style="vertical-align: top;">lpDS-&gt;szProgramID</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d52">#D52</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H26. szPrintMessage</td>
<td style="vertical-align: top;">lpDS-&gt;szPrintMessage</td>
<td style="vertical-align: top;">&lt;Bug 10735782&gt;: PRINT MSG NOT ON DIRECT SHIP - SAR: 4482916 (Print Msg Not on Direct Ship Sys 43)<br /> &lt;Bug 10907606&gt;: SD DETAIL PRINT MESSAGE GOING - SAR: 7883088 (Rolled back the changes made by SAR 4482916 as it was incorrectly passing the detail print message from SD to the header of OD. The SAR 4482916 has to be fixed some where else so that Print message from the SD header is passed to the OD header)</td>
<td style="vertical-align: top;">Refer <a href="#d47">#D47</a> Print Message is copied only for detail<br /> For header it is disabled by SAR 7883088</td>
</tr>
<tr>
<td style="vertical-align: top;">H27. szPriceAdjustmentScheduleN</td>
<td style="vertical-align: top;">lpDS-&gt;szAdjustmentSchedule</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">N/A</td>
</tr>
<tr>
<td style="vertical-align: top;">H28. szUserID</td>
<td style="vertical-align: top;">lpDS-&gt;szUserID</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">Refer <a href="#d53">#D53</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H29. szTaxExplanationCode</td>
<td style="vertical-align: top;">lpDS-&gt;szTaxExplanationCode</td>
<td style="vertical-align: top;">Pass original order information to header</td>
<td style="vertical-align: top;">Refer <a href="#d7">#D7</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H30. szTaxRateArea</td>
<td style="vertical-align: top;">lpDS-&gt;szTaxRateArea</td>
<td style="vertical-align: top;">&lt;Bug 10743192&gt;: SUPPLIER TAX NOT USED IN PO - SAR: 4789272 (Add Tax Rate Area)</td>
<td style="vertical-align: top;">Refer <a href="#d6">#D6</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H31. szOriginalOrderCompany</td>
<td style="vertical-align: top;">lpDS-&gt;szOriginalOrderCompany</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">N/A</td>
</tr>
<tr>
<td style="vertical-align: top;">H32. szOriginalOrderNumber</td>
<td style="vertical-align: top;">lpDS-&gt;szOriginalOrderNumber</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">N/A</td>
</tr>
<tr>
<td style="vertical-align: top;">H33. szOriginalOrderType</td>
<td style="vertical-align: top;">lpDS-&gt;szOriginalOrderType</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">N/A</td>
</tr>
<tr>
<td style="vertical-align: top;">H34. szRMADocType</td>
<td style="vertical-align: top;">lpDS-&gt;szRMADocType</td>
<td style="vertical-align: top;">&lt;Bug 10740506&gt;: OTC: POE - INTEGRATED RETURNS - SAR: 4655493 (Add RMA Doc # and Doc Type into Begin Doc Parms)</td>
<td style="vertical-align: top;">N/A</td>
</tr>
<tr>
<td style="vertical-align: top;">H35. mnRMADocNumber</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnRMADocNumber</td>
<td style="vertical-align: top;">&nbsp;</td>
<td style="vertical-align: top;">N/A</td>
</tr>
<tr>
<td style="vertical-align: top;">H36. szFreightHandlingCode</td>
<td style="vertical-align: top;">lpDS-&gt;szFreightHandlingCode</td>
<td style="vertical-align: top;">&lt;Bug 10924418&gt;: PDFRTH BLANKED AFTER PARTIAL S - SAR: 8082717 (For populating the freight handling code (FRTH) in the F4301 record for the associated OD in which the freight handling code (FRTH) entered in the SD when entering direct ship orders)</td>
<td style="vertical-align: top;">Refer <a href="#d56">#D56</a></td>
</tr>
<tr>
<td style="vertical-align: top;">H37. mnBuyerNumber</td>
<td style="vertical-align: top;">&amp;lpDS-&gt;mnBuyerNumber</td>
<td style="vertical-align: top;">&lt;Bug 12504327&gt;: BUYER # NOT DEFAULTIN ON HEADR - SAR: 6150561 (When generating POs from Purchase Order Generator, default in Buyer Number from Item/BP)<br /> &lt;Bug 10959726&gt;: BUYER NUMBR NOT CARRIED OVER - SAR: 8482614 (Added an OR condition as when the PO is generated from P43360 the BuyerNumber was not copied)</td>
<td style="vertical-align: top;">N/A<br /> Only when szProgramID is "EP43011" OR "EP43360"</td>
</tr>
<tr>
<td style="vertical-align: top;">H38. cSendMethod</td>
<td style="vertical-align: top;">lpDS-&gt;cSendMethod</td>
<td style="vertical-align: top;">&lt;Bug 10972318&gt;: ERROR NOT DISAPPEARING WHEN LI - SAR: 8629962 (Pass send method to begin doc.)</td>
<td style="vertical-align: top;">N/A</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<div class="kmnotebox">Note:<br />
<ul>
<li>Not all parameters listed above will be copied. If Considerations is written 'N/A' that is populated Purchase side transaction (not through Purchase Order Generation from Sales Order)</li>
<li>When F4311BeginDoc is not called in the application (that is other than P4310 - Purchase Order Entry) this routine has to be called F4311EditLine</li>
<li>Unlike creation purchase order detail cache all the values are to be populated based on lpDS which is data structure for F4311EditLine</li>
</ul>
</div>
<p>&nbsp;</p>
<hr />
<p>Refer to <strong>&lt;Document 1390905.1&gt; E1: 42: How to maintain Order Integrity between SD/OD and ST/OT</strong> to understand integrity checking routine between Sales and Purchase when both are tightly related.</p>
<p>This note is created based on EnterpriseOne application release 9.0. This note can be updated to accommodate any enhancement we put in place in the future.</p>
<p>&nbsp;</p>


<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
