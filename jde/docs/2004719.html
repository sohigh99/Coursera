<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>How To Split Sales Order Line through AdvancedSODetailLineSplit (B4200450, Advanced SO Detail Line Split)</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>
        
      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>How To Split Sales Order Line through AdvancedSODetailLineSplit (B4200450, Advanced SO Detail Line Split)</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<h2 class="km"><big><big><a name="section01"></a><span style="font-size: medium;"><BIG>Purpose of Document</BIG></span></big></big></h2>


<p><span style="font-size: 10pt;">The purpose of this document is to explore the possible way to split sales order through add-on batch routine.</span></p>
<p><span style="font-size: 10pt;">Possibly there is 3rd Party Logistics company who performs distribution of goods on behalf of client based on sales order given by client. The business process:-</span></p>
<ol>
<li><span style="font-size: 10pt;"><strong>Outbound</strong>: Sales Order from EnterpriseOne to 3rd party system (through system integration)</span></li>
<li><span style="font-size: 10pt;"><strong>Inbound</strong>: Then after 3rd party picks the order we need an inbound integration which can update the sales order with lot, location information which can be multiple lots against one F4211 (Sales Order Detail) line.</span></li>
<li><span style="font-size: 10pt;">Inventory Commitment in EnterpriseOne: So that subsequent inbound shipment confirmation integration can do shipment confirmation line by line because we know that R42500 (Ship Confirm Batch Application) and R47500 (Inbound Transaction Processor) doesn't support line splitting likewise P42053 (Select Multiple Locations) in P4205 (Shipment Confirmation).</span></li>
</ol>

<!-- ======================================== Body Starts Here =================================== -->
<h3 class="km"><big><big>Business requirement</big></big></h3>
<p><span style="font-size: 10pt;">: Currently there are order quantity 11 which is to be labeled 3 lots quantity with 2, 3 and 4, which in return written into exiting sales order line.</span></p>
<p><span style="text-decoration: underline;"><span style="font-size: 10pt;">&nbsp;As - Is data from 3rd party</span></span></p>
<table style="border-collapse: collapse; width: 595px;" border="2" cellspacing="2" cellpadding="1"><colgroup><col style="width: 48pt;" width="64" /><col style="width: 74pt;" width="98" /><col style="width: 31pt;" width="41" /><col style="width: 67pt;" width="89" /><col style="width: 71pt;" width="95" /><col style="width: 69pt;" width="92" /><col style="width: 50pt;" width="66" /><col style="width: 94pt;" width="125" /><col style="width: 91pt;" width="121" /></colgroup>
<tbody>
<tr style="height: 15pt;"><th class="xl64" style="height: 15pt; width: 48pt; background-color: #3366ff; color: white;">Order Co</th><th class="xl64" style="width: 74pt; background-color: #3366ff; color: white;">Order Number</th><th class="xl64" style="width: 31pt; background-color: #3366ff; color: white;">Or Ty</th><th class="xl64" style="width: 67pt; background-color: #3366ff; color: white;">Line Number</th><th class="xl64" style="width: 71pt; background-color: #3366ff; color: white;">Short Item No</th><th class="xl64" style="width: 69pt; background-color: #3366ff; color: white;">Business Unit</th><th class="xl64" style="width: 50pt; background-color: #3366ff; color: white;">Location&nbsp;</th><th class="xl64" style="width: 94pt; background-color: #3366ff; color: white;">Lot Serial Number</th><th class="xl64" style="width: 91pt; background-color: #3366ff; color: white;">Quantity On Hand</th></tr>
<tr style="height: 15pt;">
<td class="xl63" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl63">SO</td>
<td>1.000</td>
<td align="right">12345</td>
<td class="xl63">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; M30</td>
<td class="xl63">LOC</td>
<td class="xl63">LOT-A <span style="font-style: italic; color: red;">(a)</span></td>
<td align="right">2</td>
</tr>
<tr style="height: 15pt;">
<td class="xl63" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl63">SO</td>
<td>1.000</td>
<td align="right">12345</td>
<td class="xl63">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; M30</td>
<td class="xl63">LOC</td>
<td class="xl63">LOT-B <span style="color: red; font-style: italic;">(b)</span></td>
<td align="right">3</td>
</tr>
<tr style="height: 15pt;">
<td class="xl63" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl63">SO</td>
<td>1.000</td>
<td align="right">12345</td>
<td class="xl63">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; M30</td>
<td class="xl63">LOC</td>
<td class="xl63">LOT-C <span style="color: red; font-style: italic;">(c)</span></td>
<td align="right">4</td>
</tr>
</tbody>
</table>
<p>&nbsp;<br /> <span style="text-decoration: underline;"><span style="font-size: 10pt;">As - Is data from&nbsp;F4211 in EnterpriseOne</span></span></p>
<table style="border-collapse: collapse; width: 612px;" border="2" cellspacing="2" cellpadding="1"><colgroup><col style="width: 48pt;" width="64" /><col style="width: 74pt;" width="98" /><col style="width: 31pt;" width="41" /><col style="width: 67pt;" width="89" /><col style="width: 71pt;" width="95" /><col style="width: 50pt;" width="66" /><col style="width: 94pt;" width="125" /><col style="width: 88pt;" width="117" /><col style="width: 89pt;" width="118" /></colgroup>
<tbody>
<tr style="height: 15pt;">
<td class="xl64" style="height: 15pt; width: 48pt; background-color: #3366ff; color: white;" width="64" height="20">Order Co</td>
<td class="xl64" style="width: 74pt; background-color: #3366ff; color: white;" width="98">Order Number</td>
<td class="xl64" style="width: 31pt; background-color: #3366ff; color: white;" width="41">Or Ty</td>
<td class="xl64" style="width: 67pt; background-color: #3366ff; color: white;" width="89">Line Number</td>
<td class="xl64" style="width: 71pt; background-color: #3366ff; color: white;" width="95">Short Item No</td>
<td class="xl64" style="width: 50pt; background-color: #3366ff; color: white;" width="66">Location&nbsp;</td>
<td class="xl64" style="width: 94pt; background-color: #3366ff; color: white;" width="125">Lot Serial Number</td>
<td class="xl64" style="width: 88pt; background-color: #3366ff; color: white;" width="117">Quantity Ordered</td>
<td class="xl64" style="width: 89pt; background-color: #3366ff; color: white;" width="118">Quantity Shipped</td>
</tr>
<tr style="height: 15pt;">
<td class="xl63" style="height: 15pt;" height="20">00200</td>
<td style="text-align: right;">3399</td>
<td class="xl63">SO</td>
<td align="right">1.000</td>
<td align="right">12345</td>
<td class="xl63">&nbsp;</td>
<td class="xl63">&nbsp;</td>
<td align="right">11</td>
<td align="right">11</td>
</tr>
</tbody>
</table>
<p>&nbsp;<br /> <span style="text-decoration: underline;"><span style="font-size: 10pt;">To-Be Data from F4211 in EnterpriseOne</span></span></p>
<table style="border-collapse: collapse; width: 612px;" border="2" cellspacing="2" cellpadding="1"><colgroup><col style="width: 48pt;" width="64" /><col style="width: 74pt;" width="98" /><col style="width: 31pt;" width="41" /><col style="width: 67pt;" width="89" /><col style="width: 71pt;" width="95" /><col style="width: 50pt;" width="66" /><col style="width: 94pt;" width="125" /><col style="width: 88pt;" width="117" /><col style="width: 89pt;" width="118" /></colgroup>
<tbody>
<tr style="height: 15pt;">
<td class="xl66" style="height: 15pt; width: 48pt; background-color: #3366ff; color: white;">Order Co</td>
<td class="xl66" style="width: 74pt; background-color: #3366ff; color: white;" width="98">Order Number</td>
<td class="xl66" style="width: 31pt; background-color: #3366ff; color: white;" width="41">Or Ty</td>
<td class="xl66" style="width: 67pt; background-color: #3366ff; color: white;" width="89">Line Number</td>
<td class="xl66" style="width: 71pt; background-color: #3366ff; color: white;" width="95">Short Item No</td>
<td class="xl66" style="width: 50pt; background-color: #3366ff; color: white;" width="66">Location&nbsp;</td>
<td class="xl66" style="width: 94pt; background-color: #3366ff; color: white;" width="125">Lot Serial Number</td>
<td class="xl66" style="width: 88pt; background-color: #3366ff; color: white;" width="117">Quantity Ordered</td>
<td class="xl66" style="width: 89pt; background-color: #3366ff; color: white;" width="118">Quantity Shipped</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.000</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;</td>
<td class="xl65">&nbsp;</td>
<td align="right">2</td>
<td align="right">2</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.001</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;LOC</td>
<td class="xl65">LOT-A</td>
<td align="right">2</td>
<td align="right">2</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.002</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;LOC</td>
<td class="xl65">LOT-B</td>
<td align="right">3</td>
<td align="right">3</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.003</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;LOC</td>
<td class="xl65">LOT-C</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<h3 class="km"><big><big>Functional Design:<br /> </big></big></h3>
<p><span style="font-size: 10pt;">Split the existing Sales Order line</span></p>
<p><span style="font-size: 10pt;">1st split:&nbsp;</span></p>
<table style="border-collapse: collapse; width: 612px;" border="2" cellspacing="2" cellpadding="1"><colgroup><col style="width: 48pt;" width="64" /><col style="width: 74pt;" width="98" /><col style="width: 31pt;" width="41" /><col style="width: 67pt;" width="89" /><col style="width: 71pt;" width="95" /><col style="width: 50pt;" width="66" /><col style="width: 94pt;" width="125" /><col style="width: 88pt;" width="117" /><col style="width: 89pt;" width="118" /></colgroup>
<tbody>
<tr style="height: 15pt;">
<td class="xl66" style="height: 15pt; width: 48pt; color: white; background-color: #009900;">Order Co</td>
<td class="xl66" style="width: 74pt; color: white; background-color: #009900;" width="98">Order Number</td>
<td class="xl66" style="width: 31pt; color: white; background-color: #009900;" width="41">Or Ty</td>
<td class="xl66" style="width: 67pt; color: white; background-color: #009900;" width="89">Line Number</td>
<td class="xl66" style="width: 71pt; color: white; background-color: #009900;" width="95">Short Item No</td>
<td class="xl66" style="width: 50pt; color: white; background-color: #009900;" width="66">Location&nbsp;</td>
<td class="xl66" style="width: 94pt; color: white; background-color: #009900;" width="125">Lot Serial Number</td>
<td class="xl66" style="width: 88pt; color: white; background-color: #009900;" width="117">Quantity Ordered</td>
<td class="xl66" style="width: 89pt; color: white; background-color: #009900;" width="118">Quantity Shipped</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.000</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;</td>
<td class="xl65">&nbsp;</td>
<td align="right">9<small> <span style="font-style: italic; color: #3333ff;"><small>(UORG1</small>)</span></small></td>
<td align="right">9</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.001</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;LOC</td>
<td class="xl65">LOT-A <span style="color: red; font-style: italic;">(a)</span></td>
<td align="right">2</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p><span style="font-size: 10pt;">UORG1 = 11 - (a = Quantity of LOT-A) = 9</span></p>
<p><span style="font-size: 10pt;"><span style="text-decoration: underline;">2nd split:</span>&nbsp;</span></p>
<table style="border-collapse: collapse; width: 612px;" border="2" cellspacing="2" cellpadding="1"><colgroup><col style="width: 48pt;" width="64" /><col style="width: 74pt;" width="98" /><col style="width: 31pt;" width="41" /><col style="width: 67pt;" width="89" /><col style="width: 71pt;" width="95" /><col style="width: 50pt;" width="66" /><col style="width: 94pt;" width="125" /><col style="width: 88pt;" width="117" /><col style="width: 89pt;" width="118" /></colgroup>
<tbody>
<tr style="height: 15pt;">
<td class="xl66" style="height: 15pt; width: 48pt; color: white; background-color: #009900;">Order Co</td>
<td class="xl66" style="width: 74pt; color: white; background-color: #009900;" width="98">Order Number</td>
<td class="xl66" style="width: 31pt; color: white; background-color: #009900;" width="41">Or Ty</td>
<td class="xl66" style="width: 67pt; color: white; background-color: #009900;" width="89">Line Number</td>
<td class="xl66" style="width: 71pt; color: white; background-color: #009900;" width="95">Short Item No</td>
<td class="xl66" style="width: 50pt; color: white; background-color: #009900;" width="66">Location&nbsp;</td>
<td class="xl66" style="width: 94pt; color: white; background-color: #009900;" width="125">Lot Serial Number</td>
<td class="xl66" style="width: 88pt; color: white; background-color: #009900;" width="117">Quantity Ordered</td>
<td class="xl66" style="width: 89pt; color: white; background-color: #009900;" width="118">Quantity Shipped</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.000</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;</td>
<td class="xl65">&nbsp;</td>
<td align="right">6 <small><small><span style="color: #3333ff; font-style: italic;">(UORG2)</span></small></small></td>
<td align="right">6</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.001</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;LOC</td>
<td class="xl65">LOT-A</td>
<td align="right">2</td>
<td align="right">2</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.002</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;LOC</td>
<td class="xl65">LOT-B</td>
<td align="right">3</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p><span style="font-size: 10pt;">UORG2 = 9 - (b = quantity of LOT-B) = 6</span></p>
<p><span style="text-decoration: underline;"><span style="font-size: 10pt;">3rd split:&nbsp;</span></span></p>
<table style="border-collapse: collapse; width: 612px;" border="2" cellspacing="2" cellpadding="1"><colgroup><col style="width: 48pt;" width="64" /><col style="width: 74pt;" width="98" /><col style="width: 31pt;" width="41" /><col style="width: 67pt;" width="89" /><col style="width: 71pt;" width="95" /><col style="width: 50pt;" width="66" /><col style="width: 94pt;" width="125" /><col style="width: 88pt;" width="117" /><col style="width: 89pt;" width="118" /></colgroup>
<tbody>
<tr style="height: 15pt;">
<td class="xl66" style="height: 15pt; width: 48pt; color: white; background-color: #009900;">Order Co</td>
<td class="xl66" style="width: 74pt; color: white; background-color: #009900;" width="98">Order Number</td>
<td class="xl66" style="width: 31pt; color: white; background-color: #009900;" width="41">Or Ty</td>
<td class="xl66" style="width: 67pt; color: white; background-color: #009900;" width="89">Line Number</td>
<td class="xl66" style="width: 71pt; color: white; background-color: #009900;" width="95">Short Item No</td>
<td class="xl66" style="width: 50pt; color: white; background-color: #009900;" width="66">Location&nbsp;</td>
<td class="xl66" style="width: 94pt; color: white; background-color: #009900;" width="125">Lot Serial Number</td>
<td class="xl66" style="width: 88pt; color: white; background-color: #009900;" width="117">Quantity Ordered</td>
<td class="xl66" style="width: 89pt; color: white; background-color: #009900;" width="118">Quantity Shipped</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.000</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;</td>
<td class="xl65">&nbsp;</td>
<td align="right">2 <small style="font-style: italic;"><small><span style="color: #3333ff;">(UORG3)</span></small></small></td>
<td align="right">2</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.001</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;LOC</td>
<td class="xl65">LOT-A</td>
<td align="right">2</td>
<td align="right">2</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.002</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;LOC</td>
<td class="xl65">LOT-B</td>
<td align="right">3</td>
<td align="right">3</td>
</tr>
<tr style="height: 15pt;">
<td class="xl65" style="height: 15pt;" height="20">00200</td>
<td align="right">9999</td>
<td class="xl65">SO</td>
<td align="right">1.003</td>
<td align="right">12345</td>
<td class="xl65">&nbsp;LOC</td>
<td class="xl65">LOT-C</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
<p><span style="font-size: 10pt;">&nbsp;UORG3 = 6 - 4 &nbsp;( c &nbsp;= Quantity of LOT-C)</span></p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<h3 class="km"><big><big>Pre-requisite:</big></big></h3>
<ul>
<li><span style="font-size: 10pt;">Table/repository to hold order information along with itm, mcu, locn and lotn which can be used for your add-on UBE and status can be updated accordingly</span></li>
<li><span style="font-size: 10pt;">On hand quantity (or availability) from F41021 has to be populated to commit it</span></li>
<li><span style="font-size: 10pt;">Then your report can run based on this table (after splitting update a certain flag)</span></li>
<li><span style="font-size: 10pt;">Inventory commitment can be implemented in same report or call other inventory commitment report or ship confirm</span></li>
<li><span style="font-size: 10pt;">Set Order activity rule with additional steps involved</span></li>
</ul>
<hr />
<p>&nbsp;</p>
<h3 class="km"><big><big>Possible implementation:</big></big></h3>
<p><span style="font-size: 10pt;">Simplified routine:</span></p>
<ol>
<li><span style="font-size: 10pt;">Set record reservation whenever order number changes</span></li>
<li><span style="font-size: 10pt;">Get Sales Order information B4200210 (F4211 Get Sales Detail Row) which returns pointer for detail line</span></li>
<li><span style="font-size: 10pt;">(Optional) get audit information to populate information was created by your own routine (not standard)</span></li>
<li><span style="font-size: 10pt;">Call B4200450 (Advanced SO Detail Line Split) and set cBypassUpdateOnOriginalLine = 1 (otherwise the original line will be committed which may give you trouble for subsequent split)</span></li>
<li><span style="font-size: 10pt;">Update original line for columns lttr, nxtr, uorg, soqs, aexp, ecst, pqor, sqor,itwt, itvl and so on</span></li>
<li><span style="font-size: 10pt;">Release data pointer from step 2 through B4000460 (Memory, Free Ptr To Data Structure)</span></li>
<li><span style="font-size: 10pt;">Remove Record Reservation when it finishes a single order</span></li>
</ol>
<h4 class="km"><big>&nbsp;Example of event rule:</big></h4>
<div class="kmcodeblock">&nbsp;//<br /> &nbsp;// 1. Set Record Reservation (when order number changed - for F42111 DOCO+DCTO+KCOO)<br /> &nbsp;//<br /> &nbsp;// 2. Get Sales Order Information (to get idPtrToF4211Record)<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="text-decoration: underline; font-weight: bold;">F4211 Get Sales Detail Row (Business function: <span style="color: red;">B4200210 - VerifyandGetSalesDetail</span>)</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable..DOCO -&gt; BF mnOrderNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.DCTO -&gt; BF szOrderType<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.KCOO -&gt; BF szKeyCompany<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.LNID -&gt; BF mnLineNumber<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; VA rpt_Error_DL01 &lt;- BF szErrorMesg<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &lt;Zero&gt; -&gt; BF cSuppressErrorMesg<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; "1" -&gt; BF cReturnPtr &nbsp;<span style="font-style: italic;">/* Set this parameter 1 to get data pointer idPtrToF4211Record */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: #3333ff; font-weight: bold;">VA rpt_GenericLong_GENLNG</span> &lt;- BF idPtrToF4211Record<br /> &nbsp;//<br /> &nbsp;// 3. Continue when above function B4200210 returns pointer (or no error) <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If VA rpt_Error_DL01 is equal to &lt;Null&gt; Or VA rpt_Error_DL01 is equal to &lt;Blank&gt;<br /> &nbsp;//<br /> &nbsp;// 4. Get Audit Information (because you are updating standard table F4211 make it sure add-on routine is written correctly)<br /> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; <span style="text-decoration: underline;">Get Audit Information (Business function: <span style="color: red;">B9800100 - GetAuditInfo</span>)</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_UserId_user &lt;- BF szUserName<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_DateUpdated_upmj &lt;- BF jdDate<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; VA rpt_TimeLastUpdated_upmt &lt;- BF mnTime<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_WorkStationId_jobn &lt;- BF szWorkstation_UserId<br /> &nbsp;//<br /> &nbsp;// 5. Call standard businsess function to split as below<br /> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="text-decoration: underline; font-weight: bold;">Advanced SO Detail Line Split (Business Function: <span style="color: red;">B4200450 - AdvancedSODetailLineSplit</span> )</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #3333ff; font-weight: bold;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;VA rpt_GenericLong_GENLNG</span> -&gt; BF idF4211LongPointer &nbsp;<span style="font-style: italic; color: #3366ff;"> /* Pointer retrieved by B4200210 is used */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; "1" -&gt; BF cBypassUpdateOnOriginalLine <span style="font-style: italic;">&nbsp;<span style="color: #3366ff;">/* set 1 to maintain the original line without having Lot information so you have to update the original line manually */</span></span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ".001" -&gt; BF mnLineIncrementer &nbsp; &nbsp;<span style="font-style: italic; color: #3366ff;">/* Either you get this value from processing option of P4210 for the version &nbsp;you are working on or hard code it */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.LNID -&gt; BF mnIncremenFromLineNumber <span style="font-style: italic; color: #3366ff;">/* Original line number like 1.000, 2.000 and so on */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; "521" -&gt; BF szOverrideLastShipStatus&nbsp;&nbsp;&nbsp; <span style="font-style: italic; color: #3366ff;">/* Optional - to indicate SO detail is changed through add-on routine */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; "H" -&gt; BF cHardCommitFlag &nbsp;&nbsp;&nbsp;<span style="font-style: italic;"> <span style="color: #3366ff;">/* this determines how to set F4211.COMM column for splitted line */</span></span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; "Y" -&gt; BF cInventoryInterface &nbsp; <span style="color: #3366ff;">&nbsp;</span><span style="font-style: italic; color: #3366ff;">/* Either you get it from Item Branch or hard code it. For this example, stock item */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; "1" -&gt; BF cWriteSalesLedger &nbsp; <span style="font-style: italic; color: #3366ff;">&nbsp;/* To write F42199 (Sales Order Ledger */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.PQOH) -&gt; BF mnSplitLineOrderQty&nbsp;&nbsp;&nbsp;<span style="font-style: italic;"> <span style="color: #3366ff;">/* &nbsp;Quantity to be written (F4211.UORG, SOQS) for splitted line(s) */</span></span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; "1" -&gt; BF cSplitToDifferentItemLocation&nbsp;&nbsp;&nbsp; <span style="font-style: italic; color: #3366ff;">/* To split the original lines into different lot(s) */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.MCU -&gt; BF szNewBranchPlant &nbsp; <span style="font-style: italic; color: #3366ff;">/* same with the original sales order line, through this function you can allocate different detail b/p if required */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.LOCN -&gt; BF szNewLocation&nbsp;&nbsp;&nbsp;<span style="font-style: italic; color: #3366ff;"> /* To be location from 3rd party */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; BC NewTable.LOTN -&gt; BF szNewLotNumber &nbsp;&nbsp;&nbsp;&nbsp; <span style="font-style: italic; color: #3366ff;">/* To be Lot from external system */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_cError &lt;- BF cErrorCode&nbsp;&nbsp;&nbsp; <span style="font-style: italic; color: #3366ff;">/* Optional -to check whether it ends in error - debugging purpose. return 1 in error */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; "R59SS001" -&gt; BF szProgramID&nbsp;&nbsp;&nbsp;<span style="color: #3366ff;"> </span><span style="font-style: italic; color: #3366ff;">/* Indicate add-on program ID which is to be update into F4211.PID (and F42199.PID) */</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_DateUpdated_upmj -&gt; BF jdTodaysDate<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_TimeLastUpdated_upmt -&gt; BF mnTimeOfDay<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_UserId_user -&gt; BF szUserID<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; VA rpt_WorkStationId_jobn -&gt; BF szWorkStationID<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; "542" -&gt; BF szSplitLineNextStatus&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span style="font-style: italic;"> <span style="color: #3366ff;">/* To set next status for splitted lines with lots which is waiting for shipment confirmation for instance */</span></span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; SL DateToday -&gt; BF jdSplitLineActualShipDate<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; "ZJDE0001" -&gt; BF szVersion&nbsp;&nbsp;&nbsp;<span style="font-style: italic;"> <span style="color: #3366ff;">/* The version of P4210 */</span></span><br /> &nbsp;//<br /> &nbsp;// 6. Update F4211 the original line because we are by pass to update the original line <br /> // (Columns: lttr, nxtr, uorg, soqs, aexp, ecst, pqor, sqor, itwt, itvl) make different value for a certain column (e.g, URCD) not to handle split lines again<br /> &nbsp;//<br /> &nbsp;// 7. If B4200450 splits line without error then update the original line (whenever it handles each row)<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If VA rpt_cError is not equal to "1"<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; F4211.Fetch Single<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.KCOO =&nbsp; TK Order Company (Order Number)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.DOCO =&nbsp; TK Document (Order No, Invoice, etc.)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.DCTO =&nbsp; TK Order Type<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.NID =&nbsp; TK Line Number<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_NewUORG &lt;- TK Units - Order/Transaction Quantity<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_NewSOQS &lt;- TK Quantity Shipped<br /> &nbsp;// Decrease quantity (ommitted to check SV File I/O SUCCESS because we are very sure data do exist)<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_NewUORG = [VA rpt_NewUORG]-BC NewTable.PQOH<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_NewSOQS = [VA rpt_NewSOQS]-BC NewTable.PQOH &nbsp;&nbsp;&nbsp;<span style="font-style: italic; color: #3366ff;"> /* In case dual UOM same has to be handled for secondary quantities */</span><br /> <br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; F4211.Update<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.KCOO =&nbsp; TK Order Company (Order Number)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.DOCO =&nbsp; TK Document (Order No, Invoice, etc.)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.DCTO =&nbsp; TK Order Type<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; BC NewTable.LNID =&nbsp; TK Line Number<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_NewUORG -&gt; TK Units - Order/Transaction Quantity<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; VA rpt_NewSOQS -&gt; TK Quantity Shipped<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; End If<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; End If<br /> &nbsp;//<br /> &nbsp;// &nbsp;&nbsp;&nbsp; B4200380 or B4200370 &nbsp;(Optionally you can implement inventory commitment if need or call R42500)<br /> <br /> &nbsp;//<br /> &nbsp;// 8. Release data Pointer which is stored through B4200210<br /> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="text-decoration: underline;">Memory, Free Ptr To Data Structure (Business Function: <span style="color: red;">B4000460 - FreePtrToDataStructure</span>)</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; <span style="color: #3333ff; font-weight: bold;">VA rpt_GenericLong_GENLNG</span> &lt;&gt; BF idGenericLong<br /> &nbsp;&nbsp;&nbsp; //<br /> &nbsp;// 9. Remove record reservation (when order number changed)</div>
<p>&nbsp;</p>
<hr />
<h3 class="km"><big><big>B4200450 - AdvancedSODetailLineSplit (Advanced SO Detail Line Split) Detail </big></big></h3>
<ul>
<li><span style="font-size: 10pt;"><span style="font-weight: bold;">Purpose</span>: Use this function to split the ship quantity from the backorder/cancel quantities in a sales order detail line (F4211).&nbsp; After the split, the original line will contain the backorder/cancel quantities while a new line is created for the ship quantity.&nbsp; The new line will essentially be a mirror image of the original line with some slight differences (e.g.., status codes).&nbsp; You can optionally supply a split line quantity which will allow this function to write the new line with this quantity and leave any remaining quantities in the original line.</span></li>
<li><span style="font-size: 10pt;">Setup and Pre-requisites:</span></li>
<ul>
<li><span style="font-size: 10pt;">In order to call this function, you must pass to it a row pointer that points to the Sales Order Detail record.&nbsp; Use a business function to fetch and create this pointer.</span></li>
<li><span style="font-size: 10pt;">If you are splitting the new line to a different item location, your calling application or function must ensure that the inventory committed to the original location as well as the new location are properly adjusted.</span></li>
<li><span style="font-size: 10pt;">If splitting line to a different item location, the branch, location, and lot passed will be used to write the new detail line.&nbsp; However, this function will not validate the value in these passed parameters.&nbsp; Therefore, the calling application or function is responsible for editing the branch, location, and lot fields before passing them into the function.</span></li>
</ul>
<li><span style="font-size: 10pt;"><strong>Data Structure</strong>:&nbsp;D4200450 : Advanced Sales Order Detail Line Split</span></li>
<ul>
<li><span style="font-size: 10pt;"><strong>Parameters</strong>:</span></li>
</ul>
</ul>
<table style="border-collapse: collapse; width: 829px; height: 3399px;" border="2" cellspacing="2" cellpadding="2"><colgroup><col style="width: 167pt;" width="223" /><col style="width: 85pt;" width="113" /><col style="width: 48pt;" span="3" width="64" /><col style="width: 239pt;" width="318" /></colgroup>
<tbody>
<tr style="height: 15.75pt;"><th class="xl63" style="width: 158px; height: 15.75pt; background-color: #009900; color: white;">Structure Member Name</th><th class="xl63" style="background-color: #009900; color: white; width: 16px;">Type</th><th class="xl63" style="background-color: #009900; color: white; width: 34px;">Alia</th><th class="xl63" style="background-color: #009900; color: white; width: 69px;">Req</th><th class="xl63" style="width: 28px; background-color: #009900; color: white;">I/O</th><th class="xl63" style="width: 466px; background-color: #009900; color: white;">Others</th></tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">idF4211LongPointer</td>
<td style="width: 16px;">ID</td>
<td style="width: 34px;">GENLNG</td>
<td style="width: 69px;">&nbsp;Req</td>
<td style="width: 28px;">&nbsp;IN</td>
<td style="width: 466px;">To store data pointer for the original sales order detail information. Sales Order Detail pointer can be returned by calling business function GetF4211DetailInformation (B4200210, F4211 Get Item and Pricing Information).</td>
</tr>
<tr style="height: 15pt;">
<td class="xl64" style="width: 158px; height: 15pt;" height="20">cPreferenceProcessing</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">EV01</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">&nbsp;IN</td>
<td style="width: 466px;">This parameter determines the calling routine to handle sales order detail<br />
<ul>
<li>3&nbsp; - Work Order Text Lines</li>
<li>4&nbsp; - Commitments. This allows KTLN to be populated for the new line.</li>
<li>5&nbsp; - Warehouse - added this mode to split agreement lines in the calls from warehousing. Must be run with bypass update turned on. added this mode to handle parent mult-location agreement updates</li>
<li>6&nbsp; - Ship Confirm&nbsp;&nbsp; (call in this mode for first child line of a multi. location split to update parent agreement line once, then call in mode 7 for all subsequent child lines.</li>
<li>7&nbsp;&nbsp; - Ship Confirm</li>
<li>8&nbsp;&nbsp; - Direct Shipment. added this mode for transportation so processing the commit flag will remain the same in the F4211 and not be updated when ship confirm updates the flag.</li>
<li>9&nbsp; - Transportation</li>
<li>A - Kit Balancing with partial backorder (SAR 7263891 which was decided not to support any more)</li>
<li>B - Kit Balancing with partial Backorder from P42117</li>
<li>C - added this mode to implement release from fulfillment split functionality. R4277703 UBE will call splitter with mode C to split the partially fulfilled sales order line.</li>
<li>Do not specify this parameter in case you want to Bypass Update on Original Line</li>
</ul>
</td>
</tr>
<tr style="height: 15pt;">
<td class="xl64" style="width: 158px; height: 15pt;" height="20">cBypassUpdateOnOriginalLine</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">EV02</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">&nbsp;IN</td>
<td style="width: 466px;">
<ul>
<li>Blank - not to bypass (Standard routine)</li>
<li>1 - Set on the Bypass Update on Original Line (EV02=='1') if the original line needs to be split into multiple new lines and you would like to minimize the number of updates to the original line.&nbsp; In the calling application or function, set this field to '1' and place the calls to this function in a loop.&nbsp; Change this flag to '0' before calling this function to create the last split line.</li>
</ul>
</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cUpdateUnitCost</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">EV03</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">&nbsp;IN</td>
<td style="width: 466px;">&nbsp;when <br /> F4211.CSTO is not '1' (No cost override) <br /> and cUpdateUnitCost is '1' then it gets cost from F4105 for split lines<br /> and cPreferenceProcessing is NOT 8 (direct ship)<br /> and Not Kit item<br /> then get cost to override based on F4105.</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cCostLevel</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">CLEV</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">*IMCLEV<br /> In case you want to override cost level (F4101.clev) specify cost level here.<br /> Exclude F4211.csto = '1' (overridden cost)</td>
</tr>
<tr style="height: 15pt;">
<td class="xl64" style="width: 158px; height: 15pt;" height="20">mnLineIncrementer</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">RLLN</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN</td>
<td style="width: 466px;">
<ul>
<li>Defaults/Kit 0.100</li>
<li>Component 0.010</li>
<li>Others 0.001 (e.g., Multiple Location)</li>
</ul>
1. Value specified in calling <br /> 2. (F4211.rlit = Blank) then 0.001<br /> 2'. (F4211.rlit &lt;&gt; Blank) then 0.01</td>
</tr>
<tr style="height: 15pt;">
<td class="xl64" style="width: 158px; height: 15pt;" height="20">mnIncremenFromLineNumber</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">LNID</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">
<ul>
<li>If processing a kit component line, pass into this field the kit master's line number.</li>
<li>Pass into this field the line number from which the new line number will be incremented.</li>
<li>The new line number calculated by this function will be returned.</li>
</ul>
</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szOverrideLastShipStatus[4]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">LTTR</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Available status code:<br />
<ul>
<li>F4211.LTTR</li>
<li>910 - Added in Price Adjustment (not for split)</li>
<li>912 - Added in Commitments</li>
<li>913 - Added in Pick Confirm (warehouse)</li>
<li>914 - Added in Ship Confirm or transportation</li>
<li>Or any status which is defined in Order Activity Rule</li>
</ul>
</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szOverrideLastBackorder<br /> Status[4]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">LTT2</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Available Status Code:<br />
<ul>
<li>F4211.LTTR</li>
<li>900 - Backorder in S/O Entry or Multiple routine can set this</li>
<li>902 - Backorder in Commitment</li>
<li>903 - Backorder in Warehouse</li>
<li>904 - Backorder in Ship Confirm or Transportation</li>
</ul>
</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">zOverrideLastCancelStatus[4]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">NXT2</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Available status code:<br />
<ul>
<li>F4211.LTTR</li>
<li>980 - Canceled in Order Entry (not for split)</li>
<li>981 - Canceled in Fulfillment (not for split)</li>
<li>982 - Canceled in Commitments</li>
<li>983 - Canceled in Pick Confirm (warehouse)</li>
<li>984 - Canceled in Ship Confirm or transporation</li>
<li>999 - Completed or Cancelled in Direct Ship</li>
</ul>
</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cHardCommitFlag</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">FLD2</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">&nbsp;In case inventory commitment takes place after your split leave this parameter Blank. This routine gets called from Shipment Confirmation (and not Kit) then set 'H'</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cInventoryInterface</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">IVI</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">*LFIVI (F40205.ivi) from line type constant based on F4211.lnty</td>
</tr>
<tr style="height: 15pt;">
<td class="xl64" style="width: 158px; height: 15pt;" height="20">cWriteSalesLedger</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">WRTH</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">cWRTH (set Y to write F42199)</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnSplitLineOrderQty</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">UORG</td>
<td style="width: 69px;">Req</td>
<td style="width: 28px;">&nbsp;IN</td>
<td style="width: 466px;">&nbsp;Target Quantity</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cSplitToDifferentItemLocation</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">EV04</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">&nbsp;Set '1' in case you want to split to different MCU, LOCN and LOTN</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szNewBranchPlant[13]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">MCU</td>
<td style="width: 69px;">Opt&nbsp;</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">&nbsp;Target&nbsp;Detail Branch/Plant</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szNewLocation[21]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">LOCN</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">&nbsp;Target Location</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szNewLotNumber[31]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">LOTN</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">&nbsp;Target Lot</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cErrorCode</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">ERRC</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">OUT&nbsp;</td>
<td style="width: 466px;">&nbsp;0 - No Error<br /> &nbsp;1 - Error</td>
</tr>
<tr style="height: 15pt;">
<td class="xl64" style="width: 158px; height: 15pt;" height="20">szProgramID[11]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">PID</td>
<td style="width: 69px;">&nbsp;Req</td>
<td style="width: 28px;">&nbsp;IN</td>
<td style="width: 466px;">&nbsp;This parameter determines internal routine along with&nbsp;cPreferenceProcessing (Available values are BCW76, EP31114, EP4205, EP4210, EP42117, EP42118, ER42997, N4200860, N4201360, N4900330, PCW29, RCW06, RCW37)</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">&nbsp;jdTodaysDate</td>
<td style="width: 16px;">JDEDATE</td>
<td style="width: 34px;">UPMJ</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Target F4211.upmj (If NULL date then get it from GetAuditInfo)&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnTimeOfDay</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">TDAY</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Target F4211.tday (if zero then get it from GetAuditInfo)&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szUserID[11]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">USER</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Taget F4211.USER (If NULL then get it from GetAuditInfo)&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szWorkStationID[11]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">JOBN</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Target F4211.JOBN (If NULL then get it from GetAuditInfo)&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szSplitLineNextStatus[4]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">NXTR</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Target value F4211.nxtr the outcome can be vary depending on&nbsp;cPreferenceProcessing</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szSplitLineContainerID[21]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">CNID</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">&nbsp;IN</td>
<td style="width: 466px;">Target F4211.cnid</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">&nbsp;jdSplitLineActualShipDate</td>
<td style="width: 16px;">JDEDATE</td>
<td style="width: 34px;">ADDJ</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Target F4211.addj (this date can be used for Price Effect Date (pefj) for price computation for splited line(s).)&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnSplitLineCarrierNumber</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">CARS</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Target F4211.cars&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cSplitLineOHStatus</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">SO02</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">&nbsp;IN</td>
<td style="width: 466px;">Target F4211.so02 (If you set this value as '1', you are not able to perform Confirm Shipment)&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnJobnumberA</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">JOBS</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">This parameter is to communicate with internal functions. Either make use of assigned value or get it from GetInternalNextNumber.&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnAmountExtendedCost</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">ECST</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Target F4211.ecst (Override value. Do not specify when you need to honor the value of Source&nbsp;line)&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnAmountForeignExtCost</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">FEC</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Same with above.&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnAmountExtendedPrice</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">AEXP</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Same override routine&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnAmountForeignExtPrice</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">FEA</td>
<td style="width: 69px;">Opt&nbsp;</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">Save Override value&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szComputerID[16]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">CTID</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">If you dot specify then come from GetLocalComputerId. Since cache is machine dependent leave this value remain blank) &nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnRelatedPoSoLineNo_RLLN</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">RLLN</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">You can override this value if required (in case related order is not changed then do not set any value to make target rlln is same with source)&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cDualUnitOfMeasureItem</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">DUAL</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">&nbsp;Blank - Not a dual UOM item<br /> 1 - Dual UOM item<br /> 2 - Dual UOM Item with Tolerance</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cDualPickingProcessOption</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">DPPO</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">IN&nbsp;</td>
<td style="width: 466px;">To extend price against 2ndary UOM if needed.&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnSplitLineOrderQty<br /> Secondary</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">DQTY</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnTransToSecondConvFactor</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">MATH06</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnAmountUnitCost</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">UNCS</td>
<td style="width: 69px;">&nbsp;Opt</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cShipAscendingDateFlag</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">EV01</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cCheckExpirationDate</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">EDCK</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cCheckSellByDate</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">SBCK</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cCheckBestBeforeDate</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">BBCK</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cCommitmentDateMethod</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">CMDM</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cQuantityFutureCommitted</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">DA03</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnAmountForeignUnitCost</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">FUC</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnActualShipmentTime</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">ADTM</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnFutureUse3Numeric</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">CFS3</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnFutureUse3Numeric_2</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">CFS3</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnFutureUse3Numeric_3</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">CFS3</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnFutureUse3Numeric_4</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">CFS3</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szModeOfTransport[4]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">MOT</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szRouteCode[4]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">ROUT</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cStatusInWarehouseOriginal</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">SWMS</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">&nbsp;jdCancelDateOriginal</td>
<td style="width: 16px;">JDEDATE</td>
<td style="width: 34px;">CNDJ</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szGlCategory[5]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">GLPT</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cPricingBasedOnDate</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">CP01</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cPriceRetrievalUOM</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">UMB1</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cAddressNoForTransportation</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">AUFI</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cUseKitFields</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">CHAR</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnKitIdentifier</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">KITID</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnLineNumberKitMaster</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">KTLN</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnComponentNumber</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">CPNT</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szItemNumberRelatedKit[9]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">RLIT</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cSalesOrderStatus17</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">SO17</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnNumbOfCpntPerParent</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">KTP</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cKitComponentDirtyFlag</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">KITDIRTY</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cPriceOverrideCode</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">PROV</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnKitAmtPricePerUnit</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">UPRC</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnKitFrnPricePerUnit</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">FUP</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cTranspoPlanInterfaceFlag</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 69px;" colspan="2">OTSY49TX</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cTranspoPlanSplitLineFlag</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">OTSPLITF</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cOTMOrphanComponent</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">EV01</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">D4200450 data structure parameter cOTMOrphanComponent is not used and may be used for another purpose.&nbsp; If the parameter is used for another purpose, replace this comment with documentation of how cOTMOrphanComponent is being used.</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnWFLineNo</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">LNIX</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cCancelRuleEnabledYN</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">E01</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cReleaseOrderRuleYN</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">EV01</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cBypassDeterminePieceCount</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">EV01</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">idF4211TXPointer</td>
<td style="width: 16px;">ID</td>
<td style="width: 34px;">GENLNG</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnTaxedExtendedPrice</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">TAEXP</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnForeignTaxedExtendedPrice</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">TFEA</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">szHeaderBranchPlant[13]</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">MCU</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cIsVertexActive</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">VVTX</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">mnVertexJobNo</td>
<td style="width: 16px;">MATH<br /> _NUMERIC</td>
<td style="width: 34px;">JOBS</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cUseTaxedPrices</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">UTP</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
<tr style="height: 15pt;">
<td style="width: 158px; height: 15pt;" height="20">cReceiptShipmentChanged</td>
<td style="width: 16px;">JCHAR</td>
<td style="width: 34px;">EV01</td>
<td style="width: 69px;">&nbsp;</td>
<td style="width: 28px;">&nbsp;</td>
<td style="width: 466px;">&nbsp;</td>
</tr>
</tbody>
</table>
<p><big>Detail Routine:</big></p>
<ul style="font-weight: bold; text-decoration: underline;">
<li><span style="font-size: 10pt;">Insert New Record to Table (F4211)</span></li>
</ul>
<p><span style="font-size: 10pt;">1.&nbsp;&nbsp;&nbsp; Use the GENLNG to retrieve data from the Sales Order Detail data structure (F4211).</span><br /><span style="font-size: 10pt;"> 2.&nbsp;&nbsp;&nbsp; If SDSOQS &lt;= 0, set error code to '1' and exit function. (Exit function if&nbsp; zero or negative ship quantity)</span><br /><span style="font-size: 10pt;"> 3.&nbsp;&nbsp;&nbsp; If IVI-parm == ' ', fetch the Inventory Interface flag (LFIVI) from Line Type Master (F4205) using SDLNTY as the key.&nbsp; Store the LFIVI to IVI in the parameter data structures.&nbsp; If a record is not found, assign 'N' to IVI-parm.</span><br /><span style="font-size: 10pt;"> 4.&nbsp;&nbsp;&nbsp; If UORG-parm != 0 and UORG-parm &lt; SDSOQS</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RemainingQty (WF) = SDSOQS - UORG-parm;</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SDUORG = UORG-parm;</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SDSOQS = UORG-parm;</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SDUORG = SDSOQS;</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RemainingQty (WF) = 0;</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp; : If the split line's order quantity is specified and it is less than the original detail line's ship qty, use it (save the remaining qty to a work field which will later on be updated to the original detail line); else, use the entire ship quantity of the original line to write the new detail line.</span><br /><span style="font-size: 10pt;"> 5.&nbsp;&nbsp;&nbsp; If RemainingQty (WF) &gt; 0 or SDSOBK != 0 or SDSOCN != 0, line should be split. (Use a work field to indicate line splitting or use best C technique)&nbsp;&nbsp; </span><br /><span style="font-size: 10pt;"> 6.&nbsp;&nbsp;&nbsp; If line splitting, save SDSOBK, SDSOCN, SDLNID, SDLTTR, SDNXTR, SDMCU, SDLOCN, SDCNID, SDADDJ, SDCARS, SDSO02, and SDLOTN to save fields.</span><br /><span style="font-size: 10pt;"> 7.&nbsp;&nbsp;&nbsp; If EV04-parm == '1',</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SDMCU = MCU-parm;</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SDLOCN = LOCN-parm;</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SDLOTN = LOTN-parm;</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp; : If updating to a different item location, use the branch, location, and lot passed</span><br /><span style="font-size: 10pt;"> 8.&nbsp;&nbsp;&nbsp; If line splitting, branch to the logic for splitting a sales detail line.</span><br /><span style="font-size: 10pt;"> 9.&nbsp;&nbsp;&nbsp; Execute the logic for adjusting the original sales detail line.</span></p>
<ul style="font-weight: bold; text-decoration: underline;">
<li><span style="font-size: 10pt;">Split Sales Detail Line</span></li>
</ul>
<p><span style="font-size: 10pt;">1. Zero out SDSOBK and SDSOCN.</span><br /><span style="font-size: 10pt;"> 2. Calculate the line number of the split line.</span></p>
<div style="margin-left: 40px;"><span style="font-size: 10pt;">a) If the line increment (RLLN-parm) is not passed,</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp; If SDRLIT == ' ',</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; default line increment to .01;</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp; else</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; default line increment to .1;</span><br /><span style="font-size: 10pt;"> b) If Increment From Line Number (LNID) in the parameter is zero,</span></div>
<p><span style="font-size: 10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; The new line number is the current line number plus the line increment (RLLN) passed.&nbsp; (i.e., SDLNID = SDLNID + RLLN)</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Calculate the new line number by adding the Kit Master Line Number and the line increment.&nbsp; (i.e., SDLNID = LNID + RLLN).</span><br /><span style="font-size: 10pt;"> 3. Validate against F4211 to make sure the new line number is unique.&nbsp; Use an existing business function.&nbsp; If not unique, repeat step 2b-3.</span><br /><span style="font-size: 10pt;"> 4. Using the original F4211 record as a copy, map all fields to a new F4211 record.&nbsp; (Use the best technique in C)</span><br /><span style="font-size: 10pt;"> 5.&nbsp; Assign the current line number (SDLNID) to LNID in the parameter data structure.</span><br /><span style="font-size: 10pt;"> 6. Call GetItemUOMConversionFactor and update the following fields:</span><br /><span style="font-size: 10pt;"> 7. If the Override Cost field (SDCSTO) != '1' and EV03=='1',</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp; a) Retrieve the unit cost by calling GetItemCost (XF4105.C)</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp; b) Then call GetItemCostInformation (XF4105.C) and free F4105 pointer after the call:</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp; c) If SDFUC != 0, use CurrencyConvForAndDom (B0000027.C) to convert domestic cost to foreign.</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Recalculate the extended cost if the quantity shipped has changed and this is not a kit component.</span><br /><span style="font-size: 10pt;"> 8. If (RemainingQty (WF) &gt; 0 and SDRLIT == ' ') or ((SDCSTO != '1' and EV03=='1') and SDRLIT == ' ')</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; a) If SDFUC != 0 and SDSOQS != 0, calculate the foreign extended cost using &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ComputeUnitOrExtendedAmount&nbsp;&nbsp;&nbsp; (B4002000.C)</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b) If SDSOQS != 0, calculate the domestic extended cost by calling ComputeUnitOrExtendedAmount (B4002000.C)</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : If the shipping amount of the new line is adjusted and this is not a kit component line, recalculate the price and cost extensions in foreign and domestic using the new ship quantity.</span><br /><span style="font-size: 10pt;"> 9. If RemainingQty (WF) &gt; 0 and SDSOQS != 0 and SDRLIT == ' '</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If SDFUP != 0</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Calculate the foreign extended price using ComputeUnitOrExtendedAmount &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </span><br /><span style="font-size: 10pt;"> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Calculate the domestic extended price by calling ComputeUnitOrExtendedAmount &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </span><br /><span style="font-size: 10pt;"> 10. SDLTTR = LTTR (override last status in input parameter).</span><br /><span style="font-size: 10pt;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :If an override next status is passed, validate it before using it.</span><br /><span style="font-size: 10pt;"> 11. If NXTR-parm != ' ' and NXTR-parm != SDNXTR then assign input parameter</span></p>
<div class="kmnotebox"><span style="font-size: 10pt;">Note:</span><br />
<ul>
<li><span style="font-size: 10pt;">Status code written above is general rule. In actual implementation can be vary.</span></li>
<li><span style="font-size: 10pt;">Part of this document is based on business function note which you can access through (Row Exit) Attachment in P98652 - [Business Function Search]</span></li>
<li><span style="font-size: 10pt;">Some parameter is not in use. This is to minimize sharing of memory by holding all the necessary information through data structure.</span></li>
<li><span style="font-size: 10pt;">If pointer is used, that pointer has to be destroyed in calling routine.</span></li>
</ul>
</div>
<p><span style="font-size: 10pt;">&nbsp;</span></p>
<hr />
<p><br /> <br /><span style="font-size: 10pt;"> This note is created based on E1 application release 9.1</span></p>
<p><span style="font-size: 10pt;">&nbsp;</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>




<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
