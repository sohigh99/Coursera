<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mailing Address in R43500 </title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>
        
      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Mailing Address in R43500 </h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<h2 class="km"><big><big><a name="section01"></a><span style="font-size: medium;"><BIG>Purpose of Document</BIG></span></big></big></h2>
<p>This document is to explain how to print out valid mailing name in R43500 (<em>Purchase Order Print</em>) to meet your business requirement.</p>



<!-- ======================================== Body Starts Here =================================== -->


<h3 class="km">--- Questions and Answers ---</h3>
<ul>
<li>Table of Contents:</li>
<ul>
<li><a href="#summary" alt="Summay on document" title="Summay on document">Summary</a></li>
<li><a href="#q1" alt="What are the report variables in printing purchase order" title="What are the report variables in printing purchase order">What are the report variables in printing Purchase Order?</a></li>
<li><a href="#q2" alt="Pre-Process Mailing Address" title="Pre-Process Mailing Address">Pre-process Mailing Address</a></li>
<li><a href="#q3" alt="when value from F4006 gets populated" title="when value from F4006 gets populated">When F4006 is populated per specific Purchase Order how it prints output value?</a></li>
<li><a href="#q4" alt="When F4006 is not to be populated?" title="When F4006 is not to be populated?">When F4006 is NOT populated how it prints output value?</a></li>
</ul>
</ul>
<p> </p>
<h3 class="km"><a name="summary"></a>Summary:</h3>
<p>To understand mailing address printing in <em>Purchase Order Print</em> (R43500) one main Business Function B4305231 - <em>F0116GetMailingAddressFormatLang </em>(Formatted Address - Language) has to be understood. This business function is cloned based on BSFN B0100021- <em>FormattedAddress</em> (Formatted Addresses Source File). <br /> Refer to &lt;Document 1157643.1&gt; E1: 40: Labeling/Formatting Mailing Address in EnterpriseOne to have better understanding on how B4305231 (F0116GetMailingAddressFormatLang, F0116 Get Mailing Address Format - Langauge) returns output based on a certain value determined.</p>
<div class="kmnotebox">Note:<br />
<ul>
<li>Currently B0100021 is for printing <em><strong>Print Invoice</strong></em> (R42565)</li>
<li>Whereas B4305231 is to be used in printing <strong><em>Purchase Order Print </em></strong>(R43500)</li>
<li>In R42565 State will be written as UDC (00/S) code itself, but State Description will be printed in R43500 supposed that SAR 8768743 (or relevant) is in place</li>
</ul>
</div>
<hr />
<p> </p>
<h3 class="km"><a name="q1"></a>What are the report variables in printing Purchase Order?</h3>
<p>Currently below report variable can be printed through R43500 (Print Purchase Order),</p>
<table class="km" style="width: 811px; height: 200px;" border="2" cellspacing="2" cellpadding="2">
<tbody>
<tr>
<th class="km" style="background-color: #009900; color: white; width: 118px;">Column</th>
<th class="km" style="background-color: #009900; color: white; width: 312px;">Report Variable</th>
<th class="km" style="background-color: #009900; color: white; width: 107px;">Column</th>
<th class="km" style="background-color: #009900; color: white; width: 447px;">Report Variable</th>
</tr>
<tr>
<td class="km" style="width: 118px;">Shipped From</td>
<td class="km" style="width: 312px;">Sold To</td>
<td class="km" style="width: 107px;">Ship To</td>
<td class="km" style="width: 447px;">Ship To</td>
</tr>
<tr>
<td class="km" style="width: 118px;"> </td>
<td class="km" style="width: 312px;">RV Sold To Address Line 1</td>
<td class="km" style="width: 107px;"> </td>
<td class="km" style="width: 447px;">RV Ship To Address Line 1</td>
</tr>
<tr>
<td class="km" style="width: 118px;"> </td>
<td class="km" style="width: 312px;">RV Sold To Address Line 2</td>
<td class="km" style="width: 107px;"> </td>
<td class="km" style="width: 447px;">RV Ship To Address Line 2</td>
</tr>
<tr>
<td class="km" style="width: 118px;"> </td>
<td class="km" style="width: 312px;">RV Sold To Address Line 3</td>
<td class="km" style="width: 107px;"> </td>
<td class="km" style="width: 447px;">RV Ship To Address Line 3</td>
</tr>
<tr>
<td class="km" style="width: 118px;"> </td>
<td class="km" style="width: 312px;">RV Sold To Address Line 4</td>
<td class="km" style="width: 107px;"> </td>
<td class="km" style="width: 447px;">RV Ship To Address Line 4</td>
</tr>
<tr>
<td class="km" style="width: 118px;"> </td>
<td class="km" style="width: 312px;">RV Sold To Address Line 5</td>
<td class="km" style="width: 107px;"> </td>
<td class="km" style="width: 447px;">RV Ship To Address Line 5</td>
</tr>
<tr>
<td class="km" style="width: 118px;"> </td>
<td class="km" style="width: 312px;">RV Sold To Address Line 6</td>
<td class="km" style="width: 107px;"> </td>
<td class="km" style="width: 447px;">RV Ship To Address Line 6</td>
</tr>
<tr>
<td style="width: 118px;" valign="top"> </td>
<td style="width: 312px;" valign="top">RV Sold To Address Line 7</td>
<td style="width: 107px;" valign="top"> </td>
<td style="width: 447px;" valign="top">RV Ship To Address Line 7</td>
</tr>
</tbody>
</table>
<p> </p>
<div class="kmnotebox">Note: Report Variables written above is to show relationship with various variables to be handled in below routine</div>
<hr />
<p> </p>
<h3 class="km"><a name="q2"></a>Pre-process Mailing Address</h3>
<p>Formatted Address can be acquired either through F4006 (<em>Order Address Information)</em> or through F0116 (<em>Address By Date)</em>. In printing Purchase Order, data from F4006/F0116 will be used before it calls B4305231. Unlike Print Invoice in Sales Order, Salutation, Attention is not to be utilized as only BSFN 0100067 has routine to print out these information. For further detail, please refer &lt;Document 1173464.1&gt; <em>E1: BSFN: Information on Business Function B0100067-Formatted Address With Who's Who</em><br /> <br /> In case you need to override <span style="text-decoration: underline;">Shipped From</span> and <span style="text-decoration: underline;">Ship To</span> mailing address for a specific order you have to override it through Purchase Order Header &gt; (Form Exit) <em>Order Addresses</em> by specifying Address Type either <em>Supplier</em> (F4006.ANTY ='1') or <em>Ship To</em> (F4006.ANTY ='2')<br /> <br /> Only two ANTY (Type- Address Number) are used in Procurement module, whereas in Sales, below types can be used,</p>
<ul>
<li>1 Sold-to Address Number (Sales Orders) Supplier Address Number (Purchase Orders)</li>
<li>2 Ship-to Address Number</li>
<li>5 Deliver To</li>
<li>6 Forward To</li>
<li>7 Invoice To</li>
</ul>
<p> </p>
<div class="kmnotebox">Note:<br />
<ul>
<li>Actual code and description in UDC (40|AN) may be different from actual implementation</li>
<li>New definition may not take effect as all the codes are hard coded through event rule of R42565 and BSFN B4006</li>
<li>B4305231 has additional parameter szLanguagePreference_LNGP which is Language preference for a specific Supplier (F4301.AN8). F0101.LNGP will be assigned to describe a specific State and Country Description</li>
</ul>
</div>
<p><br /> Then there are two different way to print out address one is based on order level (overridden) data from F4006 and the other one is based on F0116. For both cases, the way it calls B4305231 - F0116GetMailingAddressFormatLang (Formatted Address - Language) are same.</p>
<hr />
<p> </p>
<h3 class="km"><a name="q3"></a>When F4006 is populated per specific Purchase Order how it prints output value?</h3>
<ol>
<li>Get it through B4006 - <em>GetOrderAddress </em>(F4006 Get Order Address) which returns MLNM, ADD1, ADD2, ADD3, ADD4, ADDZ, CTY1, COUN, ADDS and CTR</li>
<li>Assign it and let B4305231 return formatted data</li>
</ol>
<div style="margin-left: 40px;">1st., <span style="font-weight: bold;">Get Order Address</span><br />
<div style="margin-left: 40px;"><span style="text-decoration: underline; color: red;">F4006 Get Order Address</span> (B4006 - GetOrderAddress)<br />    BC Document (Order No, Invoice, etc.) (F4301)(DOCO) -&gt; BF mnDocumentNumber<br />    BC Order Type (F4301)(DCTO) -&gt; BF szDocumentType<br />    BC Order Company (Order Number) (F4301)(KCOO) -&gt; BF szDocumentCompany<br />    "1" -&gt; BF cAddressNumberType  /* To indicate Supplier Number */<br />    RV Sold To (#1) &lt;- BF szMailingName<br />    RV Sold To Address Line 1 (#2) &lt;- BF szAddressLine1<br />    RV Sold To Address Line 2 (#3) &lt;- BF szAddressLine2<br />    RV Sold To Address Line 3 (#4) &lt;- BF szAddressLine3<br />    RV Sold To Address Line 4 (#5) &lt;- BF szAddressLine4<br />    VA sec_ADDZ_PostalCode (#6) &lt;- BF szPostalCode<br />    VA sec_CTY1_City (#7) &lt;- BF szCity<br />    VA sec_COUN_County (#8) &lt;- BF szCounty<br />    VA sec_ADDS_State (#9) &lt;- BF szState<br />    VA sec_CTR_Country (#10) &lt;- BF szCountry</div>
<br /> <br /> 2nd., <span style="font-weight: bold;">Mailing Address Format</span><br />
<div style="margin-left: 40px;"><span style="text-decoration: underline; color: red;">F0116 Get Mailing Address Format - Langauge</span> (B4305231 - F0116GetMailingAddressFormatLang)<br />    RV Sold To (#1) &lt;&gt; BF szNameMailing_MLNM<br />    RV Sold To Address Line 1 (#2) &lt;&gt; BF szAddressLine1_ADD1<br />    RV Sold To Address Line 2 (#3) &lt;&gt; BF szAddressLine2_ADD2<br />    RV Sold To Address Line 3 (#4) &lt;&gt; BF szAddressLine3_ADD3<br />    RV Sold To Address Line 4 (#5) &lt;&gt; BF szAddressLine4_ADD4<br />    RV Sold To Address Line 5 &lt;&gt; BF szAddressLine5_ADD5<br />    RV Sold To Address Line 6 &lt;&gt; BF szAddressLine6_ADD6<br />    RV Sold To Address Line 7 &lt;&gt; BF szAddressLine7_ADD7<br />    VA sec_CTY1_City (#7) -&gt; BF szCity_CTY1<br />    VA sec_ADDS_State (#9) -&gt; BF szState_ADDS<br />    VA sec_ADDZ_PostalCode (#6) -&gt; BF szZipCodePostal_ADDZ<br />    VA sec_CTR_Country (#10) -&gt; BF szCountry_CTR<br />    VA sec_COUN_County (#8) -&gt; BF szCountyAddress_COUN<br />    VA rpt_szLanguagePreference_LNGP -&gt; BF szLanguagePreference_LNGP<br />    -&gt; BF mnAddressNumber_AN8</div>
</div>
<p> </p>
<div class="kmnotebox">Note: Same routine will be used when in printing Ship To. In this case, only difference is F4006.ANTY which is to be '2 - Ship To'</div>
<hr />
<p> </p>
<h3 class="km"><a name="q4"></a>When F4006 is NOT populated how it prints output value?</h3>
<ol>
<li>Get MLNM, ADD1, ADD2, ADD3, ADD4, ADDZ, CTY1, COUN, ADDS and CTR through table I/O from F0111 - <em>Address Book - Who's Who</em> and F0116 - Address By Date</li>
<li>Assign it and let B4305231 return formatted data</li>
</ol>
<ul>
<li>Get Mailing Name from F0111.MLNM through BSFN B0100031 - GetMailingName (F0111 Get Mailing Name)</li>
<li>Get column values of ADD1, ADD2, ADD3, ADD4, ADDZ, CTY1, COUN, ADDS and CTR from F0116. To get the latest address information it compares F0116.EFTB (Date - Beginning Effective) with F4301.TRDJ (Date - Order/Transaction), then retrieve the latest data (F0116.EFTB should not be greater than Order Date but most recent one)</li>
</ul>
<p> </p>
<div class="kmnotebox">Note:  F0009.EFS (Date Effective Addresses 0/1): Through <em>Address Book Constants</em> (P0000) Mailing Address can be maintained per effective date. At once you turn on this parameter, F0101.EFTB (Date - Beginning Effective) is to be populated which can retrieve data from Address By Date (F0116) based on this date</div>
<p>Detail Routine:</p>
<ul>
<li>1st., To get mailing name from F0111:</li>
<ul>
<li>F0111 Get Mailing Name</li>
<ul>
<li>BC Address Number (F4301)(AN8) -&gt; BF mnAddressNumber</li>
<li>VA rpt_szSoldToNameMailing_MLNM (#1 F0111.MLNM) &lt;- BF szNameMailing</li>
</ul>
</ul>
</ul>
<ul>
<li>2nd., To get most recent mailing address from F0116:</li>
<ul>
<li>F0116.Select</li>
<ul>
<li>  BC Address Number (F4301)(AN8) = TK Address Number</li>
</ul>
<li>F0116.Fetch Next</li>
<ul>
<li>  BC Address Number (F4301)(AN8) &lt;- TK Address Number</li>
<li>  VA evt_Temp_ADD1 (#2 F0116.ADD1) &lt;- TK Address Line 1</li>
<li>  VA evt_Temp_ADD2 (#3 F0116.ADD2) &lt;- TK Address Line 2</li>
<li>  VA evt_Temp_ADD3 (#4 F0116.ADD3) &lt;- TK Address Line 3</li>
<li>  VA evt_Temp_ADD4 (#5 F0116.ADD4) &lt;- TK Address Line 4</li>
<li>  VA evt_Temp_ADDZ (#6 F0116.ADDZ) &lt;- TK Postal Code</li>
<li>  VA evt_Temp_CTY1 (#7 F0116.CTY1) &lt;- TK City</li>
<li>  VA sec_COUN_County (#8 F0116.COUN) &lt;- TK County</li>
<li>  VA evt_Temp_ADDS (#9 F0116.ADDS) &lt;- TK State</li>
<li>  VA sec_CTR_Country (#10 F0116.CTR) &lt;- TK Country</li>
</ul>
</ul>
</ul>
<ul>
<li>3rd., Assign variables (temporary repository - change of sequence and so on)</li>
<ul>
<li>  VA rpt_szSoldToAddressLine1_TAD1 = VA evt_Temp_ADD1 (#2)</li>
<li>  VA rpt_szSoldToAddressLine2_TAD1 = VA evt_Temp_ADD2 (#3)</li>
<li>  VA rpt_szSoldToAddressLine3_TAD1 = VA evt_Temp_ADD3 (#4)</li>
<li>  VA rpt_szSoldToAddressLine4_TAD1 = VA evt_Temp_ADD4 (#5)</li>
<li>  VA sec_CTY1_City = VA evt_Temp_CTY1 (#7)</li>
<li>  VA sec_ADDS_State = VA evt_Temp_ADDS (#9)</li>
<li>  VA sec_ADDZ_PostalCode = VA evt_Temp_ADDZ (#6)</li>
</ul>
</ul>
<ul>
<li>4th., Format output based on information given (#1 through #10):</li>
<ul>
<li style="font-weight: bold; color: red;">F0116 Get Mailing Address Format - Langauge</li>
<ul>
<li>   VA rpt_szSoldToNameMailing_MLNM (#1) &lt;&gt; BF szNameMailing_MLNM</li>
<li>   VA rpt_szSoldToAddressLine1_TAD1 (#2) &lt;&gt; BF szAddressLine1_ADD1</li>
<li>   VA rpt_szSoldToAddressLine2_TAD1 (#3) &lt;&gt; BF szAddressLine2_ADD2</li>
<li>   VA rpt_szSoldToAddressLine3_TAD1 (#4) &lt;&gt; BF szAddressLine3_ADD3</li>
<li>   VA rpt_szSoldToAddressLine4_TAD1 (#5) &lt;&gt; BF szAddressLine4_ADD4</li>
<li>   VA rpt_szSoldToAddressLine5_TAD1 &lt;&gt; BF szAddressLine5_ADD5</li>
<li>   VA rpt_szSoldToAddressLine6_TAD1 &lt;&gt; BF szAddressLine6_ADD6</li>
<li>   VA rpt_szSoldToAddressLine7_TAD1 &lt;&gt; BF szAddressLine7_ADD7</li>
<li>   VA sec_CTY1_City (#7) -&gt; BF szCity_CTY1</li>
<li>   VA sec_ADDS_State (#9) -&gt; BF szState_ADDS</li>
<li>   VA sec_ADDZ_PostalCode (#6) -&gt; BF szZipCodePostal_ADDZ</li>
<li>   VA sec_CTR_Country (#10) -&gt; BF szCountry_CTR</li>
<li>   VA sec_COUN_County (#8) -&gt; BF szCountyAddress_COUN</li>
<li>   VA rpt_szLanguagePreference_LNGP -&gt; BF szLanguagePreference_LNGP</li>
<li>   BC Address Number (F4301)(AN8) -&gt; BF mnAddressNumber_AN8</li>
</ul>
</ul>
</ul>
<ul>
<li>5th., Assign value to output variable to print it out</li>
<ul>
<li>  RV Sold To = VA rpt_szSoldToNameMailing_MLNM</li>
<li>  RV Sold To Address Line 1 = VA rpt_szSoldToAddressLine1_TAD1</li>
<li>  RV Sold To Address Line 2 = VA rpt_szSoldToAddressLine2_TAD1</li>
<li>  RV Sold To Address Line 3 = VA rpt_szSoldToAddressLine3_TAD1</li>
<li>  RV Sold To Address Line 4 = VA rpt_szSoldToAddressLine4_TAD1</li>
<li>  RV Sold To Address Line 5 = VA rpt_szSoldToAddressLine5_TAD1</li>
<li>  RV Sold To Address Line 6 = VA rpt_szSoldToAddressLine6_TAD1</li>
<li>  RV Sold To Address Line 7 = VA rpt_szSoldToAddressLine7_TAD1</li>
</ul>
</ul>
<p> </p>
<div class="kmnotebox">Note: <br />
<ul>
<li>The way it gets Ship To Address are identical the routines of Sold To (or Supplier)</li>
<li>From above routine C and E can be skipped not to create too many variables</li>
</ul>
</div>
<hr />


<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
