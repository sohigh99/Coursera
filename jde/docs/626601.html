<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Flat File Encoding Configuration P93081 starting with EnterpriseOne 8.9</title>
<!--     <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css"> -->
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>

    <style>
      body {
        font-family: "Segoe UI", Calibri, Arial, Helvetica, sans-serif;
/*        background-color: #FFFAFA;*/
/*        font-size: 14px;*/
      }

      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;*/
        border: none;
        outline: none;
        background-color: #2F4F4F;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }

      #myBtn:hover {
        background-color: #555;
      }
        .kmnotebox {
        background-color: #FFFFE0;
        border-left: 10px;
        /*border-style: dotted;*/
      }

      .kmcodeblock {
        background-color: #B0E0E6;
        border-left: 10px;
        margin-left: 2%;
        /*border-style: dotted;*/
      }

      
    </style>

  </head>


<body>
  <header>
    <nav id="header-nav" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="pull-left visible-md visible-lg">
            <div id="logo-img"></div>
          </a>

          <div class="navbar-brand">
            <a href="../index.html"><h1>Home Page!</h1></a>
          </div>

<!--           <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form> -->

        </div>

      </div><!-- .container -->
    </nav><!-- #header-nav -->
  </header>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<div style="background-color:#2F4F4F;color:white;padding:0px"><h1>Flat File Encoding Configuration P93081 starting with EnterpriseOne 8.9</h1></div>
<!-- <div style="background-color:lightgrey;padding:30px 30px 2500px">This example demonstrates how to create a "scroll to top" button that becomes visible when the user starts to scroll the page.</div> -->

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("myBtn").style.display = "block";
  } else {
    document.getElementById("myBtn").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</body>


<!-- <h1 class="km"><big><big><a name="subtitle"></a><span style="font-size: large;"><BIG>Caching in EnterpriseOne</BIG></span></big></big></h1> -->
<!-- ================================= Purpose of Document ================================== -->

<table><tr><td width='0'></td><td><A HREF="#PURPOSE">Purpose</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#SCOPE">Scope</A></td></tr></table>
<table><tr><td width='0'></td><td><A HREF="#BODYTEXT">Details</A></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section31">Overview</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section32">Processing</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section33">P93081 Unicode Flat File Encoding Configuration</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section34">Defining a Character Set</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section35">To activate and deactivate the flat file encoding record</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section36">Flat File Encoding Set up by Role</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section37">Identify the flat file encoding used by the Interactive or Batch application</a></td></tr></table>
<table><tr><td width=20>&nbsp;</td><td><a href="#aref_section38">No Active Flat File Encoding set up in P93081</a></td></tr></table>
<hr size=1><p>


<H2 class=km><A NAME="PURPOSE"></A>Purpose</H2>
<p>All data, in release starting 8.9 and later, is represented with Unicode. Unicode, in the simplest terms, is a character set that supports all written languages. Computers today can only support one character set at a time, but Unicode allows all languages to co-exist in a single instance of software. In the past, without Unicode, multiple software instances were required to support multiple languages.</p>
<p>Starting with EnterpriseOne 8.9, Unicode is expected as the default encoding for flat file. Table Conversion, UBE, Business Function uses Unicode when involving with flat text files. A conversion may be necessary when reading and writing flat files. This is due to the fact that while EnterpriseOne is capable of handling Unicode file the correct character set must still be defined. There may be business requirements to generate flat files in specified encodings. For examples, CSV files sent to BANKs may be required to specific encoding standard. Same applies for reading flat files received from other systems.</p>
<p>This document discusses this functionality and ways to use different encoding like ASCII, IBM-37, UTF-8 etc.</p>
<H2 class=km><A NAME="SCOPE"></A>Scope</H2>
<p>This document is intended for the EnterpriseOne CNC system administrator or power user.</p>
<H2 class=km><A NAME="BODYTEXT"></A>Details</H2>
<a name="aref_section31"></a><h3 class="km">Overview</h3>
<p>Starting with EnterpriseOne 8.9, all data will now be represented with Unicode. Unicode, in the simplest terms, is a character set that supports all written languages. Computers today can only support one character set at a time, but Unicode allows all languages to co-exist in a single instance of software. In the past, without Unicode, multiple software instances were required to support multiple languages.</p>
<a name="aref_section32"></a><h3 class="km">Processing</h3>
<p>A conversion may be necessary when reading and writing flat files. This is due to the fact that while EnterpriseOne 8.9 is capable of handling Unicode file the correct character set must still be defined. This enhancement provides application P93081 that provides a mechanism to control this conversion to allow the reading and writing of flat files in a given character set as defined in P93081. Due to the fact that EnterpriseOne uses Unicode and not all third-party software does, there is a process handled though an API that will determine if an inbound or outbound flat file will need to have the character set changed. During this process the software converts the flat file into the Unicode character set or back into the original character set. In the jdeCallObject API there is a parameter called LpBhvrCom that contains information to query the Unicode Flat File Encoding Configuration table (F93081) for the flat file encoding. This table is populated and configured by the Unicode Flat File Encoding Configuration program (P93081). You can assign the conversion character set applied to a flat file based on the user or role, the environment, the program id and version. This can be done by activating a flat file encoding record.</p>
<a name="aref_section33"></a><h3 class="km">P93081 Unicode Flat File Encoding Configuration</h3>
<p>Using the Unicode Flat File Configuration application P93081, you create records for a table that specifies what character sets are used for programs based on the user or role, program ID, program version, and the environment. When the intercepting occurs the intercept program calls the table, searches it and applies the record.<br /><br />The primary users for Unicode Flat File Encoding Configuration are power users and system administrators. <br /><br />Before setting up a flat file encoding record you need to know the encoding of the flat file being transferred. You also need to know the user or role, program, program version, and environment that is calling the flat file. To ensure that all files are encoded to your primary character set set up a default flat file encoding record for your primary character set and then any exceptions. The system applies the more specific records before the more general records. The default record is only used if no other records apply to the incoming flat file. <br /><br />The following list shows the character set currently supported and they can be found in UDC H95/FE.</p>
<table class="km" style="width: 70%;" border="1" cellspacing="1" cellpadding="1">
<tbody>
<tr>
<th class="km" style="width: 50%;">Encoding Name</th>
<th class="km" style="width: 50%;">Description</th>
</tr>
<tr>
<td class="km" style="width: 50%;">BIG5</td>
<td class="km" style="width: 50%;">Chinese, Traditional</td>
</tr>
<tr>
<td class="km" style="width: 50%;">CP1250</td>
<td class="km" style="width: 50%;">WIN-Latin2, Central Europe</td>
</tr>
<tr>
<td class="km" style="width: 50%;">CP1251</td>
<td class="km" style="width: 50%;">WIN-Cyrillic</td>
</tr>
<tr>
<td class="km" style="width: 50%;">CP1252</td>
<td class="km" style="width: 50%;">WIN-Latin 1, Western European (ANSI/ASCII)</td>
</tr>
<tr>
<td class="km" style="width: 50%;">CP1253</td>
<td class="km" style="width: 50%;">WIN-Greek</td>
</tr>
<tr>
<td class="km" style="width: 50%;">CP1254</td>
<td class="km" style="width: 50%;">WIN-Latin5, Turkish</td>
</tr>
<tr>
<td class="km" style="width: 50%;">CP1256</td>
<td class="km" style="width: 50%;">WIN-Arabic</td>
</tr>
<tr>
<td class="km" style="width: 50%;">GB18030 (starting from tools release 9.1)</td>
<td class="km" style="width: 50%;">Chinese, National Standard</td>
</tr>
<tr>
<td class="km" style="width: 50%;">GB2312</td>
<td class="km" style="width: 50%;">Chinese, Simplified</td>
</tr>
<tr>
<td class="km" style="width: 50%;">IBM-1123</td>
<td class="km" style="width: 50%;">EBCDIC-Cyrillic</td>
</tr>
<tr>
<td class="km" style="width: 50%;">IBM-37</td>
<td class="km" style="width: 50%;">EBCDIC-Latin 1 or Western Euro</td>
</tr>
<tr>
<td class="km" style="width: 50%;">IBM-420</td>
<td class="km" style="width: 50%;">EBCDIC-Arabic</td>
</tr>
<tr>
<td class="km" style="width: 50%;">IBM-858</td>
<td class="km" style="width: 50%;"># PC latin1 with Euro</td>
</tr>
<tr>
<td class="km" style="width: 50%;">IBM-933</td>
<td class="km" style="width: 50%;">EBCDIC-Korean</td>
</tr>
<tr>
<td class="km" style="width: 50%;">IBM-935</td>
<td class="km" style="width: 50%;">EBCDIC-Simplified Chinese</td>
</tr>
<tr>
<td class="km" style="width: 50%;">IBM-937</td>
<td class="km" style="width: 50%;">EBCDIC-Traditional Chinese</td>
</tr>
<tr>
<td class="km" style="width: 50%;">IBM-939</td>
<td class="km" style="width: 50%;">EBCDIC-Japanese</td>
</tr>
<tr>
<td class="km" style="width: 50%;">KSC-5601</td>
<td class="km" style="width: 50%;">Korean</td>
</tr>
<tr>
<td class="km" style="width: 50%;">SHIFT_JIS</td>
<td class="km" style="width: 50%;">WIN-Japanese</td>
</tr>
<tr>
<td class="km" style="width: 50%;">UCS2</td>
<td class="km" style="width: 50%;">UTF16_BE / UTF16_LE (dependent on Server platform)</td>
</tr>
<tr>
<td class="km" style="width: 50%;">UTF-16BE</td>
<td class="km" style="width: 50%;">UTF-16BE</td>
</tr>
<tr>
<td class="km" style="width: 50%;">UTF-16LE</td>
<td class="km" style="width: 50%;">UTF-16LE</td>
</tr>
<tr>
<td class="km" style="width: 50%;">UTF8</td>
<td class="km" style="width: 50%;">UTF8</td>
</tr>
</tbody>
</table>
<p> </p>
<div class="kmnotebox">
<p><strong>Note</strong> that to produce output file in CP1252 or in an encoding that uses only 7 or 8 bits, if you have Japanese character or Chinese character or characters that need multi bytes, they will be replaced by hex value 1A and you will see it as (SUB) in the text file.<br />Notepad++ cannot differentiate whether a file is in CP1252 or UTF8, because JDE does not create files with BOM. Because of this, both file types look the same for notepad++. When there is no double/multi byte character, both UTF8 and CP1252 file types are identical. When there are multi byte characters, CP1252 will show (SUB). Hence the selected encoding in notepad++ or the ASCII vs UTF8 options which appear while saving a text file, are not full proof evidence of file encoding .<br />See <a href="https://en.wikipedia.org/wiki/UTF-8" alt="wiki" title="wiki" target="_blank">https://en.wikipedia.org/wiki/UTF-8</a></p>
</div>
<p> </p>
<p> </p>
<hr />
<a name="aref_section34"></a><h3 class="km">Defining a Character Set</h3>
<p>In order to define a character set that is applied to a flat file during the intercept process, you need to add a flat file encoding record. You can add flat file encoding file based on the user/role, environment, program id and version. After you add the flat file encoding record, you must activate it. <br /><br />From the System Administration Tools task view choose Unicode Flat File Encoding Configuration (P93081)</p>
<ol>
<li>On Work With Flat File Encoding form, click Add</li>
<li>On Flat File Encoding Revisions form, complete the following fields and then click the OK button :</li>
<ol>
<li>User/Role</li>
<ul>
<li>The default user/role is *PUBLIC, which includes all users. By specifying a user or role, you can limit flat file encoding to only programs running under that user or role.</li>
</ul>
<li>Environment</li>
<ul>
<li>The default environment is *ALL which applies the character set encoding to all environments. By specifying an environment you can limit the flat file encoding to only programs under that environment.</li>
</ul>
<li>Program ID</li>
<ul>
<li>The Program ID identifies the batch or interactive application to which to apply the flat file encoding. The default value is *DEFAULT which applies flat file encoding to all programs.</li>
</ul>
<li>Version</li>
<ul>
<li>A version is a set of user defined specifications that determines how a batch or interactive application runs. A program version identifies the batch or interactive application version to which to apply the flat file encoding. The default version is *DEFAULT which applies the flat file encoding file to all versions.</li>
</ul>
<li>Encoding Name</li>
<ul>
<li>The encoding name identifies the character set used by the incoming or outgoing flat file. You must specify an encoding name.</li>
</ul>
</ol>
</ol>
<p>After adding the flat file encoding record you must activate it before it will be applied to incoming and outgoing flat files.</p>
<a name="aref_section35"></a><h3 class="km">To activate and deactivate the flat file encoding record</h3>
<ol>
<li>On the Work With Flat File Encoding form, click Find to display the flat file encoding records.</li>
<li>Highlight the flat file encoding record to activate or deactivate.</li>
<li>From the Row menu, choose Change Status.</li>
<ul>
<li>The status of the flat file encoding record becomes active (AV) or inactive (NA).</li>
</ul>
</ol>
<hr />
<a name="aref_section36"></a><h3 class="km">Flat File Encoding Set up by Role</h3>
<p>Flat file encoding by Role does not function until tools release 8.98.1.2 where the functionality was fixed via Bug 10988453 Flat File Encoding by Role.<br /><br />When the user signs in :</p>
<ul>
<li>With a Specific role</li>
</ul>
<blockquote>The active flat file encoding record found for the specific role is used.</blockquote>
<ul>
<li>With *ALL role</li>
</ul>
<blockquote>If there is only 1 role included in *ALL, the active flat file encoding record found for that role is used. <br /><br />If there are active flat file records for the multiple roles included in *ALL, the record for the role with the Higher role sequence is used.</blockquote>
<hr />
<a name="aref_section37"></a><h3 class="km">Identify the flat file encoding used by the Interactive or Batch application</h3>
<p>A message about the flat file encoding used is written in the jdedebug log file when logging is turned on for the interactive or batch application. <br /><br />Sample messages :</p>
<div class="kmcodeblock" style="width: 95%;"><span class="kmfixedwidthfont">Encoding AAA found in cache for user XXX environment YYY, application ZZZ, version VVV.<br /><br />No encoding found for user XXX environment YYY, application ZZZ, version VVV, use UCS2 (utf-16be).<br /><br />No encoding found for user XXX environment YYY, application ZZZ, version VVV, use UCS2 (utf-16le).</span></div>
<p> </p>
<hr />
<p><a name="NoActiveEncoding"></a></p>
<a name="aref_section38"></a><h3 class="km">No Active Flat File Encoding set up in P93081</h3>
<p>If no Active flat file encoding record is found, the table conversion engine applies the default encoding UCS2 ( UTF16_BE or UTF16_LE dependent on the server platform), which is a Unicode character set.<br /><br />If the flat file data encoding does not match the P93081 flat file encoding, the table conversion engine generates one or more of the errors below:<br /><br />Table Conversion Error Codes</p>
<ul>
<li>TCE009186 - Value zzz of column xxx in format yyy exceeds length in column definition</li>
<li>TCE009013 - Invalid data in column xxx, could not convert data</li>
<li>TCE009018 - Missing delimiter after column xxx in format yyy</li>
<li>TCE009048 - Unknown EVDT of DSOBJTYPE_DSMEMBER.</li>
</ul>
<hr />





<!-- ======================================== End of Body ==================================== -->

  <footer class="panel-footer">
    <div class="container">
      <div class="row">
        <section id="pagebottom" class="pagebottom">
          <!-- <p>"Click Top button to go back to the top"</p> -->
          <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
          <form>
            <input type="button" value="Go back!" onclick="history.back()">
          </form>
        </section>
      </div>
      <div class="text-center">&copy; Copyright Dong's Page 2019</div>
    </div>
  </footer>

  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>
